(window.webpackJsonp=window.webpackJsonp||[]).push([[33,42],{F48D:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var n=a("mrSG"),c=a("LBBb"),o=a("8Y7J"),i=a("iELJ");let r=(()=>{class t{constructor(t){this.dialog=t}open(t,e=""){return Object(n.a)(this,void 0,void 0,(function*(){return this.dialog.open(c.a,{width:"290px",data:{title:t,content:e}}).afterClosed().toPromise()}))}}return t.\u0275fac=function(e){return new(e||t)(o.bc(i.b))},t.\u0275prov=o.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},LBBb:function(t,e,a){"use strict";a.d(e,"a",(function(){return l}));var n=a("iELJ"),c=a("8Y7J"),o=a("SVse"),i=a("Dxy4"),r=a("TSSN");function s(t,e){if(1&t&&(c.Xb(0,"div"),c.Xb(1,"h2",1),c.Sc(2),c.Wb(),c.Sb(3,"mat-dialog-content",2),c.Xb(4,"mat-dialog-actions"),c.Xb(5,"button",3),c.Sc(6),c.kc(7,"translate"),c.Wb(),c.Xb(8,"button",4),c.Sc(9),c.kc(10,"translate"),c.Wb(),c.Wb(),c.Wb()),2&t){const t=c.jc();c.Fb(2),c.Tc(t.data.title),c.Fb(1),c.rc("innerHTML",t.data.content,c.Hc),c.Fb(2),c.rc("mat-dialog-close",!0),c.Fb(1),c.Tc(c.lc(7,6,"OK")),c.Fb(2),c.rc("mat-dialog-close",!1),c.Fb(1),c.Tc(c.lc(10,8,"Cancel"))}}let l=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(n.h),c.Rb(n.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["os-prompt-dialog"]],decls:1,vars:1,consts:[[4,"ngIf"],["mat-dialog-title",""],[3,"innerHTML"],["mat-button","","color","warn",3,"mat-dialog-close"],["mat-button","",3,"mat-dialog-close"]],template:function(t,e){1&t&&c.Qc(0,s,11,10,"div",0),2&t&&c.rc("ngIf",e.data)},directives:[o.t,n.i,n.f,n.c,i.b,n.d],pipes:[r.j],encapsulation:2}),t})()},gqBz:function(t,e,a){"use strict";a.r(e),a.d(e,"StatuteParagraphModule",(function(){return kt}));var n=a("SVse"),c=a("PCNd"),o=a("iInd"),i=a("gjbj"),r=a("1NkQ"),s=a("8Y7J"),l=a("TSSN");let b=(()=>{class t{constructor(t,e){this.csvExport=t,this.translate=e}exportStatutes(t){this.csvExport.export(t,[{property:"title"},{property:"text"}],this.translate.instant("Statute")+".csv")}exportDummyCSV(){const t=`${this.translate.instant("Statute")}-${this.translate.instant("example")}.csv`;this.csvExport.dummyCSVExport(["Title","Text"],[["\xa71","This is the first section"],["\xa71, A 3","This is another important aspect"],["\xa72","Yet another"]],t)}}return t.\u0275fac=function(e){return new(e||t)(s.bc(r.a),s.bc(l.k))},t.\u0275prov=s.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var u=a("mrSG"),m=a("Mluu"),d=a("E2rH"),p=a("04cA"),f=a("+sDk"),h=a("zHaW");let g=(()=>{class t extends d.a{constructor(t,e,a,n){super(e,a,n),this.repo=t,this.errorList={Duplicates:"A statute with this title already exists."},this.requiredHeaderLength=2,this.expectedHeader=["title","text"]}clearData(){}mapData(t){const e=new p.a(new p.a),a=Math.min(this.expectedHeader.length,t.length);for(let c=0;c<a;c++)switch(this.expectedHeader[c]){case"title":e.title=t[c];break;case"text":e.text=t[c]}const n=this.repo.getViewModelList().some(t=>t.title===e.title);return{newEntry:e,hasDuplicates:n,status:n?"error":"new",errors:n?["Duplicates"]:[]}}doImport(){return Object(u.a)(this,void 0,void 0,(function*(){for(const t of this.entries)"new"===t.status&&(yield this.repo.create(t.newEntry),t.status="done");this.updatePreview()}))}}return t.\u0275fac=function(e){return new(e||t)(s.bc(m.a),s.bc(l.k),s.bc(f.a),s.bc(h.a))},t.\u0275prov=s.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var v=a("cUpR"),S=a("mksl"),W=a("PDjf"),X=a("Dxy4"),k=a("Q2Ze"),F=a("ZTz/"),w=a("IZUe"),x=a("UhP/"),T=a("OaSA"),E=a("LUZP"),I=a("Tj54"),C=a("ZFy/");function y(t,e){if(1&t){const t=s.Yb();s.Xb(0,"button",16),s.fc("click",(function(){return s.Gc(t),s.jc().doImport()})),s.Xb(1,"span",17),s.Sc(2),s.kc(3,"translate"),s.Wb(),s.Wb()}2&t&&(s.Fb(2),s.Tc(s.lc(3,1,"Import")))}function M(t,e){if(1&t&&(s.Xb(0,"mat-option",18),s.Sc(1),s.kc(2,"translate"),s.Wb()),2&t){const t=e.$implicit;s.rc("value",t.value),s.Fb(1),s.Uc(" ",s.lc(2,2,t.label)," ")}}function j(t,e){if(1&t&&(s.Xb(0,"mat-option",18),s.Sc(1),s.kc(2,"translate"),s.Wb()),2&t){const t=e.$implicit;s.rc("value",t.value),s.Fb(1),s.Uc(" ",s.lc(2,2,t.label)," ")}}function B(t,e){if(1&t&&(s.Xb(0,"mat-option",18),s.Sc(1),s.kc(2,"translate"),s.Wb()),2&t){const t=e.$implicit;s.rc("value",t.value),s.Fb(1),s.Uc(" ",s.lc(2,2,t.label)," ")}}function Q(t,e){if(1&t&&(s.Xb(0,"div"),s.Sc(1," \xa0 "),s.Xb(2,"mat-icon",36),s.Sc(3,"playlist_add"),s.Wb(),s.Xb(4,"span"),s.Sc(5),s.Wb(),s.Xb(6,"span"),s.Sc(7),s.kc(8,"translate"),s.Wb(),s.Wb()),2&t){const t=s.jc(2);s.Fb(5),s.Uc("\xa0",t.newCount,"\xa0"),s.Fb(2),s.Tc(s.lc(8,2,"statute paragraphs(s) will be imported."))}}function P(t,e){if(1&t&&(s.Xb(0,"div",37),s.Sc(1," \xa0 "),s.Xb(2,"mat-icon",36),s.Sc(3,"warning"),s.Wb(),s.Xb(4,"span"),s.Sc(5),s.Wb(),s.Xb(6,"span"),s.Sc(7),s.kc(8,"translate"),s.Wb(),s.Wb()),2&t){const t=s.jc(2);s.Fb(5),s.Uc("\xa0",t.nonImportableCount,"\xa0"),s.Fb(2),s.Tc(s.lc(8,2,"entries will be ommitted."))}}function D(t,e){if(1&t&&(s.Xb(0,"div",38),s.Sc(1," \xa0 "),s.Xb(2,"mat-icon",36),s.Sc(3,"done"),s.Wb(),s.Xb(4,"span"),s.Sc(5),s.Wb(),s.Xb(6,"span"),s.Sc(7),s.kc(8,"translate"),s.Wb(),s.Wb()),2&t){const t=s.jc(2);s.Fb(5),s.Uc("\xa0",t.doneCount,"\xa0"),s.Fb(2),s.Tc(s.lc(8,2,"statute paragraphs have been imported."))}}function R(t,e){1&t&&(s.Xb(0,"div"),s.Xb(1,"span"),s.Sc(2),s.kc(3,"translate"),s.Wb(),s.Wb()),2&t&&(s.Fb(2),s.Tc(s.lc(3,1,'After verifiy the preview click on "import" please (see top right).')))}function U(t,e){if(1&t){const t=s.Yb();s.Xb(0,"mat-select",39),s.fc("valueChange",(function(e){return s.Gc(t),s.jc(2).shown=e}))("selectionChange",(function(){return s.Gc(t),s.jc(2).setFilter()})),s.Xb(1,"mat-option",40),s.Sc(2),s.kc(3,"translate"),s.Wb(),s.Xb(4,"mat-option",41),s.Sc(5),s.kc(6,"translate"),s.Wb(),s.Xb(7,"mat-option",42),s.Sc(8),s.kc(9,"translate"),s.Wb(),s.Wb()}if(2&t){const t=s.jc(2);s.rc("value",t.shown),s.Fb(2),s.Tc(s.lc(3,4,"Show all")),s.Fb(3),s.Tc(s.lc(6,6,"Show errors only")),s.Fb(3),s.Tc(s.lc(9,8,"Show correct entries"))}}function O(t,e){1&t&&s.Sb(0,"mat-header-cell",43)}function L(t,e){if(1&t&&(s.Xb(0,"div"),s.Xb(1,"mat-icon",44),s.kc(2,"translate"),s.Sc(3),s.Wb(),s.Wb()),2&t){const t=s.jc().$implicit,e=s.jc(2);s.Fb(1),s.uc("matTooltip","",t.errors.length," ",s.lc(2,3,"errors"),""),s.Fb(2),s.Uc(" ",e.getActionIcon(t)," ")}}function V(t,e){if(1&t&&(s.Xb(0,"div"),s.Xb(1,"mat-icon",45),s.kc(2,"translate"),s.Sc(3),s.Wb(),s.Wb()),2&t){const t=s.jc().$implicit,e=s.jc(2);s.Fb(1),s.sc("matTooltip",s.lc(2,2,"Statute paragraph will be imported")),s.Fb(2),s.Uc(" ",e.getActionIcon(t)," ")}}function H(t,e){if(1&t&&(s.Xb(0,"div"),s.Xb(1,"mat-icon",45),s.kc(2,"translate"),s.Sc(3),s.Wb(),s.Wb()),2&t){const t=s.jc().$implicit,e=s.jc(2);s.Fb(1),s.sc("matTooltip",s.lc(2,2,"Statute paragraph has been imported")),s.Fb(2),s.Uc(" ",e.getActionIcon(t)," ")}}function G(t,e){if(1&t&&(s.Xb(0,"mat-cell",43),s.Qc(1,L,4,5,"div",20),s.Qc(2,V,4,4,"div",20),s.Qc(3,H,4,4,"div",20),s.Wb()),2&t){const t=e.$implicit;s.Fb(1),s.rc("ngIf","error"===t.status),s.Fb(1),s.rc("ngIf","new"===t.status),s.Fb(1),s.rc("ngIf","done"===t.status)}}function Y(t,e){1&t&&(s.Xb(0,"mat-header-cell"),s.Sc(1),s.kc(2,"translate"),s.Wb()),2&t&&(s.Fb(1),s.Tc(s.lc(2,1,"Title")))}function A(t,e){if(1&t&&(s.Xb(0,"mat-icon",47),s.kc(1,"translate"),s.Sc(2," warning "),s.Wb()),2&t){const t=s.jc(3);s.sc("matTooltip",s.lc(1,1,t.getVerboseError("Title")))}}function $(t,e){if(1&t&&(s.Xb(0,"mat-cell"),s.Qc(1,A,3,3,"mat-icon",46),s.Sc(2),s.Wb()),2&t){const t=e.$implicit,a=s.jc(2);s.Fb(1),s.rc("ngIf",a.hasError(t,"Title")),s.Fb(1),s.Uc(" ",t.newEntry.title," ")}}function _(t,e){1&t&&(s.Xb(0,"mat-header-cell"),s.Sc(1),s.kc(2,"translate"),s.Wb()),2&t&&(s.Fb(1),s.Tc(s.lc(2,1,"Text")))}function N(t,e){if(1&t&&(s.Xb(0,"mat-icon",47),s.kc(1,"translate"),s.Sc(2," warning "),s.Wb()),2&t){const t=s.jc(3);s.sc("matTooltip",s.lc(1,1,t.getVerboseError("Text")))}}function q(t,e){if(1&t&&(s.Xb(0,"mat-cell",45),s.Qc(1,N,3,3,"mat-icon",46),s.Sc(2),s.Wb()),2&t){const t=e.$implicit,a=s.jc(2);s.sc("matTooltip",a.getLongPreview(t.newEntry.text)),s.Fb(1),s.rc("ngIf",a.hasError(t,"Text")),s.Fb(1),s.Uc(" ",a.getShortPreview(t.newEntry.text)," ")}}function J(t,e){1&t&&s.Sb(0,"mat-header-row")}function z(t,e){if(1&t&&s.Sb(0,"mat-row",48),2&t){const t=e.$implicit,a=s.jc(2);s.rc("ngClass",a.getStateClass(t))}}function Z(t,e){if(1&t&&(s.Xb(0,"mat-card",4),s.Xb(1,"h3"),s.Sc(2),s.kc(3,"translate"),s.Wb(),s.Xb(4,"div",19),s.Qc(5,Q,9,4,"div",20),s.Qc(6,P,9,4,"div",21),s.Qc(7,D,9,4,"div",22),s.Wb(),s.Qc(8,R,4,3,"div",20),s.Xb(9,"div"),s.Qc(10,U,10,10,"mat-select",23),s.Wb(),s.Xb(11,"div",24),s.Xb(12,"table",25),s.Vb(13,26),s.Qc(14,O,1,0,"mat-header-cell",27),s.Qc(15,G,4,3,"mat-cell",28),s.Ub(),s.Vb(16,29),s.Qc(17,Y,3,3,"mat-header-cell",30),s.Qc(18,$,3,2,"mat-cell",31),s.Ub(),s.Vb(19,32),s.Qc(20,_,3,3,"mat-header-cell",30),s.Qc(21,q,3,3,"mat-cell",33),s.Ub(),s.Qc(22,J,1,0,"mat-header-row",34),s.Qc(23,z,1,1,"mat-row",35),s.Wb(),s.Wb(),s.Wb()),2&t){const t=s.jc();s.Fb(2),s.Tc(s.lc(3,9,"Preview")),s.Fb(3),s.rc("ngIf",t.newCount),s.Fb(1),s.rc("ngIf",t.nonImportableCount),s.Fb(1),s.rc("ngIf",t.doneCount),s.Fb(1),s.rc("ngIf",t.newCount),s.Fb(2),s.rc("ngIf",t.nonImportableCount),s.Fb(2),s.rc("dataSource",t.dataSource),s.Fb(10),s.rc("matHeaderRowDef",t.getColumnDefinition()),s.Fb(1),s.rc("matRowDefColumns",t.getColumnDefinition())}}let K=(()=>{class t extends i.a{constructor(t,e,a,n,c){super(n,t,a,e),this.statuteCSVExport=c}downloadCsvExample(){this.statuteCSVExport.exportDummyCSV()}}return t.\u0275fac=function(e){return new(e||t)(s.Rb(v.c),s.Rb(h.a),s.Rb(l.k),s.Rb(g),s.Rb(b))},t.\u0275cmp=s.Lb({type:t,selectors:[["os-statute-import-list"]],features:[s.Cb],decls:54,vars:37,consts:[[3,"nav"],[1,"title-slot"],[1,"menu-slot"],["mat-button","",3,"click",4,"ngIf"],[1,"os-form-card","import-table","spacer-bottom-60"],[1,"code","red-warning-text"],["mat-button","","color","accent",3,"click"],[1,"wrapper"],[1,"selection",3,"value","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["value","",1,"selection",3,"selectionChange"],["value",'"',1,"selection",3,"selectionChange"],["id","statute-import-file-input","type","file","accept","text",1,"hidden-input",3,"change"],["fileInput",""],["mat-button","","osAutofocus","","onclick","document.getElementById('statute-import-file-input').click()"],["class","os-form-card import-table spacer-bottom-60",4,"ngIf"],["mat-button","",3,"click"],[1,"upper"],[3,"value"],[1,"summary"],[4,"ngIf"],["class","red-warning-text",4,"ngIf"],["class","green-text",4,"ngIf"],["class","filter-imports",3,"value","valueChange","selectionChange",4,"ngIf"],[1,"table-container"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","status","sticky",""],["class","first-column",4,"matHeaderCellDef"],["class","first-column",4,"matCellDef"],["matColumnDef","title"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","text"],[3,"matTooltip",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngClass",4,"matRowDef","matRowDefColumns"],["inline",""],[1,"red-warning-text"],[1,"green-text"],[1,"filter-imports",3,"value","valueChange","selectionChange"],["value","all"],["value","error"],["value","noerror"],[1,"first-column"],[1,"red-warning-text",3,"matTooltip"],[3,"matTooltip"],["color","warn",3,"matTooltip",4,"ngIf"],["color","warn",3,"matTooltip"],[3,"ngClass"]],template:function(t,e){1&t&&(s.Xb(0,"os-head-bar",0),s.Xb(1,"div",1),s.Xb(2,"h2"),s.Sc(3),s.kc(4,"translate"),s.Wb(),s.Wb(),s.Xb(5,"div",2),s.Qc(6,y,4,3,"button",3),s.Wb(),s.Wb(),s.Xb(7,"mat-card",4),s.Xb(8,"span"),s.Sc(9),s.kc(10,"translate"),s.Wb(),s.Sb(11,"br"),s.Xb(12,"div",5),s.Xb(13,"span"),s.Sc(14),s.kc(15,"translate"),s.Wb(),s.Sc(16,", "),s.Xb(17,"span"),s.Sc(18),s.kc(19,"translate"),s.Wb(),s.Wb(),s.Xb(20,"ul"),s.Xb(21,"li"),s.Sc(22),s.kc(23,"translate"),s.Wb(),s.Wb(),s.Xb(24,"button",6),s.fc("click",(function(){return e.downloadCsvExample()})),s.Sc(25),s.kc(26,"translate"),s.Wb(),s.Xb(27,"div",7),s.Xb(28,"mat-form-field"),s.Xb(29,"mat-label"),s.Sc(30),s.kc(31,"translate"),s.Wb(),s.Xb(32,"mat-select",8),s.fc("selectionChange",(function(t){return e.selectEncoding(t)})),s.Qc(33,M,3,4,"mat-option",9),s.Wb(),s.Wb(),s.Xb(34,"mat-form-field"),s.Xb(35,"mat-label"),s.Sc(36),s.kc(37,"translate"),s.Wb(),s.Xb(38,"mat-select",10),s.fc("selectionChange",(function(t){return e.selectColSep(t)})),s.Qc(39,j,3,4,"mat-option",9),s.Wb(),s.Wb(),s.Xb(40,"mat-form-field"),s.Xb(41,"mat-label"),s.Sc(42),s.kc(43,"translate"),s.Wb(),s.Xb(44,"mat-select",11),s.fc("selectionChange",(function(t){return e.selectTextSep(t)})),s.Qc(45,B,3,4,"mat-option",9),s.Wb(),s.Wb(),s.Wb(),s.Xb(46,"div"),s.Xb(47,"input",12,13),s.fc("change",(function(t){return e.onSelectFile(t)})),s.Wb(),s.Xb(49,"button",14),s.Xb(50,"span"),s.Sc(51),s.kc(52,"translate"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Qc(53,Z,24,11,"mat-card",15)),2&t&&(s.rc("nav",!1),s.Fb(3),s.Tc(s.lc(4,17,"Import statute")),s.Fb(3),s.rc("ngIf",e.hasFile&&e.newCount),s.Fb(3),s.Tc(s.lc(10,19,"Required comma or semicolon separated values with these column header names in the first row:")),s.Fb(5),s.Tc(s.lc(15,21,"Title")),s.Fb(4),s.Tc(s.lc(19,23,"Text")),s.Fb(4),s.Uc(" ",s.lc(23,25,"Additional columns after the required ones may be present and will not affect the import.")," "),s.Fb(3),s.Uc(" ",s.lc(26,27,"Download CSV example file")," "),s.Fb(5),s.Tc(s.lc(31,29,"Encoding of the file")),s.Fb(2),s.rc("value",e.encodings[0].value),s.Fb(1),s.rc("ngForOf",e.encodings),s.Fb(3),s.Tc(s.lc(37,31,"Column separator")),s.Fb(3),s.rc("ngForOf",e.columnSeparators),s.Fb(3),s.Tc(s.lc(43,33,"Text separator")),s.Fb(3),s.rc("ngForOf",e.textSeparators),s.Fb(6),s.Tc(s.lc(52,35,"Select file")),s.Fb(2),s.rc("ngIf",e.hasFile))},directives:[S.a,n.t,W.a,X.b,k.c,k.g,F.a,n.s,w.a,x.n,T.o,E.a,T.c,T.i,T.b,T.k,T.n,I.a,T.h,T.a,C.c,T.j,T.m,n.q],pipes:[l.j],encapsulation:2}),t})();var tt=a("s7LF"),et=a("F48D"),at=a("Izkr"),nt=a("mV3u"),ct=a("iELJ"),ot=a("rJgo"),it=a("7KAL"),rt=a("o4Yh"),st=a("3Xi6"),lt=a("e6WT"),bt=a("crmZ"),ut=a("7jBc");const mt=["statuteParagraphDialog"];function dt(t,e){if(1&t){const t=s.Yb();s.Xb(0,"mat-expansion-panel",11),s.Xb(1,"mat-expansion-panel-header"),s.Xb(2,"mat-panel-title"),s.Sc(3),s.Wb(),s.Wb(),s.Xb(4,"mat-card"),s.Xb(5,"mat-card-title"),s.Sc(6),s.Wb(),s.Xb(7,"mat-card-content"),s.Sb(8,"div",12),s.kc(9,"trust"),s.Wb(),s.Wb(),s.Xb(10,"mat-action-row"),s.Xb(11,"button",13),s.fc("click",(function(){s.Gc(t);const a=e.$implicit;return s.jc().openDialog(a)})),s.Xb(12,"mat-icon"),s.Sc(13,"edit"),s.Wb(),s.Wb(),s.Xb(14,"button",13),s.fc("click",(function(){s.Gc(t);const a=e.$implicit;return s.jc().onDeleteButton(a)})),s.Xb(15,"mat-icon"),s.Sc(16,"delete"),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){const t=e.$implicit;s.Fb(3),s.Uc(" ",t.title," "),s.Fb(3),s.Tc(t.title),s.Fb(2),s.rc("innerHTML",s.mc(9,3,t.text,"html"),s.Hc)}}function pt(t,e){1&t&&(s.Xb(0,"mat-card"),s.Xb(1,"mat-card-content"),s.Xb(2,"div",14),s.Sc(3),s.kc(4,"translate"),s.Wb(),s.Wb(),s.Wb()),2&t&&(s.Fb(3),s.Tc(s.lc(4,1,"No statute paragraphs")))}function ft(t,e){1&t&&(s.Xb(0,"button",15),s.Xb(1,"mat-icon"),s.Sc(2,"cloud_upload"),s.Wb(),s.Xb(3,"span"),s.Sc(4),s.kc(5,"translate"),s.Wb(),s.Wb()),2&t&&(s.Fb(4),s.Tc(s.lc(5,1,"Import")))}function ht(t,e){1&t&&(s.Xb(0,"span"),s.Sc(1),s.kc(2,"translate"),s.Wb()),2&t&&(s.Fb(1),s.Tc(s.lc(2,1,"Edit statute paragraph")))}function gt(t,e){1&t&&(s.Xb(0,"span"),s.Sc(1),s.kc(2,"translate"),s.Wb()),2&t&&(s.Fb(1),s.Tc(s.lc(2,1,"New statute paragraph")))}function vt(t,e){1&t&&(s.Xb(0,"mat-hint"),s.Xb(1,"span"),s.Sc(2),s.kc(3,"translate"),s.Wb(),s.Wb()),2&t&&(s.Fb(2),s.Tc(s.lc(3,1,"Required")))}function St(t,e){if(1&t){const t=s.Yb();s.Xb(0,"h1",16),s.Qc(1,ht,3,3,"span",6),s.Qc(2,gt,3,3,"span",6),s.Wb(),s.Xb(3,"div",17),s.Xb(4,"form",18),s.fc("keydown",(function(e){return s.Gc(t),s.jc().onKeyDown(e)})),s.Xb(5,"p"),s.Xb(6,"mat-form-field"),s.Sb(7,"input",19),s.kc(8,"translate"),s.Qc(9,vt,4,3,"mat-hint",6),s.Wb(),s.Wb(),s.Xb(10,"span"),s.Xb(11,"h4"),s.Sc(12),s.kc(13,"translate"),s.Wb(),s.Sb(14,"editor",20),s.Wb(),s.Wb(),s.Wb(),s.Xb(15,"div",21),s.Xb(16,"button",22),s.Xb(17,"span"),s.Sc(18),s.kc(19,"translate"),s.Wb(),s.Wb(),s.Xb(20,"button",23),s.Xb(21,"span"),s.Sc(22),s.kc(23,"translate"),s.Wb(),s.Wb(),s.Wb()}if(2&t){const t=s.jc();s.Fb(1),s.rc("ngIf",t.currentStatuteParagraph),s.Fb(1),s.rc("ngIf",!t.currentStatuteParagraph),s.Fb(2),s.rc("formGroup",t.statuteParagraphForm),s.Fb(3),s.sc("placeholder",s.lc(8,12,"Title")),s.Fb(2),s.rc("ngIf",!t.statuteParagraphForm.controls.title.valid),s.Fb(3),s.Tc(s.lc(13,14,"Statute paragraph")),s.Fb(2),s.rc("init",t.tinyMceSettings),s.Fb(2),s.rc("mat-dialog-close",!0)("disabled",!t.statuteParagraphForm.valid),s.Fb(2),s.Tc(s.lc(19,16,"Save")),s.Fb(2),s.rc("mat-dialog-close",!1),s.Fb(2),s.Tc(s.lc(23,18,"Cancel"))}}const Wt=[{path:"",component:(()=>{class t extends nt.a{constructor(t,e,a,n,c,o,i,r){super(t,e,a),this.translate=e,this.repo=n,this.formBuilder=c,this.promptService=o,this.dialog=i,this.csvExportService=r,this.statuteParagraphs=[],this.statuteParagraphForm=this.formBuilder.group({title:["",tt.H.required],text:["",tt.H.required]})}ngOnInit(){super.setTitle("Statute"),this.repo.getViewModelListObservable().subscribe(t=>{this.statuteParagraphs=t})}openDialog(t){this.currentStatuteParagraph=t,this.statuteParagraphForm.reset(),t&&this.statuteParagraphForm.setValue({title:t.title,text:t.text}),this.dialogRef=this.dialog.open(this.statuteParagraphDialog,at.b),this.dialogRef.afterClosed().subscribe(t=>{t&&this.save()})}save(){if(this.statuteParagraphForm.valid){if(this.currentStatuteParagraph)this.repo.update(this.statuteParagraphForm.value,this.currentStatuteParagraph).catch(this.raiseError);else{const t=new p.a(this.statuteParagraphForm.value);this.repo.create(t).catch(this.raiseError)}this.statuteParagraphForm.reset()}}onDeleteButton(t){return Object(u.a)(this,void 0,void 0,(function*(){const e=this.translate.instant("Are you sure you want to delete this statute paragraph?"),a=t.title;(yield this.promptService.open(e,a))&&this.repo.delete(t).catch(this.raiseError)}))}sortStatuteParagraphs(){console.log("Not yet implemented. Depends on other Features")}onKeyDown(t){"Enter"===t.key&&t.shiftKey&&(this.save(),this.dialogRef.close()),"Escape"===t.key&&this.dialogRef.close()}onCsvExport(){this.csvExportService.exportStatutes(this.statuteParagraphs)}}return t.\u0275fac=function(e){return new(e||t)(s.Rb(v.c),s.Rb(l.k),s.Rb(h.a),s.Rb(m.a),s.Rb(tt.g),s.Rb(et.a),s.Rb(ct.b),s.Rb(b))},t.\u0275cmp=s.Lb({type:t,selectors:[["os-statute-paragraph-list"]],viewQuery:function(t,e){var a;1&t&&s.Mc(mt,!0),2&t&&s.Bc(a=s.gc())&&(e.statuteParagraphDialog=a.first)},features:[s.Cb],decls:25,vars:12,consts:[["prevUrl","../..",3,"nav","hasMainButton","mainEvent"],[1,"title-slot"],[1,"menu-slot"],["type","button","mat-icon-button","",3,"matMenuTriggerFor"],["itemSize","50",1,"statute-vscroll-wrapper"],["multiple","false",4,"cdkVirtualFor","cdkVirtualForOf"],[4,"ngIf"],["commentMenu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","","routerLink","import",4,"osPerms"],["statuteParagraphDialog",""],["multiple","false"],[3,"innerHTML"],["mat-button","","mat-icon-button","",3,"click"],[1,"no-content"],["mat-menu-item","","routerLink","import"],["mat-dialog-title",""],["mat-dialog-content","",1,"os-form-card-mobile"],[3,"formGroup","keydown"],["formControlName","title","matInput","","required","",3,"placeholder"],["formControlName","text",3,"init"],["mat-dialog-actions",""],["mat-button","",3,"mat-dialog-close","disabled"],["mat-button","",3,"mat-dialog-close"]],template:function(t,e){if(1&t&&(s.Xb(0,"os-head-bar",0),s.fc("mainEvent",(function(){return e.openDialog()})),s.Xb(1,"div",1),s.Xb(2,"h2"),s.Sc(3),s.kc(4,"translate"),s.Wb(),s.Wb(),s.Xb(5,"div",2),s.Xb(6,"button",3),s.Xb(7,"mat-icon"),s.Sc(8,"more_vert"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(9,"cdk-virtual-scroll-viewport",4),s.Xb(10,"mat-card"),s.Xb(11,"mat-accordion"),s.Qc(12,dt,17,6,"mat-expansion-panel",5),s.Wb(),s.Wb(),s.Wb(),s.Qc(13,pt,5,3,"mat-card",6),s.Xb(14,"mat-menu",null,7),s.Xb(16,"button",8),s.fc("click",(function(){return e.onCsvExport()})),s.Xb(17,"mat-icon"),s.Sc(18,"archive"),s.Wb(),s.Xb(19,"span"),s.Sc(20),s.kc(21,"translate"),s.Wb(),s.Wb(),s.Qc(22,ft,6,3,"button",9),s.Wb(),s.Qc(23,St,24,20,"ng-template",null,10,s.Rc)),2&t){const t=s.Cc(15);s.rc("nav",!1)("hasMainButton",!0),s.Fb(3),s.Tc(s.lc(4,8,"Statute")),s.Fb(3),s.rc("matMenuTriggerFor",t),s.Fb(6),s.rc("cdkVirtualForOf",e.statuteParagraphs),s.Fb(1),s.rc("ngIf",0===e.statuteParagraphs.length),s.Fb(7),s.Tc(s.lc(21,10,"Export as CSV")),s.Fb(2),s.rc("osPerms","motions.can_manage")}},directives:[S.a,X.b,ot.e,I.a,it.e,it.a,W.a,rt.a,it.d,n.t,ot.f,ot.c,st.a,rt.c,rt.g,rt.h,W.m,W.d,rt.d,o.g,ct.i,ct.f,tt.J,tt.u,tt.l,k.c,tt.d,lt.b,tt.t,tt.j,tt.E,bt.a,ct.c,ct.d,k.f],pipes:[l.j,ut.a],styles:[".statute-vscroll-wrapper[_ngcontent-%COMP%]{height:calc(100vh - 64px)}.statute-vscroll-wrapper[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]{margin-bottom:20px}.statute-vscroll-wrapper[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),t})(),pathMatch:"full"},{path:"import",component:K}];let Xt=(()=>{class t{}return t.\u0275mod=s.Pb({type:t}),t.\u0275inj=s.Ob({factory:function(e){return new(e||t)},imports:[[o.j.forChild(Wt)],o.j]}),t})(),kt=(()=>{class t{}return t.\u0275mod=s.Pb({type:t}),t.\u0275inj=s.Ob({factory:function(e){return new(e||t)},imports:[[n.c,Xt,c.a]]}),t})()},mksl:function(t,e,a){"use strict";a.d(e,"a",(function(){return y}));var n=a("8Y7J"),c=a("VR2Q"),o=a("7dBR"),i=a("gsQk"),r=a("KL36"),s=a("iInd"),l=a("l0rg"),b=a("SVse"),u=a("Dxy4"),m=a("Tj54"),d=a("ZFy/"),p=a("TSSN");function f(t,e){if(1&t){const t=n.Yb();n.Xb(0,"button",12),n.fc("click",(function(){return n.Gc(t),n.jc().clickHamburgerMenu()})),n.Xb(1,"mat-icon"),n.Sc(2,"menu"),n.Wb(),n.Wb()}}function h(t,e){if(1&t){const t=n.Yb();n.Xb(0,"button",12),n.fc("click",(function(){return n.Gc(t),n.jc().onBackButton()})),n.Xb(1,"mat-icon"),n.Sc(2,"arrow_back"),n.Wb(),n.Wb()}}function g(t,e){if(1&t){const t=n.Yb();n.Xb(0,"button",12),n.fc("click",(function(){n.Gc(t);const e=n.jc();return e.isCancelEditUsed?e.sendCancelEditEvent():e.sendMainEvent()})),n.Xb(1,"mat-icon"),n.Sc(2,"close"),n.Wb(),n.Wb()}}function v(t,e){1&t&&(n.Xb(0,"div",13),n.pc(1,1),n.Wb())}function S(t,e){1&t&&n.Sb(0,"div",6)}function W(t,e){1&t&&(n.Xb(0,"div",14),n.pc(1,2),n.Wb())}function X(t,e){if(1&t){const t=n.Yb();n.Xb(0,"button",12),n.fc("click",(function(){return n.Gc(t),n.jc().openSearch()})),n.Xb(1,"mat-icon"),n.Sc(2,"search"),n.Wb(),n.Wb()}}function k(t,e){if(1&t){const t=n.Yb();n.Xb(0,"button",15),n.fc("click",(function(){return n.Gc(t),n.jc().sendMainEvent()})),n.kc(1,"translate"),n.Xb(2,"mat-icon"),n.Sc(3),n.Wb(),n.Wb()}if(2&t){const t=n.jc();n.sc("matTooltip",n.lc(1,3,t.mainActionTooltip)),n.rc("disabled",!t.isMainButtonEnabled),n.Fb(3),n.Tc(t.mainButtonIcon)}}function F(t,e){if(1&t){const t=n.Yb();n.Xb(0,"button",16),n.fc("click",(function(){return n.Gc(t),n.jc().save()})),n.Xb(1,"strong",17),n.Sc(2),n.kc(3,"translate"),n.Wb(),n.Wb()}if(2&t){const t=n.jc();n.rc("disabled",!t.isSaveButtonEnabled),n.Fb(2),n.Tc(n.lc(3,2,t.saveText))}}function w(t,e){1&t&&n.pc(0,3,["*ngIf","!editMode"])}function x(t,e){1&t&&(n.Xb(0,"mat-icon"),n.Sc(1," add "),n.Wb())}function T(t,e){if(1&t&&(n.Xb(0,"mat-icon"),n.Sc(1),n.Wb()),2&t){const t=n.jc(2);n.Fb(1),n.Uc(" ",t.mainButtonIcon," ")}}function E(t,e){if(1&t){const t=n.Yb();n.Xb(0,"button",18),n.fc("click",(function(){return n.Gc(t),n.jc().sendMainEvent()})),n.kc(1,"translate"),n.Qc(2,x,2,0,"mat-icon",10),n.Qc(3,T,2,1,"mat-icon",10),n.Wb()}if(2&t){const t=n.jc();n.sc("matTooltip",n.lc(1,4,t.mainActionTooltip)),n.rc("disabled",!t.isMainButtonEnabled),n.Fb(2),n.rc("ngIf","add_circle"===t.mainButtonIcon),n.Fb(1),n.rc("ngIf","add_circle"!==t.mainButtonIcon)}}const I=[[["",8,"extra-controls-slot"]],[["",8,"title-slot"]],[["",8,"central-info-slot"]],[["",8,"menu-slot"]]],C=[".extra-controls-slot",".title-slot",".central-info-slot",".menu-slot"];let y=(()=>{class t{constructor(t,e,a,c,o,i){this.vp=t,this.menu=e,this.router=a,this.route=c,this.routingState=o,this.overlayService=i,this.nav=!0,this.mainButtonIcon="add_circle",this.saveText="Save",this.editMode=!1,this.isSearchEnabled=!0,this.isSaveButtonEnabled=!0,this.multiSelectMode=!1,this.hasMainButton=!1,this.isMainButtonEnabled=!0,this.goBack=!1,this.prevUrl="../",this.mainEvent=new n.p,this.cancelEditEvent=new n.p,this.isCancelEditUsed=!1,this.saveEvent=new n.p}get showBackButton(){return!this.nav&&!this.multiSelectMode&&(this.routingState.isSafePrevUrl||!this.goBack)}ngOnInit(){this.isCancelEditUsed=this.cancelEditEvent.observers.length>0}sendMainEvent(){this.mainEvent.next()}sendCancelEditEvent(){this.cancelEditEvent.next()}clickHamburgerMenu(){this.menu.toggleMenu()}save(){this.saveEvent.next(!0)}openSearch(){this.overlayService.showSearch()}onBackButton(){this.goBack?this.routingState.goBack():this.router.navigate(this.routingState.customOrigin&&this.routingState.customOrigin!==this.router.url?[this.routingState.customOrigin]:[this.prevUrl],{relativeTo:this.route})}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(r.a),n.Rb(c.a),n.Rb(s.f),n.Rb(s.a),n.Rb(i.a),n.Rb(o.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["os-head-bar"]],inputs:{nav:"nav",mainButtonIcon:"mainButtonIcon",saveText:"saveText",editMode:"editMode",isSearchEnabled:"isSearchEnabled",isSaveButtonEnabled:"isSaveButtonEnabled",multiSelectMode:"multiSelectMode",hasMainButton:"hasMainButton",isMainButtonEnabled:"isMainButtonEnabled",goBack:"goBack",prevUrl:"prevUrl",mainActionTooltip:"mainActionTooltip"},outputs:{mainEvent:"mainEvent",cancelEditEvent:"cancelEditEvent",saveEvent:"saveEvent"},ngContentSelectors:C,decls:16,vars:12,consts:[["color","primary",1,"sticky-toolbar",3,"ngClass"],[1,"toolbar-left"],["mat-icon-button","",3,"click",4,"ngIf"],["class","toolbar-left-text",4,"ngIf"],["class","spacer",4,"ngIf"],["class","toolbar-centered",4,"ngIf"],[1,"spacer"],[1,"toolbar-right"],["mat-icon-button","",3,"disabled","matTooltip","click",4,"ngIf"],["mat-button","",3,"disabled","click",4,"ngIf"],[4,"ngIf"],["mat-fab","","class","head-button",3,"disabled","matTooltip","click",4,"ngIf"],["mat-icon-button","",3,"click"],[1,"toolbar-left-text"],[1,"toolbar-centered"],["mat-icon-button","",3,"disabled","matTooltip","click"],["mat-button","",3,"disabled","click"],[1,"upper"],["mat-fab","",1,"head-button",3,"disabled","matTooltip","click"]],template:function(t,e){1&t&&(n.qc(I),n.Xb(0,"mat-toolbar",0),n.Xb(1,"div",1),n.Qc(2,f,3,0,"button",2),n.Qc(3,h,3,0,"button",2),n.Qc(4,g,3,0,"button",2),n.Qc(5,v,2,0,"div",3),n.Wb(),n.Qc(6,S,1,0,"div",4),n.Qc(7,W,2,0,"div",5),n.Sb(8,"div",6),n.Qc(9,X,3,0,"button",2),n.Xb(10,"div",7),n.pc(11),n.Qc(12,k,4,5,"button",8),n.Qc(13,F,4,4,"button",9),n.Qc(14,w,1,0,"ng-content",10),n.Wb(),n.Wb(),n.Qc(15,E,4,6,"button",11)),2&t&&(n.rc("ngClass",e.multiSelectMode?"multi-select":""),n.Fb(2),n.rc("ngIf",e.vp.isMobile&&!e.showBackButton&&!e.editMode),n.Fb(1),n.rc("ngIf",e.showBackButton&&!e.editMode),n.Fb(1),n.rc("ngIf",e.editMode),n.Fb(1),n.rc("ngIf",!e.multiSelectMode),n.Fb(1),n.rc("ngIf",!e.multiSelectMode),n.Fb(1),n.rc("ngIf",e.multiSelectMode),n.Fb(2),n.rc("ngIf",!e.editMode&&e.isSearchEnabled),n.Fb(3),n.rc("ngIf",e.hasMainButton&&!e.editMode&&!e.vp.isMobile&&!e.multiSelectMode),n.Fb(1),n.rc("ngIf",e.editMode),n.Fb(1),n.rc("ngIf",!e.editMode),n.Fb(1),n.rc("ngIf",e.hasMainButton&&!e.editMode&&e.vp.isMobile&&!e.multiSelectMode))},directives:[l.a,b.q,b.t,u.b,m.a,d.c],pipes:[p.j],styles:[".head-button{position:fixed;z-index:10;right:20px;bottom:55px}.sticky-toolbar{top:0;z-index:5;position:-webkit-sticky;position:sticky;height:64px!important}.sticky-toolbar .toolbar-left{display:-ms-flexbox;display:flex;max-width:calc(100% - 100px)}.sticky-toolbar .toolbar-left button{margin:12px 0}.sticky-toolbar .toolbar-left .toolbar-left-text{margin-left:10px;width:100%;overflow:hidden}.sticky-toolbar .toolbar-left .toolbar-left-text .title-slot{margin:16px 0;display:block}.sticky-toolbar .toolbar-left .toolbar-left-text .title-slot h2{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.sticky-toolbar .toolbar-centered{margin:auto;vertical-align:baseline}.sticky-toolbar .toolbar-right,.sticky-toolbar .toolbar-right .extra-controls-slot{display:-ms-flexbox;display:flex}mat-toolbar.multi-select{background-color:#757575!important}"],encapsulation:2}),t})()}}]);