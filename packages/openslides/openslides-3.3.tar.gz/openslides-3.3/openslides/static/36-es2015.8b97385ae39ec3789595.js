(window.webpackJsonp=window.webpackJsonp||[]).push([[36,42],{F48D:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var o=i("mrSG"),n=i("LBBb"),c=i("8Y7J"),a=i("iELJ");let r=(()=>{class t{constructor(t){this.dialog=t}open(t,e=""){return Object(o.a)(this,void 0,void 0,(function*(){return this.dialog.open(n.a,{width:"290px",data:{title:t,content:e}}).afterClosed().toPromise()}))}}return t.\u0275fac=function(e){return new(e||t)(c.bc(a.b))},t.\u0275prov=c.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},LBBb:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var o=i("iELJ"),n=i("8Y7J"),c=i("SVse"),a=i("Dxy4"),r=i("TSSN");function s(t,e){if(1&t&&(n.Xb(0,"div"),n.Xb(1,"h2",1),n.Sc(2),n.Wb(),n.Sb(3,"mat-dialog-content",2),n.Xb(4,"mat-dialog-actions"),n.Xb(5,"button",3),n.Sc(6),n.kc(7,"translate"),n.Wb(),n.Xb(8,"button",4),n.Sc(9),n.kc(10,"translate"),n.Wb(),n.Wb(),n.Wb()),2&t){const t=n.jc();n.Fb(2),n.Tc(t.data.title),n.Fb(1),n.rc("innerHTML",t.data.content,n.Hc),n.Fb(2),n.rc("mat-dialog-close",!0),n.Fb(1),n.Tc(n.lc(7,6,"OK")),n.Fb(2),n.rc("mat-dialog-close",!1),n.Fb(1),n.Tc(n.lc(10,8,"Cancel"))}}let l=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(o.h),n.Rb(o.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["os-prompt-dialog"]],decls:1,vars:1,consts:[[4,"ngIf"],["mat-dialog-title",""],[3,"innerHTML"],["mat-button","","color","warn",3,"mat-dialog-close"],["mat-button","",3,"mat-dialog-close"]],template:function(t,e){1&t&&n.Qc(0,s,11,10,"div",0),2&t&&n.rc("ngIf",e.data)},directives:[c.t,o.i,o.f,o.c,a.b,o.d],pipes:[r.j],encapsulation:2}),t})()},mNQd:function(t,e,i){"use strict";i.r(e),i.d(e,"TagModule",(function(){return N}));var o=i("SVse"),n=i("PCNd"),c=i("iInd"),a=i("mrSG"),r=i("s7LF"),s=i("AqIO"),l=i("lv9T"),u=i("F48D"),b=i("73vO"),d=i("Izkr"),h=i("wL0i"),f=i("8Y7J"),g=i("cUpR"),m=i("zHaW"),p=i("TSSN"),v=i("iELJ"),S=i("mksl"),w=i("0Obk"),F=i("4LpT"),W=i("Dxy4"),T=i("Tj54"),X=i("Q2Ze"),k=i("e6WT");const y=["tagDialog"];function D(t,e){if(1&t&&(f.Xb(0,"div",5),f.Xb(1,"div"),f.Sc(2),f.Wb(),f.Wb()),2&t){const t=e.value;f.Fb(2),f.Uc(" ",t," ")}}function R(t,e){if(1&t){const t=f.Yb();f.Xb(0,"div",5),f.Xb(1,"button",6),f.fc("click",(function(){f.Gc(t);const i=e.row;return f.jc().openTagDialog(i)})),f.Xb(2,"mat-icon"),f.Sc(3,"edit"),f.Wb(),f.Wb(),f.Wb()}}function M(t,e){if(1&t){const t=f.Yb();f.Xb(0,"div",5),f.Xb(1,"button",7),f.fc("click",(function(){f.Gc(t);const i=e.row;return f.jc().onDeleteButton(i)})),f.Xb(2,"mat-icon"),f.Sc(3,"delete"),f.Wb(),f.Wb(),f.Wb()}}function C(t,e){1&t&&(f.Xb(0,"span"),f.Sc(1),f.kc(2,"translate"),f.Wb()),2&t&&(f.Fb(1),f.Tc(f.lc(2,1,"Edit tag")))}function j(t,e){1&t&&(f.Xb(0,"span"),f.Sc(1),f.kc(2,"translate"),f.Wb()),2&t&&(f.Fb(1),f.Tc(f.lc(2,1,"New tag")))}function B(t,e){if(1&t){const t=f.Yb();f.Xb(0,"h1",8),f.Qc(1,C,3,3,"span",9),f.Qc(2,j,3,3,"span",9),f.Wb(),f.Xb(3,"div",10),f.Xb(4,"form",11),f.fc("keydown",(function(e){return f.Gc(t),f.jc().onKeyDown(e)})),f.Xb(5,"mat-form-field"),f.Sb(6,"input",12),f.kc(7,"translate"),f.Wb(),f.Wb(),f.Wb(),f.Xb(8,"div",13),f.Xb(9,"button",14),f.Xb(10,"span"),f.Sc(11),f.kc(12,"translate"),f.Wb(),f.Wb(),f.Xb(13,"button",15),f.Xb(14,"span"),f.Sc(15),f.kc(16,"translate"),f.Wb(),f.Wb(),f.Wb()}if(2&t){const t=f.jc();f.Fb(1),f.rc("ngIf",t.currentTag),f.Fb(1),f.rc("ngIf",!t.currentTag),f.Fb(2),f.rc("formGroup",t.tagForm),f.Fb(2),f.sc("placeholder",f.lc(7,8,"Name")),f.Fb(3),f.rc("mat-dialog-close",!0),f.Fb(2),f.Tc(f.lc(12,10,"Save")),f.Fb(2),f.rc("mat-dialog-close",!1),f.Fb(2),f.Tc(f.lc(16,12,"Cancel"))}}const L=function(){return["menu"]},I=function(){return["name"]},O=[{path:"",component:(()=>{class t extends h.a{constructor(t,e,i,o,n,c,a,s){super(t,n,e,i),this.repo=o,this.translate=n,this.promptService=c,this.dialog=a,this.formBuilder=s,this.tagForm=this.formBuilder.group({name:["",[r.H.required]]}),this.tableColumnDefinition=[{prop:"name",width:"auto"},{prop:"edit",width:this.singleButtonWidth},{prop:"delete",width:this.singleButtonWidth}]}ngOnInit(){super.setTitle("Tags")}openTagDialog(t){this.currentTag=t,this.tagForm.reset(),this.tagForm.get("name").setValue(this.currentTag?this.currentTag.name:""),this.dialogRef=this.dialog.open(this.tagDialog,d.a),this.dialogRef.afterClosed().subscribe(t=>{t&&this.save()})}save(){this.tagForm.value&&this.tagForm.valid&&(this.currentTag?this.repo.update(new b.a(this.tagForm.value),this.currentTag).catch(this.raiseError):this.repo.create(this.tagForm.value).catch(this.raiseError),this.tagForm.reset())}onDeleteButton(t){return Object(a.a)(this,void 0,void 0,(function*(){const e=this.translate.instant("Are you sure you want to delete this tag?"),i=t.name;(yield this.promptService.open(e,i))&&this.repo.delete(t).catch(this.raiseError)}))}onKeyDown(t){"Enter"===t.key&&t.shiftKey&&(this.save(),this.dialogRef.close()),"Escape"===t.key&&this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(f.Rb(g.c),f.Rb(m.a),f.Rb(s.a),f.Rb(l.a),f.Rb(p.k),f.Rb(u.a),f.Rb(v.b),f.Rb(r.g))},t.\u0275cmp=f.Lb({type:t,selectors:[["os-tag-list"]],viewQuery:function(t,e){var i;1&t&&f.Mc(y,!0),2&t&&f.Bc(i=f.gc())&&(e.tagDialog=i.first)},features:[f.Cb],decls:11,vars:18,consts:[[3,"hasMainButton","nav","multiSelectMode","mainEvent"],[1,"title-slot"],[3,"listObservableProvider","columns","allowProjector","showListOfSpeakers","hiddenInMobile","selectedRows","filterProps","selectedRowsChange","dataSourceChange"],["class","cell-slot fill",4,"pblNgridCellDef"],["tagDialog",""],[1,"cell-slot","fill"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-dialog-title",""],[4,"ngIf"],["mat-dialog-content","",1,"os-form-card-mobile"],[3,"formGroup","keydown"],["required","","type","text","matInput","","formControlName","name",3,"placeholder"],["mat-dialog-actions",""],["type","submit","mat-button","","color","accent",3,"mat-dialog-close"],["type","button","mat-button","",3,"mat-dialog-close"]],template:function(t,e){1&t&&(f.Xb(0,"os-head-bar",0),f.fc("mainEvent",(function(){return e.openTagDialog()})),f.Xb(1,"div",1),f.Xb(2,"h2"),f.Sc(3),f.kc(4,"translate"),f.Wb(),f.Wb(),f.Wb(),f.Xb(5,"os-list-view-table",2),f.fc("selectedRowsChange",(function(t){return e.selectedRows=t}))("dataSourceChange",(function(t){return e.onDataSourceChange(t)})),f.Qc(6,D,3,1,"div",3),f.Qc(7,R,4,0,"div",3),f.Qc(8,M,4,0,"div",3),f.Wb(),f.Qc(9,B,17,14,"ng-template",null,4,f.Rc)),2&t&&(f.rc("hasMainButton",!0)("nav",!0)("multiSelectMode",e.isMultiSelect),f.Fb(3),f.Tc(f.lc(4,14,"Tags")),f.Fb(2),f.rc("listObservableProvider",e.repo)("columns",e.tableColumnDefinition)("allowProjector",!1)("showListOfSpeakers",!1)("hiddenInMobile",f.wc(16,L))("selectedRows",e.selectedRows)("filterProps",f.wc(17,I)),f.Fb(1),f.rc("pblNgridCellDef","name"),f.Fb(1),f.rc("pblNgridCellDef","edit"),f.Fb(1),f.rc("pblNgridCellDef","delete"))},directives:[S.a,w.a,F.b,W.b,T.a,v.i,o.t,v.f,r.J,r.u,r.l,X.c,k.b,r.d,r.E,r.t,r.j,v.c,v.d],pipes:[p.j],styles:[""]}),t})(),pathMatch:"full"}];let E=(()=>{class t{}return t.\u0275mod=f.Pb({type:t}),t.\u0275inj=f.Ob({factory:function(e){return new(e||t)},imports:[[c.j.forChild(O)],c.j]}),t})(),N=(()=>{class t{}return t.\u0275mod=f.Pb({type:t}),t.\u0275inj=f.Ob({factory:function(e){return new(e||t)},imports:[[o.c,E,n.a]]}),t})()},wL0i:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var o=i("mV3u");class n extends o.a{constructor(t,e,i,o){super(t,e,i),this.storage=o,this.canMultiSelect=!1,this._multiSelectMode=!1,this.singleButtonWidth="40px",this.badgeButtonWidth="45px",this.selectedRows=[]}onDataSourceChange(t){this.dataSource=t}toggleMultiSelect(){!this.canMultiSelect||this.isMultiSelect?(this._multiSelectMode=!1,this.deselectAll()):this._multiSelectMode=!0}selectAll(){this.dataSource.selection.select(...this.dataSource.filteredData)}deselectAll(){this.dataSource&&this.dataSource.selection.clear()}get isMultiSelect(){return this._multiSelectMode}}}}]);