!function(){function t(e,o,n){return(t="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,o){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=i(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(o):r.value}})(e,o,n||e)}function e(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function n(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=i(t);if(e){var c=i(this).constructor;o=Reflect.construct(n,arguments,c)}else o=n.apply(this,arguments);return r(this,o)}}function r(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function l(t,e,o){return e&&s(t.prototype,e),o&&s(t,o),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[39,42],{F48D:function(t,e,o){"use strict";o.d(e,"a",(function(){return a}));var n=o("mrSG"),r=o("LBBb"),i=o("8Y7J"),s=o("iELJ"),a=function(){var t=function(){function t(e){c(this,t),this.dialog=e}return l(t,[{key:"open",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(n.a)(this,void 0,void 0,regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",this.dialog.open(r.a,{width:"290px",data:{title:t,content:e}}).afterClosed().toPromise());case 1:case"end":return o.stop()}}),o,this)})))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.bc(s.b))},t.\u0275prov=i.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},LBBb:function(t,e,o){"use strict";o.d(e,"a",(function(){return u}));var n=o("iELJ"),r=o("8Y7J"),i=o("SVse"),s=o("Dxy4"),l=o("TSSN");function a(t,e){if(1&t&&(r.Xb(0,"div"),r.Xb(1,"h2",1),r.Sc(2),r.Wb(),r.Sb(3,"mat-dialog-content",2),r.Xb(4,"mat-dialog-actions"),r.Xb(5,"button",3),r.Sc(6),r.kc(7,"translate"),r.Wb(),r.Xb(8,"button",4),r.Sc(9),r.kc(10,"translate"),r.Wb(),r.Wb(),r.Wb()),2&t){var o=r.jc();r.Fb(2),r.Tc(o.data.title),r.Fb(1),r.rc("innerHTML",o.data.content,r.Hc),r.Fb(2),r.rc("mat-dialog-close",!0),r.Fb(1),r.Tc(r.lc(7,6,"OK")),r.Fb(2),r.rc("mat-dialog-close",!1),r.Fb(1),r.Tc(r.lc(10,8,"Cancel"))}}var u=function(){var t=function t(e,o){c(this,t),this.dialogRef=e,this.data=o};return t.\u0275fac=function(e){return new(e||t)(r.Rb(n.h),r.Rb(n.a))},t.\u0275cmp=r.Lb({type:t,selectors:[["os-prompt-dialog"]],decls:1,vars:1,consts:[[4,"ngIf"],["mat-dialog-title",""],[3,"innerHTML"],["mat-button","","color","warn",3,"mat-dialog-close"],["mat-button","",3,"mat-dialog-close"]],template:function(t,e){1&t&&r.Qc(0,a,11,10,"div",0),2&t&&r.rc("ngIf",e.data)},directives:[i.t,n.i,n.f,n.c,s.b,n.d],pipes:[l.j],encapsulation:2}),t}()},zdrJ:function(o,r,s){"use strict";s.r(r),s.d(r,"CinemaModule",(function(){return jt}));var a=s("SVse"),u=s("PCNd"),p=s("iMzm"),f=s("iInd"),b=s("mrSG"),d=s("OwvW"),g=s("+WZz"),h=s("3Y/2"),m=s("3moa"),v=s("Jrw6"),j=s("mV3u"),k=s("DJZM"),P=s("8Y7J"),O=s("cUpR"),y=s("TSSN"),S=s("zHaW"),T=s("mksl"),w=s("PDjf"),F=s("Dxy4"),L=s("Tj54"),C=s("3Xi6"),R=s("lJxs"),M=s("ITcc"),W=(s("3n8p"),s("jcOe")),X=s("8fOK"),I=s("PoOO"),x=s("pA48"),V=s("RGiq"),Q=s("76GY"),U=s("5go9"),_=s("DGQJ"),E=function(t){return{poll:t,last:!1}};function J(t,e){if(1&t&&P.Tb(0,3),2&t){var o=e.$implicit;P.jc();var n=P.Cc(3);P.rc("ngTemplateOutlet",n)("ngTemplateOutletContext",P.xc(2,E,o))}}var D=function(t){return{poll:t,last:!0}};function A(t,e){if(1&t&&P.Tb(0,3),2&t){var o=P.jc(),n=P.Cc(3);P.rc("ngTemplateOutlet",n)("ngTemplateOutletContext",P.xc(2,D,o.lastPublishedPoll))}}function B(t,e){if(1&t&&P.Sb(0,"os-poll-progress",9),2&t){var o=P.jc().poll;P.rc("poll",o)}}function Y(t,e){if(1&t&&P.Sb(0,"os-motion-poll-vote",9),2&t){var o=P.jc(2).poll;P.rc("poll",o)}}function G(t,e){if(1&t&&P.Sb(0,"os-motion-poll-detail-content",9),2&t){var o=P.jc(3);P.rc("poll",o.lastPublishedPoll)}}function z(t,e){if(1&t&&(P.Xb(0,"div"),P.Qc(1,Y,1,1,"os-motion-poll-vote",7),P.Qc(2,G,1,1,"os-motion-poll-detail-content",7),P.Wb()),2&t){var o=P.jc(),n=o.poll,r=o.last;P.Fb(1),P.rc("ngIf",n.canBeVotedFor()&&!r),P.Fb(1),P.rc("ngIf",r)}}function H(t,e){if(1&t&&P.Sb(0,"os-assignment-poll-vote",9),2&t){var o=P.jc(2).poll;P.rc("poll",o)}}function N(t,e){if(1&t&&P.Sb(0,"os-assignment-poll-detail-content",9),2&t){var o=P.jc(3);P.rc("poll",o.lastPublishedPoll)}}function Z(t,e){if(1&t&&(P.Xb(0,"div"),P.Qc(1,H,1,1,"os-assignment-poll-vote",7),P.Qc(2,N,1,1,"os-assignment-poll-detail-content",7),P.Wb()),2&t){var o=P.jc(),n=o.poll,r=o.last;P.Fb(1),P.rc("ngIf",n.canBeVotedFor()&&!r),P.Fb(1),P.rc("ngIf",r)}}var K=function(){return{back:"true"}};function q(t,e){if(1&t&&(P.Xb(0,"mat-card",4),P.Xb(1,"p",5),P.Xb(2,"a",6),P.Sc(3),P.Wb(),P.Wb(),P.Qc(4,B,1,1,"os-poll-progress",7),P.Qc(5,z,3,2,"div",8),P.Qc(6,Z,3,2,"div",8),P.Wb()),2&t){var o=e.poll,n=P.jc();P.Fb(2),P.rc("routerLink",n.getPollDetailLink(o))("state",P.wc(6,K)),P.Fb(1),P.Tc(n.getPollVoteTitle(o)),P.Fb(1),P.rc("ngIf",n.canManage(o)&&o.canBeVotedFor()),P.Fb(1),P.rc("ngIf","motion"===o.pollClassType),P.Fb(1),P.rc("ngIf","assignment"===o.pollClassType)}}var $,tt=(($=function(t){e(r,t);var o=n(r);function r(t,e,n,i,s,l){var a;return c(this,r),(a=o.call(this,t,e,n)).operator=i,a.pollService=s,a.cd=l,a}return l(r,[{key:"ngOnInit",value:function(){var t=this;this.subscriptions.push(this.pollService.getViewModelListObservable().pipe(Object(R.a)((function(t){return t.filter((function(t){return t.canBeVotedFor()}))}))).subscribe((function(e){t.polls=e,t.cd.markForCheck(),t.updateLastPublished()})))}},{key:"identifyPoll",value:function(t,e){return e.id}},{key:"getPollDetailLink",value:function(t){return t.parentLink}},{key:"getPollVoteTitle",value:function(t){var e=t.getContentObject(),o=e.getListTitle(),n=e.getVerboseName(),r=t.getTitle();return this.showExtendedTitle?"(".concat(n,") ").concat(o," - ").concat(r):r}},{key:"updateLastPublished",value:function(){var t=this.getLastfinshedPoll(this.currentProjection);t!==this.lastPublishedPoll&&(this.lastPublishedPoll=t,this.cd.markForCheck())}},{key:"getLastfinshedPoll",value:function(t){if(t instanceof W.a||t instanceof M.b){var e=t.polls;return(e=e.filter((function(t){return t.stateHasVotes})).reverse())[0]}return null}},{key:"canManage",value:function(t){return t.pollClassType===X.c.Motion?this.operator.hasPerms(this.permission.motionsCanManagePolls):t.pollClassType===X.c.Assignment&&this.operator.hasPerms(this.permission.assignmentsCanManage)}},{key:"currentProjection",get:function(){return this._currentProjection},set:function(t){this._currentProjection=t,this.updateLastPublished()}},{key:"hasProjectedModelOpenPolls",get:function(){return(this.currentProjection instanceof W.a||this.currentProjection instanceof M.b)&&this.currentProjection.polls.some((function(t){return t.isStarted}))}},{key:"showExtendedTitle",get:function(){var t,e=this,o=this.polls.every((function(t){return e.polls[0].getContentObject()===t.getContentObject()}));return this.currentProjection&&o?(null===(t=this.polls[0])||void 0===t?void 0:t.getContentObject())!==this.currentProjection:!o}}]),r}(j.a)).\u0275fac=function(t){return new(t||$)(P.Rb(O.c),P.Rb(y.k),P.Rb(S.a),P.Rb(d.a),P.Rb(I.a),P.Rb(P.h))},$.\u0275cmp=P.Lb({type:$,selectors:[["os-poll-collection"]],inputs:{currentProjection:"currentProjection"},features:[P.Cb],decls:4,vars:3,consts:[[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],["pollArea",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"os-card"],[1,"subtitle-text"],[3,"routerLink","state"],[3,"poll",4,"ngIf"],[4,"ngIf"],[3,"poll"]],template:function(t,e){1&t&&(P.Qc(0,J,1,4,"ng-container",0),P.Qc(1,A,1,4,"ng-container",1),P.Qc(2,q,7,7,"ng-template",null,2,P.Rc)),2&t&&(P.rc("ngForOf",e.polls)("ngForTrackBy",e.identifyPoll),P.Fb(1),P.rc("ngIf",e.lastPublishedPoll&&!e.hasProjectedModelOpenPolls))},directives:[a.s,a.t,a.A,w.a,f.i,x.a,V.a,Q.a,U.a,_.a],styles:[""],changeDetection:0}),$),et=s("uzvl"),ot=s("ZFy/"),nt=s("PAIG");function rt(t,e){1&t&&(P.Xb(0,"mat-icon",18),P.kc(1,"translate"),P.Sc(2," lock "),P.Wb()),2&t&&P.sc("matTooltip",P.lc(1,1,"The list of speakers is closed."))}function it(t,e){if(1&t&&(P.Vb(0),P.Qc(1,rt,3,3,"mat-icon",17),P.Ub()),2&t){var o=P.jc(2);P.Fb(1),P.rc("ngIf",o.isLosClosed)}}function ct(t,e){1&t&&(P.Xb(0,"mat-icon",18),P.kc(1,"translate"),P.Sc(2," lock "),P.Wb()),2&t&&P.sc("matTooltip",P.lc(1,1,"The list of speakers is closed."))}function st(t,e){1&t&&(P.Xb(0,"mat-icon",18),P.kc(1,"translate"),P.Sc(2," lock_open "),P.Wb()),2&t&&P.sc("matTooltip",P.lc(1,1,"The list of speakers is open."))}function lt(t,e){if(1&t){var o=P.Yb();P.Xb(0,"button",19),P.fc("click",(function(){return P.Gc(o),P.jc(2).toggleListOfSpeakersOpen()})),P.Qc(1,ct,3,3,"mat-icon",17),P.Qc(2,st,3,3,"mat-icon",17),P.Wb()}if(2&t){var n=P.jc(2);P.Fb(1),P.rc("ngIf",n.isLosClosed),P.Fb(1),P.rc("ngIf",!n.isLosClosed)}}function at(t,e){if(1&t&&(P.Xb(0,"os-list-of-speakers-content",12),P.Xb(1,"p",13),P.Xb(2,"a",14),P.Sc(3),P.kc(4,"translate"),P.Wb(),P.Qc(5,it,2,1,"ng-container",15),P.Qc(6,lt,3,2,"button",16),P.Wb(),P.Wb()),2&t){var o=P.jc();P.rc("customTitle",!0)("speakers",o.listOfSpeakers),P.Fb(2),P.Jb("disabled",!o.closUrl),P.rc("routerLink",o.closUrl),P.Fb(1),P.Uc(" ",P.lc(4,9,"List of speakers")," "),P.Fb(2),P.rc("osPerms",o.permission.agendaCanManageListOfSpeakers)("osPermsComplement",!0),P.Fb(1),P.rc("osPerms",o.permission.agendaCanManageListOfSpeakers)}}function ut(t,e){if(1&t&&P.Sb(0,"os-projector",20),2&t){var o=P.jc();P.rc("projector",o.projector)}}var pt,ft,bt,dt=function(){return{back:"true"}},gt=[{path:"",component:(pt=function(o){e(s,o);var r=n(s);function s(t,e,o,n,i,l,a,u,p){var f;return c(this,s),(f=r.call(this,t,e,o)).operator=n,f.projectorService=i,f.projectorRepo=l,f.closService=a,f.listOfSpeakersRepo=u,f.cd=p,f}return l(s,[{key:"ngOnInit",value:function(){var e=this;t(i(s.prototype),"setTitle",this).call(this,"Autopilot"),this.subscriptions.push(this.projectorRepo.getReferenceProjectorObservable().subscribe((function(t){e.projector=t,e.currentProjectorElement=(null==t?void 0:t.firstUnstableElement)||null,e.projectedViewModel=e.currentProjectorElement?e.projectorService.getViewModelFromProjectorElement(e.currentProjectorElement):null})),this.closService.currentListOfSpeakersObservable.subscribe((function(t){e.listOfSpeakers=t})))}},{key:"toggleListOfSpeakersOpen",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listOfSpeakersRepo.setListOpenness(this.listOfSpeakers,this.isLosClosed).catch(this.raiseError);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"title",get:function(){var t;return this.projectedViewModel?this.projectedViewModel.getListTitle():this.currentProjectorElement?null===(t=this.projectorService.getSlideTitle(this.currentProjectorElement))||void 0===t?void 0:t.title:""}},{key:"projectorTitle",get:function(){var t;return(null===(t=this.projector)||void 0===t?void 0:t.getTitle())||""}},{key:"closUrl",get:function(){var t;return this.listOfSpeakers&&this.operator.hasPerms(this.permission.agendaCanManageListOfSpeakers)?null===(t=this.listOfSpeakers)||void 0===t?void 0:t.listOfSpeakersUrl:""}},{key:"isLosClosed",get:function(){var t;return null===(t=this.listOfSpeakers)||void 0===t?void 0:t.closed}},{key:"viewModelUrl",get:function(){return this.projectedViewModel&&Object(v.a)(this.projectedViewModel)?this.projectedViewModel.getDetailStateURL():""}},{key:"projectorUrl",get:function(){return this.projector?this.operator.hasPerms(this.permission.coreCanManageProjector)?"/projectors/detail/"+this.projector.id:"/projector/"+this.projector.id:""}},{key:"projectionTarget",get:function(){return this.operator.hasPerms(this.permission.coreCanManageProjector)?"_self":"_blank"}}]),s}(j.a),pt.\u0275fac=function(t){return new(t||pt)(P.Rb(O.c),P.Rb(y.k),P.Rb(S.a),P.Rb(d.a),P.Rb(g.a),P.Rb(m.a),P.Rb(k.a),P.Rb(h.a),P.Rb(P.h))},pt.\u0275cmp=P.Lb({type:pt,selectors:[["os-cinema"]],features:[P.Cb],decls:21,vars:19,consts:[[1,"title-slot"],[1,"content-container"],[1,"os-card"],[1,"line-and-icon"],["mat-icon-button","",3,"disabled","routerLink","state"],[3,"customTitle","speakers",4,"osPerms","osPermsAnd"],[3,"currentProjection"],[1,"os-card","spacer-bottom-60"],[1,"subtitle-text"],[3,"routerLink","target"],[1,"projector"],[3,"projector",4,"ngIf"],[3,"customTitle","speakers"],[1,"line-and-icon","subtitle-text"],[3,"routerLink"],[4,"osPerms","osPermsComplement"],["mat-icon-button","",3,"click",4,"osPerms"],[3,"matTooltip",4,"ngIf"],[3,"matTooltip"],["mat-icon-button","",3,"click"],[3,"projector"]],template:function(t,e){1&t&&(P.Xb(0,"os-head-bar"),P.Xb(1,"div",0),P.Xb(2,"h2"),P.Sc(3),P.kc(4,"translate"),P.Wb(),P.Wb(),P.Wb(),P.Xb(5,"div",1),P.Xb(6,"mat-card",2),P.Xb(7,"h1",3),P.Sc(8),P.Xb(9,"a",4),P.Xb(10,"mat-icon"),P.Sc(11,"open_in_new"),P.Wb(),P.Wb(),P.Wb(),P.Wb(),P.Qc(12,at,7,11,"os-list-of-speakers-content",5),P.Sb(13,"os-poll-collection",6),P.Xb(14,"mat-card",7),P.Xb(15,"p",8),P.Sc(16),P.kc(17,"translate"),P.Wb(),P.Xb(18,"a",9),P.Xb(19,"div",10),P.Qc(20,ut,1,1,"os-projector",11),P.Wb(),P.Wb(),P.Wb(),P.Wb()),2&t&&(P.Fb(3),P.Tc(P.lc(4,14,"Autopilot")),P.Fb(5),P.Uc(" ",e.title," "),P.Fb(1),P.Jb("disabled",!e.viewModelUrl),P.rc("disabled",!e.viewModelUrl)("routerLink",e.viewModelUrl)("state",P.wc(18,dt)),P.Fb(3),P.rc("osPerms",e.permission.agendaCanSeeListOfSpeakers)("osPermsAnd",e.listOfSpeakers),P.Fb(1),P.rc("currentProjection",e.projectedViewModel),P.Fb(3),P.Tc(P.lc(17,16,e.projectorTitle)),P.Fb(2),P.rc("routerLink",e.projectorUrl)("target",e.projectionTarget),P.Fb(2),P.rc("ngIf",e.projector))},directives:[T.a,w.a,F.a,f.i,L.a,C.a,tt,a.t,et.a,ot.c,F.b,nt.a],pipes:[y.j],styles:[".projector[_ngcontent-%COMP%]{border:1px solid #d3d3d3}"]}),pt),pathMatch:"full"}],ht=((ft=function t(){c(this,t)}).\u0275mod=P.Pb({type:ft}),ft.\u0275inj=P.Ob({factory:function(t){return new(t||ft)},imports:[[f.j.forChild(gt)],f.j]}),ft),mt=s("tSYa"),vt=s("bVYn"),jt=((bt=function t(){c(this,t)}).\u0275mod=P.Pb({type:bt}),bt.\u0275inj=P.Ob({factory:function(t){return new(t||bt)},imports:[[a.c,ht,mt.MotionPollModule,p.AssignmentPollModule,u.a,vt.PollsModule]]}),bt)}}])}();