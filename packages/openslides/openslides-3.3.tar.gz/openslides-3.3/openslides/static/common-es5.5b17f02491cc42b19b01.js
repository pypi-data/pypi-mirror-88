!function(){function t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e(t,n,o){return(e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,n,o||t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function i(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=u(t);if(e){var i=u(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"+Gc/":function(t,e,o){"use strict";o.d(e,"a",(function(){return j}));var a=o("TG9O"),s=o("O7yW"),u=o("+KbT"),l=o("9st3"),d=o("8Y7J"),f=o("SVse"),p=o("Tj54"),g=o("TSSN");function h(t,e){1&t&&(d.Xb(0,"mat-icon"),d.Sc(1,"lock"),d.Wb())}function b(t,e){if(1&t&&(d.Xb(0,"span"),d.Sc(1),d.Xb(2,"span"),d.Sc(3),d.kc(4,"translate"),d.Wb(),d.Wb()),2&t){var n=d.jc(2);d.Fb(1),d.Uc(" \u2013 ",n.getSpeakersCount()," "),d.Fb(2),d.Tc(d.lc(4,2,"Speakers"))}}function m(t,e){1&t&&(d.Xb(0,"mat-icon"),d.Sc(1,"star"),d.Wb())}function v(t,e){1&t&&(d.Xb(0,"mat-icon",7),d.Sc(1," warning"),d.Wb())}function w(t,e){if(1&t&&(d.Xb(0,"div"),d.Sc(1),d.Qc(2,m,2,0,"mat-icon",0),d.Qc(3,v,2,0,"mat-icon",6),d.Wb()),2&t){var n=e.$implicit;d.Fb(1),d.Uc(" ",n.user," "),d.Fb(1),d.rc("ngIf",n.marked),d.Fb(1),d.rc("ngIf",n.point_of_order)}}function C(t,e){if(1&t&&(d.Xb(0,"div",4),d.Qc(1,w,4,3,"div",5),d.Wb()),2&t){var n=d.jc(2);d.Fb(1),d.rc("ngForOf",n.data.data.finished)}}function _(t,e){1&t&&(d.Xb(0,"mat-icon"),d.Sc(1,"star"),d.Wb())}function O(t,e){1&t&&(d.Xb(0,"mat-icon",7),d.Sc(1," warning"),d.Wb())}function k(t,e){if(1&t&&(d.Xb(0,"div",8),d.Xb(1,"mat-icon",9),d.Sc(2,"mic"),d.Wb(),d.Sc(3),d.Qc(4,_,2,0,"mat-icon",0),d.Qc(5,O,2,0,"mat-icon",6),d.Wb()),2&t){var n=d.jc(2);d.Fb(3),d.Uc(" ",n.data.data.current.user," "),d.Fb(1),d.rc("ngIf",n.data.data.current.marked),d.Fb(1),d.rc("ngIf",n.data.data.current.point_of_order)}}function y(t,e){1&t&&(d.Xb(0,"mat-icon"),d.Sc(1,"star"),d.Wb())}function S(t,e){1&t&&(d.Xb(0,"mat-icon",7),d.Sc(1," warning"),d.Wb())}function P(t,e){if(1&t&&(d.Xb(0,"li"),d.Sc(1),d.Qc(2,y,2,0,"mat-icon",0),d.Qc(3,S,2,0,"mat-icon",6),d.Wb()),2&t){var n=e.$implicit;d.Fb(1),d.Uc(" ",n.user," "),d.Fb(1),d.rc("ngIf",n.marked),d.Fb(1),d.rc("ngIf",n.point_of_order)}}function M(t,e){if(1&t&&(d.Xb(0,"div"),d.Xb(1,"ol",10),d.Qc(2,P,4,3,"li",5),d.Wb(),d.Wb()),2&t){var n=d.jc(2);d.Fb(2),d.rc("ngForOf",n.data.data.waiting)}}function x(t,e){if(1&t&&(d.Xb(0,"div"),d.Xb(1,"div",1),d.Xb(2,"h1"),d.Sc(3),d.kc(4,"translate"),d.Qc(5,h,2,0,"mat-icon",0),d.Wb(),d.Xb(6,"h2"),d.Sc(7),d.Qc(8,b,5,4,"span",0),d.Wb(),d.Wb(),d.Qc(9,C,2,1,"div",2),d.Qc(10,k,6,3,"div",3),d.Qc(11,M,3,1,"div",0),d.Wb()),2&t){var n=d.jc();d.Fb(3),d.Uc(" ",d.lc(4,7,"List of speakers")," "),d.Fb(2),d.rc("ngIf",n.data.data.closed),d.Fb(2),d.Uc(" ",n.getTitle()," "),d.Fb(1),d.rc("ngIf",n.getSpeakersCount()>0&&!n.hideAmountOfSpeakers),d.Fb(1),d.rc("ngIf",n.data.data.finished&&n.data.data.finished.length),d.Fb(1),d.rc("ngIf",n.data.data.current),d.Fb(1),d.rc("ngIf",n.data.data.waiting&&n.data.data.waiting.length)}}var j=function(){var t=function(t){r(o,t);var e=c(o);function o(t,i){var r;return n(this,o),(r=e.call(this)).collectionStringMapperService=t,r.configService=i,r}return i(o,[{key:"ngOnInit",value:function(){var t=this;this.configService.get("agenda_hide_amount_of_speakers").subscribe((function(e){return t.hideAmountOfSpeakers=e}))}},{key:"getTitle",value:function(){if(!this.data.data.content_object_collection||!this.data.data.title_information)return"";var t=this.collectionStringMapperService.getRepository(this.data.data.content_object_collection);if(Object(s.a)(t))return t.getAgendaSlideTitle(this.data.data.title_information);throw new Error("The content object has no agenda base repository!")}},{key:"getSpeakersCount",value:function(){return this.data&&this.data.data.waiting?this.data.data.waiting.length:0}},{key:"data",set:function(t){Object.entries(t.data).length&&(t.data.title_information.agenda_item_number=function(){return t.data.title_information._agenda_item_number},this._data=t)},get:function(){return this._data}}]),o}(l.a);return t.\u0275fac=function(e){return new(e||t)(d.Rb(a.a),d.Rb(u.a))},t.\u0275cmp=d.Lb({type:t,selectors:[["os-common-list-of-speakers-slide"]],inputs:{data:"data"},features:[d.Cb],decls:1,vars:1,consts:[[4,"ngIf"],[1,"slidetitle"],["class","lastSpeakers",4,"ngIf"],["class","currentSpeaker",4,"ngIf"],[1,"lastSpeakers"],[4,"ngFor","ngForOf"],["color","warn",4,"ngIf"],["color","warn"],[1,"currentSpeaker"],[1,"micicon"],[1,"nextSpeakers"]],template:function(t,e){1&t&&d.Qc(0,x,12,9,"div",0),2&t&&d.rc("ngIf",e.data)},directives:[f.t,p.a,f.s],pipes:[g.j],styles:[".lastSpeakers[_ngcontent-%COMP%]{color:#9a9898;margin:20px 0 10px 33px}.currentSpeaker[_ngcontent-%COMP%]{font-weight:700;margin:20px 0 16px}.currentSpeaker[_ngcontent-%COMP%]   .micicon[_ngcontent-%COMP%]{vertical-align:middle}.nextSpeakers[_ngcontent-%COMP%]{margin:0;padding-left:6px;margin-top:20px!important}.nextSpeakers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style-position:inside;line-height:150%}.mat-icon[_ngcontent-%COMP%]{vertical-align:text-top}"]}),t}()},"+QJK":function(t,e,o){"use strict";o.d(e,"a",(function(){return c}));var r=o("mrSG"),a=o("8Y7J"),c=function(){var t=function(){function t(){n(this,t)}return i(t,[{key:"canDeactivate",value:function(t){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=!t.canDeactivate,e.t0){e.next=5;break}return e.next=4,t.canDeactivate();case 4:e.t0=e.sent;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},AOla:function(t,o,a){"use strict";a.d(o,"a",(function(){return b}));var s=a("mrSG"),l=a("D/ll"),d=a("AqIO"),f=a("+KbT"),p=a("T9hM"),g=a("8Y7J"),h=a("TSSN"),b=function(){var t=function(t){r(a,t);var o=c(a);function a(t,e,i,r){var c;return n(this,a),(c=o.call(this,t,e,i,r)).translate=t,c.storageKey="AmendmentList",c.amendmentSortOptions=[{property:"parentAndLineNumber",label:c.translate.instant("Main motion and line number")}],c}return i(a,[{key:"getSortOptions",value:function(){return this.amendmentSortOptions.concat(e(u(a.prototype),"getSortOptions",this).call(this))}},{key:"getDefaultDefinition",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{sortProperty:"parentAndLineNumber",sortAscending:!0});case 1:case"end":return t.stop()}}),t)})))}}]),a}(p.a);return t.\u0275fac=function(e){return new(e||t)(g.bc(h.k),g.bc(d.a),g.bc(l.a),g.bc(f.a))},t.\u0275prov=g.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},B5uJ:function(t,e,o){"use strict";o.d(e,"a",(function(){return u}));var r=o("8Y7J"),a=o("SVse");function c(t,e){1&t&&r.pc(0)}var s=["*"],u=function(){var t=function(){function t(){n(this,t),this.clicked=new r.p}return i(t,[{key:"ngOnInit",value:function(){if(this.preferredSize||(this.preferredSize=4),"number"==typeof this.preferredSize)this.setLargeSize(this.preferredSize),this.setMediumSize(this.preferredSize),this.setTabletSize(this.preferredSize),this.setMobileSize(this.preferredSize);else{var t=this.preferredSize,e=t.mobile,n=t.tablet,o=t.medium,i=t.large;this.setMobileSize(e),this.setTabletSize(n),this.setMediumSize(o),this.setLargeSize(i)}}},{key:"onClick",value:function(t){this.clicked.emit({data:this.data,source:t})}},{key:"setMobileSize",value:function(t){this.mobileSize=t<=4&&t>=0?t:4}},{key:"setTabletSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;this.tabletSize=t<=8&&t>=0?t:8}},{key:"setMediumSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;this.mediumSize=t<=12&&t>=0?t:12}},{key:"setLargeSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;this.largeSize=t<=16&&t>=0?t:16}},{key:"classes",get:function(){return"os-tile os-tile--xs-"+this.mobileSize+" os-tile--sm-"+this.tabletSize+" os-tile--md-"+this.mediumSize+" os-tile--lg-"+this.largeSize}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["os-tile"]],contentQueries:function(t,e,n){var o;1&t&&r.Lc(n,r.Q,!0),2&t&&r.Bc(o=r.gc())&&(e.tileContext=o.first)},hostVars:2,hostBindings:function(t,e){2&t&&r.Hb(e.classes)},inputs:{data:"data",preferredSize:"preferredSize"},outputs:{clicked:"clicked"},ngContentSelectors:s,decls:3,vars:2,consts:[[3,"ngTemplateOutlet","ngTemplateOutletContext"],["tileContext",""]],template:function(t,e){if(1&t&&(r.qc(),r.Tb(0,0),r.Qc(1,c,1,0,"ng-template",null,1,r.Rc)),2&t){var n=r.Cc(2);r.rc("ngTemplateOutlet",n)("ngTemplateOutletContext",e.data)}},directives:[a.A],styles:[""]}),t}()},EHvM:function(t,e,o){"use strict";o.d(e,"a",(function(){return r}));var r=function(){function t(e,o){var i=this;n(this,t),this.configService=e,this.userRepo=o,this.configService.get("general_event_name").subscribe((function(t){return i.eventName=t})),this.configService.get("logo_pdf_ballot_paper").subscribe((function(t){t&&t.path&&(0===t.path.indexOf("/")&&(t.path=t.path.substr(1)),i.logo=t.path)}))}return i(t,[{key:"getBallotCount",value:function(){switch(this.ballotCountSelection){case"NUMBER_OF_ALL_PARTICIPANTS":return this.userRepo.getViewModelList().length;case"NUMBER_OF_DELEGATES":return this.userRepo.getViewModelList().filter((function(t){return t.groups_id&&t.groups_id.includes(2)})).length;case"CUSTOM_NUMBER":return this.ballotCustomCount;default:throw new Error("Amount of ballots cannot be computed")}}},{key:"createBallotOption",value:function(t){return{margin:[48,10,0,0],columns:[{width:15,canvas:this.drawCircle(6,8)},{width:"auto",text:t}]}}},{key:"drawCircle",value:function(t,e){return[{type:"ellipse",x:0,y:t,lineColor:"black",r1:e,r2:e}]}},{key:"getPages",value:function(t,e){for(var n=this.getBallotCount(),o=Math.floor(n/(2*t)),i=n%(2*t),r=[],a=0;a<o;a++){for(var c=[],s=0;s<t;s++)c.push([this.createBallot(e),this.createBallot(e)]);r.push({table:{headerRows:1,widths:["*","*"],body:c,pageBreak:"after"},rowsperpage:t})}if(i){for(var u=[];i>1;)u.push([this.createBallot(e),this.createBallot(e)]),i-=2;1===i&&u.push([this.createBallot(e),""]),r.push({table:{headerRows:1,widths:["50%","50%"],body:u},rowsperpage:t})}return r}},{key:"getHeader",value:function(){var t=[];return t.push({text:this.eventName,fontSize:8,alignment:"left",width:"60%"}),this.logo&&t.push({image:this.logo,fit:[90,25],alignment:"right",width:"40%"}),{color:"#555",fontSize:10,margin:[30,10,10,-10],columns:t,columnGap:5}}},{key:"getTitle",value:function(t){return{text:t,style:"title"}}},{key:"getSubtitle",value:function(t){return{text:t,style:"description"}}}]),t}()},EV9s:function(t,e,o){"use strict";o.d(e,"a",(function(){return d}));var a=o("dOok"),s=o("9st3"),u=o("8Y7J"),l=o("TSSN"),d=function(){var t=function(t){r(o,t);var e=c(o);function o(t,i){var r;return n(this,o),(r=e.call(this)).translate=t,r.motionRepo=i,r}return i(o,[{key:"replaceReferencedMotions",value:function(t,e){var n=this;return t.replace(/\[motion:(\d+)\]/g,(function(t,o){var i=e[o];return i?n.motionRepo.getIdentifierOrTitle(i):n.translate.instant("<unknown motion>")}))}}]),o}(s.a);return t.\u0275fac=function(e){return new(e||t)(u.Rb(l.k),u.Rb(a.a))},t.\u0275dir=u.Mb({type:t,features:[u.Cb]}),t}()},JTqh:function(t,e,o){"use strict";o.d(e,"a",(function(){return f}));var a=o("8Y7J"),s=o("2Vo4"),u=o("qnZ9"),l=o("lq69"),d=o("9st3"),f=function(){var t=function(t){r(o,t);var e=c(o);function o(t){var i;return n(this,o),(i=e.call(this)).pollService=t,i.chartDataSubject=new s.a([]),i}return i(o,[{key:"data",set:function(t){if(this._data=t,this.getDecimalFields().forEach((function(e){void 0!==t.data.poll[e]&&(t.data.poll[e]=parseFloat(t.data.poll[e]))})),t.data.poll.state===u.e.Published){var e=this.pollService.generateChartData(t.data.poll);this.chartDataSubject.next(e)}},get:function(){return this._data}}]),o}(d.a);return t.\u0275fac=function(e){return new(e||t)(a.Rb(Object(a.Z)((function(){return l.a}))))},t.\u0275dir=a.Mb({type:t,inputs:{data:"data"},features:[a.Cb]}),t}()},"Qy/R":function(t,e,o){"use strict";o.d(e,"a",(function(){return h}));var a=o("mrSG"),s=o("8Y7J"),u=o("F48D"),l=(o("/tkw"),o("mV3u")),d=o("cUpR"),f=o("TSSN"),p=o("zHaW"),g=["osSortedTree"],h=function(){var t=function(t){r(o,t);var e=c(o);function o(t,i,r,a){var c;return n(this,o),(c=e.call(this,t,i,r)).translate=i,c.promptService=a,c.changeState=new s.p,c.changeFilter=new s.p,c.forceSort=new s.p,c.hasChanged=!1,c.hasActiveFilter=!1,c.seenNodes=[0,0],c}return i(o,[{key:"onCancel",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.canDeactivate();case 2:if(t.t0=t.sent,!t.t0){t.next=5;break}this.osSortTree.setSubscription();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"receiveChanges",value:function(t){this.hasChanged=t}},{key:"onChangeAmountOfItems",value:function(t){this.seenNodes=t}},{key:"onStateChange",value:function(t){this.changeState.emit(t)}},{key:"canDeactivate",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.hasChanged){t.next=5;break}return e=this.translate.instant("Do you really want to exit this page?"),n=this.translate.instant("You made changes."),t.next=4,this.promptService.open(e,n);case 4:return t.abrupt("return",t.sent);case 5:return t.abrupt("return",!0);case 6:case"end":return t.stop()}}),t,this)})))}}]),o}(l.a);return t.\u0275fac=function(e){return new(e||t)(s.Rb(d.c),s.Rb(f.k),s.Rb(p.a),s.Rb(u.a))},t.\u0275dir=s.Mb({type:t,viewQuery:function(t,e){var n;1&t&&s.Mc(g,!0),2&t&&s.Bc(n=s.gc())&&(e.osSortTree=n.first)},features:[s.Cb]}),t}()},RGiq:function(t,e,o){"use strict";o.d(e,"a",(function(){return D}));var a=o("mrSG"),s=o("OwvW"),u=o("acQf"),l=o("F48D"),d=o("M0z7"),f=o("Xqcw"),p=o("8Y7J"),g=o("cUpR"),h=o("TSSN"),b=o("zHaW"),m=o("SVse"),v=o("BSbQ"),w=o("Dxy4"),C=o("Tj54"),_=o("pu8Q"),O=function(t){return{delegation:t}};function k(t,e){if(1&t&&(p.Xb(0,"div",5),p.Sb(1,"mat-divider"),p.Tb(2,6),p.Wb()),2&t){var n=e.$implicit;p.jc(3);var o=p.Cc(2);p.Fb(2),p.rc("ngTemplateOutlet",o)("ngTemplateOutletContext",p.xc(2,O,n))}}function y(t,e){if(1&t&&(p.Vb(0),p.Qc(1,k,3,4,"div",4),p.Ub()),2&t){var n=p.jc(2);p.Fb(1),p.rc("ngForOf",n.delegations)}}function S(t,e){if(1&t&&(p.Vb(0),p.Tb(1,3),p.Qc(2,y,2,1,"ng-container",0),p.Ub()),2&t){var n=p.jc(),o=p.Cc(2);p.Fb(1),p.rc("ngTemplateOutlet",o),p.Fb(1),p.rc("ngIf",n.user.is_present)}}function P(t,e){if(1&t&&(p.Xb(0,"h4",11),p.Xb(1,"span"),p.Sc(2),p.kc(3,"translate"),p.Wb(),p.Xb(4,"span"),p.Sc(5),p.Wb(),p.Wb()),2&t){var n=p.jc().delegation;p.Fb(2),p.Tc(p.lc(3,2,"Voting right for")),p.Fb(3),p.Uc("\xa0",n.getFullName(),"")}}function M(t,e){if(1&t){var n=p.Yb();p.Xb(0,"div",14),p.Xb(1,"button",15),p.fc("click",(function(){p.Gc(n);var t=e.$implicit,o=p.jc(2).delegation;return p.jc().saveVote(t.vote,o)})),p.Xb(2,"mat-icon"),p.Sc(3),p.Wb(),p.Wb(),p.Xb(4,"span",16),p.Sc(5),p.kc(6,"translate"),p.Wb(),p.Wb()}if(2&t){var o=e.$implicit,i=p.jc(2).delegation,r=p.jc();p.Fb(1),p.rc("ngClass",r.getActionButtonClass(o,i))("disabled",r.isDeliveringVote(i)),p.Fb(2),p.Uc(" ",o.icon,""),p.Fb(2),p.Uc(" ",p.lc(6,4,o.label)," ")}}function x(t,e){if(1&t&&(p.Xb(0,"div",12),p.Qc(1,M,7,6,"div",13),p.Wb()),2&t){var n=p.jc(2);p.Fb(1),p.rc("ngForOf",n.voteOptions)}}function j(t,e){if(1&t&&p.Tb(0,6),2&t){var n=p.jc().delegation;p.jc();var o=p.Cc(4);p.rc("ngTemplateOutlet",o)("ngTemplateOutletContext",p.xc(2,O,n))}}function I(t,e){1&t&&(p.Xb(0,"div",17),p.Sb(1,"mat-spinner",18),p.Sb(2,"br"),p.Xb(3,"span"),p.Sc(4),p.kc(5,"translate"),p.Wb(),p.Wb()),2&t&&(p.Fb(4),p.Tc(p.lc(5,1,"Delivering vote... Please wait!")))}function F(t,e){if(1&t&&(p.Qc(0,P,6,4,"h4",7),p.Qc(1,x,2,1,"div",8),p.Qc(2,j,1,4,"ng-container",9),p.Qc(3,I,6,3,"div",10)),2&t){var n=e.delegation,o=p.jc();p.rc("ngIf",n),p.Fb(1),p.rc("ngIf",o.canVote(n)),p.Fb(1),p.rc("ngIf",!o.canVote(n)),p.Fb(1),p.rc("ngIf",o.isDeliveringVote(n))}}function T(t,e){1&t&&(p.Xb(0,"div",20),p.Xb(1,"div"),p.Xb(2,"mat-icon",21),p.Sc(3," check_circle "),p.Wb(),p.Sb(4,"br"),p.Xb(5,"span"),p.Sc(6),p.kc(7,"translate"),p.Wb(),p.Wb(),p.Wb()),2&t&&(p.Fb(6),p.Tc(p.lc(7,1,"Voting successful.")))}function R(t,e){if(1&t&&(p.Xb(0,"div"),p.Xb(1,"span"),p.Sc(2),p.kc(3,"translate"),p.Wb(),p.Wb()),2&t){var n=p.jc().delegation,o=p.jc();p.Fb(2),p.Tc(p.lc(3,1,o.getVotingError(n)))}}function N(t,e){if(1&t&&(p.Qc(0,T,8,3,"div",19),p.Qc(1,R,4,3,"div",0)),2&t){var n=e.delegation,o=p.jc();p.rc("ngIf",o.hasAlreadyVoted(n)&&!o.isDeliveringVote(n)),p.Fb(1),p.rc("ngIf",!o.hasAlreadyVoted(n)&&!o.isDeliveringVote(n))}}var D=function(){var t=function(t){r(o,t);var e=c(o);function o(t,i,r,a,c,s,u,l){var d;return n(this,o),(d=e.call(this,t,i,r,a,c)).votingService=c,d.pollRepo=s,d.promptService=u,d.cd=l,d.voteOptions=[{vote:"Y",css:"voted-yes",icon:"thumb_up",label:"Yes"},{vote:"N",css:"voted-no",icon:"thumb_down",label:"No"},{vote:"A",css:"voted-abstain",icon:"trip_origin",label:"Abstain"}],d.subscriptions.push(a.getViewUserObservable().subscribe((function(){d.cd.markForCheck()}))),d}return i(o,[{key:"ngOnInit",value:function(){this.createVotingDataObjects(),this.cd.markForCheck()}},{key:"getActionButtonClass",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.user;return(null===(e=this.voteRequestData[n.id])||void 0===e?void 0:e.vote)===t.vote?t.css:""}},{key:"saveVote",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.user;return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var o,i,r=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.voteRequestData[e.id]){n.next=8;break}return this.voteRequestData[e.id].vote=t,o=this.translate.instant("Submit selection now?"),i=this.translate.instant("Your decision cannot be changed afterwards."),n.next=5,this.promptService.open(o,i);case 5:if(n.t0=n.sent,!n.t0){n.next=8;break}this.deliveringVote[e.id]=!0,this.cd.markForCheck(),this.pollRepo.vote(t,this.poll.id,e.id).then((function(){r.alreadyVoted[e.id]=!0})).catch(this.raiseError).finally((function(){r.deliveringVote[e.id]=!1,r.cd.markForCheck()}));case 8:case"end":return n.stop()}}),n,this)})))}}]),o}(f.a);return t.\u0275fac=function(e){return new(e||t)(p.Rb(g.c),p.Rb(h.k),p.Rb(b.a),p.Rb(s.a),p.Rb(d.b),p.Rb(u.a),p.Rb(l.a),p.Rb(p.h))},t.\u0275cmp=p.Lb({type:t,selectors:[["os-motion-poll-vote"]],features:[p.Cb],decls:5,vars:1,consts:[[4,"ngIf"],["votingArea",""],["cannotVote",""],[3,"ngTemplateOutlet"],["class","motion-vote-delegation",4,"ngFor","ngForOf"],[1,"motion-vote-delegation"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","motion-delegation-title",4,"ngIf"],["class","vote-button-grid",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],["class","submit-vote-indicator",4,"ngIf"],[1,"motion-delegation-title"],[1,"vote-button-grid"],["class","vote-button",4,"ngFor","ngForOf"],[1,"vote-button"],["mat-raised-button","",3,"ngClass","disabled","click"],[1,"vote-label"],[1,"submit-vote-indicator"],[1,"small-spinner"],["class","user-has-voted",4,"ngIf"],[1,"user-has-voted"],[1,"vote-submitted"]],template:function(t,e){1&t&&(p.Qc(0,S,3,2,"ng-container",0),p.Qc(1,F,4,4,"ng-template",null,1,p.Rc),p.Qc(3,N,2,2,"ng-template",null,2,p.Rc)),2&t&&p.rc("ngIf",e.poll)},directives:[m.t,m.A,m.s,v.a,w.b,m.q,C.a,_.c],pipes:[h.j],styles:[".yes[_ngcontent-%COMP%]{color:#4caf50}.no[_ngcontent-%COMP%]{color:#cc6c5b}.abstain[_ngcontent-%COMP%]{color:#a6a6a6}.voted-yes[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.voted-no[_ngcontent-%COMP%]{background-color:#cc6c5b;color:#fff}.voted-abstain[_ngcontent-%COMP%]{background-color:#a6a6a6;color:#fff}.start-poll-button[_ngcontent-%COMP%]{color:#4caf50}.stop-poll-button[_ngcontent-%COMP%]{color:#ff5252}.publish-poll-button[_ngcontent-%COMP%]{color:#e6b100}.vote-button-grid[_ngcontent-%COMP%]{display:grid;grid-gap:20px;margin-top:2em;grid-template-columns:repeat(auto-fit,minmax(100px,1fr))}.motion-vote-delegation[_ngcontent-%COMP%]{margin-top:1em}.motion-vote-delegation[_ngcontent-%COMP%]   .motion-delegation-title[_ngcontent-%COMP%]{font-weight:500}.submit-vote-indicator[_ngcontent-%COMP%]{margin-top:1em;text-align:center}.submit-vote-indicator[_ngcontent-%COMP%]   .mat-spinner[_ngcontent-%COMP%]{margin:auto}.vote-button[_ngcontent-%COMP%]{display:inline-grid;grid-gap:1em;margin:auto}.vote-button[_ngcontent-%COMP%]   .vote-label[_ngcontent-%COMP%]{text-align:center}.mat-divider-horizontal[_ngcontent-%COMP%]{position:static}.user-has-voted[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;text-align:center}.user-has-voted[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-top:1em;margin-left:auto;margin-right:auto}.user-has-voted[_ngcontent-%COMP%]   .vote-submitted[_ngcontent-%COMP%]{color:#4caf50;font-size:200%}"],changeDetection:0}),t}()},RY0B:function(t,e,o){"use strict";o.d(e,"a",(function(){return g}));var r=o("490r"),a=o("+KbT"),c=o("8Y7J"),s=o("SVse"),u=function(t){return{"only-time-indicator":t}};function l(t,e){if(1&t&&(c.Xb(0,"div",3),c.Sb(1,"div",4),c.Wb()),2&t){var n=c.jc();c.rc("ngClass",c.xc(1,u,!n.showCountdown&&n.showTimeIndicator))}}var d=function(t){return{"only-countdown":t}};function f(t,e){if(1&t&&(c.Xb(0,"div",5),c.Xb(1,"span",6),c.Sc(2),c.Wb(),c.Wb()),2&t){var n=c.jc();c.rc("ngClass",c.xc(2,d,n.showCountdown&&!n.showTimeIndicator)),c.Fb(2),c.Uc(" ",n.time," ")}}var p=function(t,e,n){return{"negative-time":t,"warning-time":e,"stretch-to-fill-parent":n}},g=function(){var t=function(){function t(e,o){n(this,t),this.servertimeService=e,this.configService=o,this.fullscreen=!1,this.showTimeIndicator=!1,this.showCountdown=!0}return i(t,[{key:"ngOnInit",value:function(){this.configService.get("font_monospace").subscribe((function(t){t&&new FontFace("OSFont Monospace","url(".concat(t.path||t.default,")")).load().then((function(t){document.fonts.add(t)})).catch((function(t){console.log(t)}))}))}},{key:"updateCountdownTime",value:function(){this.seconds=this.countdown.running?Math.floor(this.countdown.countdown_time-this.servertimeService.getServertime()/1e3):this.countdown.countdown_time;var t=this.seconds<0,e=this.seconds;t&&(e=-e);var n=new Date(1e3*e),o="0"+n.getMinutes(),i="0"+n.getSeconds();this.time=o.slice(-2)+":"+i.slice(-2),t&&(this.time="-"+this.time)}},{key:"ngOnDestroy",value:function(){this.countdownInterval&&clearInterval(this.countdownInterval)}},{key:"displayType",set:function(t){t||(t="onlyCountdown"),this.showTimeIndicator="countdownAndTimeIndicator"===t||"onlyTimeIndicator"===t,this.showCountdown="onlyCountdown"===t||"countdownAndTimeIndicator"===t}},{key:"countdown",set:function(t){var e=this;this._countdown=t,this.countdownInterval&&clearInterval(this.countdownInterval),t&&(this.updateCountdownTime(),this.countdownInterval=setInterval((function(){return e.updateCountdownTime()}),500))},get:function(){return this._countdown}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.Rb(r.a),c.Rb(a.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["os-countdown-time"]],inputs:{warningTime:"warningTime",fullscreen:"fullscreen",displayType:"displayType",countdown:"countdown"},decls:3,vars:7,consts:[[1,"countdown-time-wrapper",3,"ngClass"],["class","time-indicator-wrapper",3,"ngClass",4,"ngIf"],["class","countdown-wrapper",3,"ngClass",4,"ngIf"],[1,"time-indicator-wrapper",3,"ngClass"],["id","timeIndicator"],[1,"countdown-wrapper",3,"ngClass"],["id","countdown"]],template:function(t,e){1&t&&(c.Xb(0,"div",0),c.Qc(1,l,2,3,"div",1),c.Qc(2,f,3,4,"div",2),c.Wb()),2&t&&(c.rc("ngClass",c.zc(3,p,e.seconds<=0,e.seconds<=e.warningTime&&e.seconds>0,e.fullscreen)),c.Fb(1),c.rc("ngIf",e.showTimeIndicator),c.Fb(1),c.rc("ngIf",e.showCountdown))},directives:[s.q,s.t],styles:['@font-face{font-family:OSFont;font-style:normal;font-display:swap;font-weight:400;src:url(fira-sans-latin-400.a6dfc650c384fc216db7.woff) format("woff")}@font-face{font-family:OSFont;font-style:italic;font-display:swap;font-weight:400;src:url(fira-sans-latin-400italic.bba27fdf478c53625712.woff) format("woff")}@font-face{font-family:OSFont;font-style:normal;font-display:swap;font-weight:500;src:url(fira-sans-latin-500.b4df85773252b69873f7.woff) format("woff")}@font-face{font-family:OSFont;font-style:italic;font-display:swap;font-weight:500;src:url(fira-sans-latin-500italic.3af610c018c6850a3344.woff) format("woff")}@font-face{font-family:OSFont Condensed;font-style:normal;font-display:swap;font-weight:400;src:url(fira-sans-condensed-latin-400.93da92e83626ed5b1a0b.woff) format("woff")}@font-face{font-family:"OSFont Monospace";font-style:normal;font-display:swap;font-weight:400;src:url(roboto-condensed-bold.8b1204b2d4afe3341531.woff) format("woff")}.countdown-time-wrapper[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between}.countdown-time-wrapper.warning-time[_ngcontent-%COMP%]{color:#ed940e}.countdown-time-wrapper.warning-time[_ngcontent-%COMP%]   .time-indicator-wrapper[_ngcontent-%COMP%]   #timeIndicator[_ngcontent-%COMP%]{background:#ed940e}.countdown-time-wrapper.negative-time[_ngcontent-%COMP%]{color:#c00}.countdown-time-wrapper.negative-time[_ngcontent-%COMP%]   .time-indicator-wrapper[_ngcontent-%COMP%]   #timeIndicator[_ngcontent-%COMP%]{background:#c00}.countdown-time-wrapper[_ngcontent-%COMP%]   .time-indicator-wrapper[_ngcontent-%COMP%]{text-align:left}.countdown-time-wrapper[_ngcontent-%COMP%]   .time-indicator-wrapper.only-time-indicator[_ngcontent-%COMP%]{width:100%;text-align:right}.countdown-time-wrapper[_ngcontent-%COMP%]   .time-indicator-wrapper.only-time-indicator[_ngcontent-%COMP%]   #timeIndicator[_ngcontent-%COMP%]{width:60px;height:60px}.countdown-time-wrapper[_ngcontent-%COMP%]   .time-indicator-wrapper[_ngcontent-%COMP%]   #timeIndicator[_ngcontent-%COMP%]{width:50px;height:50px;display:inline-block;background:green;border-radius:50%}.countdown-time-wrapper[_ngcontent-%COMP%]   .countdown-wrapper[_ngcontent-%COMP%]{width:170px;text-align:right!important;position:relative;height:100%}.countdown-time-wrapper[_ngcontent-%COMP%]   .countdown-wrapper[_ngcontent-%COMP%]:not(.only-countdown){margin-left:10px;font-size:60px;line-height:60px}.countdown-time-wrapper[_ngcontent-%COMP%]   .countdown-wrapper.only-countdown[_ngcontent-%COMP%]{width:100%;line-height:100%;text-align:center}.countdown-time-wrapper[_ngcontent-%COMP%]   .countdown-wrapper[_ngcontent-%COMP%]   #countdown[_ngcontent-%COMP%]{white-space:nowrap;font-family:"OSFont Monospace";font-weight:700;text-align:center}.countdown-time-wrapper.stretch-to-fill-parent[_ngcontent-%COMP%]   .time-indicator-wrapper[_ngcontent-%COMP%]{width:30%}.countdown-time-wrapper.stretch-to-fill-parent[_ngcontent-%COMP%]   .time-indicator-wrapper[_ngcontent-%COMP%]   #timeIndicator[_ngcontent-%COMP%]{width:auto;height:auto;margin-left:50px}.countdown-time-wrapper.stretch-to-fill-parent[_ngcontent-%COMP%]   .countdown-wrapper[_ngcontent-%COMP%]{width:70%}.countdown-time-wrapper.stretch-to-fill-parent[_ngcontent-%COMP%]   .countdown-wrapper[_ngcontent-%COMP%]   #countdown[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:50px}.countdown-time-wrapper.stretch-to-fill-parent[_ngcontent-%COMP%]   .time-indicator-wrapper.only-time-indicator[_ngcontent-%COMP%]{width:100%;text-align:center}.countdown-time-wrapper.stretch-to-fill-parent[_ngcontent-%COMP%]   .time-indicator-wrapper.only-time-indicator[_ngcontent-%COMP%]   #timeIndicator[_ngcontent-%COMP%]{padding:0 0 70% 70%}.countdown-time-wrapper.stretch-to-fill-parent[_ngcontent-%COMP%]   .time-indicator-wrapper[_ngcontent-%COMP%]:not(.only-time-indicator)   #timeIndicator[_ngcontent-%COMP%]{padding:0 0 65% 65%}.countdown-time-wrapper.stretch-to-fill-parent[_ngcontent-%COMP%]   .countdown-wrapper.only-countdown[_ngcontent-%COMP%]{margin:0 50px;width:calc(100% - 100px)}.countdown-time-wrapper.stretch-to-fill-parent[_ngcontent-%COMP%]   .countdown-wrapper.only-countdown[_ngcontent-%COMP%]   #countdown[_ngcontent-%COMP%]{line-height:300px;font-size:300px;bottom:calc(50% - 150px)}@media screen and (max-width:599px){.countdown-time-wrapper.stretch-to-fill-parent[_ngcontent-%COMP%]   .countdown-wrapper[_ngcontent-%COMP%]:not(.only-countdown)   #countdown[_ngcontent-%COMP%]{font-size:210px;line-height:210px;bottom:calc(50% - 105px)}}@media screen and (min-width:600px){.countdown-time-wrapper.stretch-to-fill-parent[_ngcontent-%COMP%]   .countdown-wrapper[_ngcontent-%COMP%]:not(.only-countdown)   #countdown[_ngcontent-%COMP%]{line-height:230px;font-size:230px;bottom:calc(50% - 115px)}}']}),t}()},VVsa:function(t,o,a){"use strict";a.d(o,"a",(function(){return O}));var s=a("D/ll"),l=a("OwvW"),d=a("AqIO"),f=a("iTQr"),p=a("D5Qf"),g=a("+B0n"),h=a("dOok"),b=a("s3dr"),m=a("lv9T"),v=a("+KbT"),w=a("Q5D0"),C=a("8Y7J"),_=a("TSSN"),O=function(){var t=function(t){r(a,t);var o=c(a);function a(t,e,i,r,c,s,u,l,d,f,p){var g;return n(this,a),(g=o.call(this,t,e,i,r,c,s,u,l,d,f)).keyPrefix="AmendmentList",g.motionFilterOptions={property:"parent_id",label:"Motion",options:[]},g.updateFilterForRepo(p,g.motionFilterOptions,null,(function(t){return p.hasAmendments(t)})),g}return i(a,[{key:"updateStorageKey",value:function(){this.storageKey=this._parentMotionId?"".concat(this.keyPrefix,"_parentId_").concat(this._parentMotionId):this.keyPrefix}},{key:"preFilter",value:function(t){var e=this;return t.filter((function(t){return e._parentMotionId?t.parent_id===e._parentMotionId:!!t.parent_id}))}},{key:"getFilterDefinitions",value:function(){if(this.motionFilterOptions)return[this.motionFilterOptions].concat(e(u(a.prototype),"getFilterDefinitions",this).call(this))}},{key:"isWorkflowEnabled",value:function(t){return t===this.enabledWorkflows.amendment}},{key:"parentMotionId",set:function(t){this._parentMotionId=t,this.updateStorageKey()}}]),a}(w.a);return t.\u0275fac=function(e){return new(e||t)(C.bc(d.a),C.bc(s.a),C.bc(f.a),C.bc(p.a),C.bc(g.a),C.bc(m.a),C.bc(b.a),C.bc(_.k),C.bc(l.a),C.bc(v.a),C.bc(h.a))},t.\u0275prov=C.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},VaoK:function(t,e,o){"use strict";o.d(e,"a",(function(){return i}));var i=function(t){r(o,t);var e=c(o);function o(){return n(this,o),e.apply(this,arguments)}return o}(o("iu6c").a)},c3p6:function(e,o,a){"use strict";a.d(o,"a",(function(){return d}));var s=a("mrSG"),u=a("2Vo4"),l=a("qnZ9"),d=function(e){r(a,e);var o=c(a);function a(e,i,r,c,s,d,f){var p,g;return n(this,a),(g=o.call(this,e,r,i)).translate=r,g.dialog=c,g.promptService=s,g.repo=d,g.pollDialog=f,g.stateChangePending=!1,g.chartDataSubject=new u.a([]),g.pollStateActions=(t(p={},l.e.Created,{icon:"play_arrow",css:"start-poll-button"}),t(p,l.e.Started,{icon:"stop",css:"stop-poll-button"}),t(p,l.e.Finished,{icon:"public",css:"publish-poll-button"}),p),g}return i(a,[{key:"changeState",value:function(t){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,o,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==l.e.Created){e.next=9;break}return n=this.translate.instant("Are you sure you want to reset this vote?"),o=this.translate.instant("All votes will be lost."),e.next=4,this.promptService.open(n,o);case 4:if(e.t0=e.sent,!e.t0){e.next=7;break}this.stateChangePending=!0,this.repo.resetPoll(this._poll).catch(this.raiseError).finally((function(){i.stateChangePending=!1}));case 7:e.next=10;break;case 9:this.stateChangePending=!0,this.repo.changePollState(this._poll).catch(this.raiseError).finally((function(){i.stateChangePending=!1}));case 10:case"end":return e.stop()}}),e,this)})))}},{key:"resetState",value:function(){this.changeState(l.e.Created)}},{key:"onDeletePoll",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.translate.instant("Are you sure you want to delete this vote?"),t.next=3,this.promptService.open(e);case 3:if(t.t0=t.sent,!t.t0){t.next=7;break}return t.next=7,this.repo.delete(this._poll).catch(this.raiseError);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"openDialog",value:function(){this.pollDialog.openDialog(this._poll)}},{key:"initPoll",value:function(t){this._poll=t}},{key:"refreshPoll",value:function(){this.repo.refresh(this._poll)}},{key:"hideChangeState",get:function(){return this._poll.isPublished||this._poll.isCreated&&this._poll.type===l.f.Analog}}]),a}(a("mV3u").a)},cfFX:function(t,e,o){"use strict";o.d(e,"a",(function(){return c}));var r=o("OwvW"),a=o("8Y7J"),c=function(){var t=function(){function t(e,o,i){n(this,t),this.template=e,this.viewContainer=o,this.operator=i,this.lastIsSuperAdminCheckResult=!1}return i(t,[{key:"ngOnInit",value:function(){var t=this;this.operatorSubscription=this.operator.getUserObservable().subscribe((function(){t.updateView()}))}},{key:"ngOnDestroy",value:function(){this.operatorSubscription&&this.operatorSubscription.unsubscribe()}},{key:"updateView",value:function(){var t=this.operator.isSuperAdmin;t&&t!==this.lastIsSuperAdminCheckResult?(this.viewContainer.clear(),this.viewContainer.createEmbeddedView(this.template)):t||this.viewContainer.clear(),this.lastIsSuperAdminCheckResult=t}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Rb(a.Q),a.Rb(a.V),a.Rb(r.a))},t.\u0275dir=a.Mb({type:t,selectors:[["","osIsSuperAdmin",""]]}),t}()},f3I0:function(t,e,o){"use strict";o.d(e,"a",(function(){return s}));var r=o("OwvW"),a=o("+KbT"),c=o("8Y7J"),s=function(){var t=function(){function t(e,o){var i=this;n(this,t),this.operator=e,this.configService=o,this.configService.get("motions_min_supporters").subscribe((function(t){return i.configMinSupporters=t})),this.configService.get("motions_amendments_enabled").subscribe((function(t){return i.amendmentEnabled=t})),this.configService.get("motions_amendments_of_amendments").subscribe((function(t){return i.amendmentOfAmendment=t}))}return i(t,[{key:"canAccessMobileDotMenu",value:function(){return this.operator.hasPerms(r.b.agendaCanSeeListOfSpeakers,r.b.coreCanManageProjector)}},{key:"isAllowed",value:function(t,e){var n=this;switch(t){case"create":return this.operator.hasPerms(r.b.motionsCanCreate);case"support":return!(!e||!e.state)&&this.operator.hasPerms(r.b.motionsCanSupport)&&this.configMinSupporters>0&&e.state&&e.state.allow_support&&e.submitters&&!e.submittersAsUsers.includes(this.operator.viewUser)&&e.supporters&&!e.supporters.includes(this.operator.viewUser);case"unsupport":return!!e&&e.state&&e.state.allow_support&&e.supporters&&-1!==e.supporters.indexOf(this.operator.viewUser);case"createpoll":return!!e&&(this.operator.hasPerms(r.b.motionsCanManage)||this.operator.hasPerms(r.b.motionsCanManageMetadata))&&e.state&&e.state.allow_create_poll;case"update":return!(!e||!e.id)&&(this.operator.hasPerms(r.b.motionsCanManage)||e.state&&e.state.allow_submitter_edit&&e.submitters&&e.submitters.length&&!this.operator.isAnonymous&&e.submitters.some((function(t){return t.user_id===n.operator.user.id})));case"update_submitters":return this.operator.hasPerms(r.b.motionsCanManage);case"delete":return!!e&&this.operator.hasPerms(r.b.motionsCanManage)&&e.state&&e.state.allow_submitter_edit&&e.submitters&&e.submitters.length&&e.submitters.some((function(t){return t.user_id===n.operator.user.id}));case"change_state":return!(!e||!e.id)&&(this.operator.hasPerms(r.b.motionsCanManage)||this.operator.hasPerms(r.b.motionsCanManageMetadata)||e.state&&e.state.allow_submitter_edit&&!this.operator.isAnonymous&&e.submitters&&e.submitters.some((function(t){return t.user_id===n.operator.user.id})));case"change_metadata":return this.operator.hasPerms(r.b.motionsCanManage)||this.operator.hasPerms(r.b.motionsCanManageMetadata);case"can_create_amendments":return!!e&&this.operator.hasPerms(r.b.motionsCanCreateAmendments)&&this.amendmentEnabled&&(!e.parent_id||e.parent_id&&this.amendmentOfAmendment);case"can_manage_metadata":return this.operator.hasPerms(r.b.motionsCanManage)&&this.operator.hasPerms(r.b.motionsCanManageMetadata);case"can_manage_config":return this.operator.hasPerms(r.b.coreCanManageConfig);case"manage":return this.operator.hasPerms(r.b.motionsCanManage);default:return!1}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.bc(r.a),c.bc(a.a))},t.\u0275prov=c.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},iVKA:function(t,e,o){"use strict";o.d(e,"a",(function(){return l}));var r=o("XNiG"),a=o("2Vo4"),c=o("3UWI"),s=o("EqxN"),u=o("8Y7J"),l=function(){var t=function(){function t(e){var o=this;n(this,t),this.websocketService=e,this.openProjectorInstances={},this.currentProjectorData={},this.updateProjectorDataDebounceSubject=new r.a,this.currentChangeId=0,this.websocketService.getOberservable("projector").subscribe((function(t){o.currentChangeId>t.change_id||(Object.keys(t.data).forEach((function(e){var n=parseInt(e,10);o.currentProjectorData[n]&&o.currentProjectorData[n].next(t.data[n])})),o.currentChangeId=t.change_id)})),this.websocketService.generalConnectEvent.subscribe((function(){return o.updateProjectorDataSubscription()})),this.updateProjectorDataDebounceSubject.pipe(Object(c.a)(10)).subscribe((function(){var t=Object.keys(o.openProjectorInstances).map((function(t){return parseInt(t,10)})).filter((function(t){return o.openProjectorInstances[t]>0}));o.websocketService.send("listenToProjectors",{projector_ids:t})}))}return i(t,[{key:"getProjectorObservable",value:function(t){return this.openProjectorInstances[t]?this.openProjectorInstances[t]++:(this.openProjectorInstances[t]=1,this.currentProjectorData[t]||(this.currentProjectorData[t]=new a.a(null))),1===this.openProjectorInstances[t]&&this.updateProjectorDataSubscription(),this.currentProjectorData[t].asObservable()}},{key:"projectorClosed",value:function(t){this.openProjectorInstances[t]&&this.openProjectorInstances[t]--,0===this.openProjectorInstances[t]&&(this.updateProjectorDataSubscription(),this.currentProjectorData[t].next(null))}},{key:"updateProjectorDataSubscription",value:function(){this.updateProjectorDataDebounceSubject.next()}},{key:"getAvailableProjectorData",value:function(t){if(this.currentProjectorData[t.id])return this.currentProjectorData[t.id].getValue()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.bc(s.b))},t.\u0275prov=u.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},kYDr:function(t,e,o){"use strict";o.d(e,"a",(function(){return s}));var r=o("mrSG"),a=o("+WZz"),c=o("8Y7J"),s=function(){var t=function(){function t(e){n(this,t),this.projectorService=e}return i(t,[{key:"getCurrentListOfSpeakersProjectorElement",value:function(t){return{name:t?"agenda/current-list-of-speakers-overlay":"agenda/current-list-of-speakers",stable:t,getIdentifiers:function(){return["name"]}}}},{key:"getSlide",value:function(t){var e=this;return{getBasicProjectorElement:function(n){return e.getCurrentListOfSpeakersProjectorElement(t)},slideOptions:[],projectionDefaultName:"agenda_current_list_of_speakers",getDialogTitle:function(){return"Current list of speakers"}}}},{key:"isProjectedOn",value:function(t,e){return this.projectorService.isProjectedOn(this.getCurrentListOfSpeakersProjectorElement(e),t.projector)}},{key:"toggleOn",value:function(t,e){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.isProjectedOn(t,e)){n.next=5;break}return n.next=3,this.projectorService.removeFrom(t.projector,this.getCurrentListOfSpeakersProjectorElement(e));case 3:n.next=7;break;case 5:return n.next=7,this.projectorService.projectOn(t.projector,this.getCurrentListOfSpeakersProjectorElement(e));case 7:case"end":return n.stop()}}),n,this)})))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.bc(a.a))},t.\u0275prov=c.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},m1Ob:function(t,e,o){"use strict";o.d(e,"a",(function(){return l}));var i=o("8Y7J"),r=o("SVse"),a=o("BSbQ"),c=function(t){return{"no-space":t}};function s(t,e){if(1&t&&(i.Xb(0,"div",2),i.Xb(1,"h3"),i.Sc(2),i.Wb(),i.Sb(3,"mat-divider"),i.Wb()),2&t){var n=i.jc();i.rc("ngClass",i.xc(2,c,n.noSpace)),i.Fb(2),i.Tc(n.title)}}var u=["*"],l=function(){var t=function t(){n(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Lb({type:t,selectors:[["os-grid-layout"]],inputs:{title:"title",noSpace:"noSpace"},ngContentSelectors:u,decls:3,vars:4,consts:[["class","heading-container",3,"ngClass",4,"ngIf"],[1,"os-grid",3,"ngClass"],[1,"heading-container",3,"ngClass"]],template:function(t,e){1&t&&(i.qc(),i.Qc(0,s,4,4,"div",0),i.Xb(1,"div",1),i.pc(2),i.Wb()),2&t&&(i.rc("ngIf",e.title),i.Fb(1),i.rc("ngClass",i.xc(2,c,e.noSpace)))},directives:[r.t,r.q,a.a],styles:[".heading-container[_ngcontent-%COMP%]{padding:0 16px}.heading-container.no-space[_ngcontent-%COMP%]{padding:0}.os-grid[_ngcontent-%COMP%]{padding:8px;display:-ms-flexbox;display:flex;-ms-flex-flow:row wrap;flex-flow:row wrap}.os-grid.no-space[_ngcontent-%COMP%]{padding:0}"]}),t}()},rsMv:function(t,e,o){"use strict";o.d(e,"a",(function(){return c}));var i=o("SVse"),r=o("PCNd"),a=o("8Y7J"),c=function(){var t=function t(){n(this,t)};return t.\u0275mod=a.Pb({type:t}),t.\u0275inj=a.Ob({factory:function(e){return new(e||t)},imports:[[i.c,r.a]]}),t}()},ycpk:function(t,e,o){"use strict";o.d(e,"a",(function(){return N}));var a=o("B5uJ"),s=o("8Y7J"),u=o("PDjf"),l=o("SVse"),d=o("BSbQ"),f=["contentNode"],p=["blockNode"],g=["actionNode"];function h(t,e){if(1&t&&(s.Vb(0),s.Sc(1),s.Ub()),2&t){var n=s.jc(2);s.Fb(1),s.Uc(" ",n.block," ")}}function b(t,e){if(1&t&&(s.Vb(0),s.Tb(1,10),s.Ub()),2&t){var n=s.jc(2),o=s.Cc(4);s.Fb(1),s.rc("ngTemplateOutlet",o)("ngTemplateOutletContext",n.data)}}var m=function(t){return{"no-padding":t}};function v(t,e){if(1&t&&(s.Xb(0,"div",6),s.Xb(1,"div",7,8),s.Qc(3,h,2,1,"ng-container",9),s.Qc(4,b,2,2,"ng-container",9),s.Wb(),s.Wb()),2&t){var n=s.jc();s.rc("ngSwitch",n.blockType)("ngClass",s.xc(6,m,n.noPaddingBlock)),s.Fb(1),s.Nc("border-radius","horizontal"===n.orientation?"4px 0 0 4px":"4px 4px 0 0"),s.Fb(2),s.rc("ngSwitchCase","text"),s.Fb(1),s.rc("ngSwitchCase","node")}}function w(t,e){if(1&t&&(s.Xb(0,"mat-card-subtitle",17),s.Sc(1),s.Wb()),2&t){var n=s.jc(4);s.Fb(1),s.Uc(" ",n.subtitle," ")}}function C(t,e){if(1&t&&(s.Vb(0),s.Xb(1,"mat-card-title",15),s.Sc(2),s.Wb(),s.Qc(3,w,2,1,"mat-card-subtitle",16),s.Ub()),2&t){var n=s.jc(3);s.Fb(2),s.Uc(" ",n.title," "),s.Fb(1),s.rc("ngIf",n.subtitle)}}function _(t,e){1&t&&s.Sb(0,"mat-divider")}var O=function(t){return{"only-content":t}};function k(t,e){if(1&t&&(s.Xb(0,"div",18,19),s.Tb(2,10),s.Wb()),2&t){var n=s.jc(3),o=s.Cc(6);s.rc("ngClass",s.xc(3,O,"content"===n.only)),s.Fb(2),s.rc("ngTemplateOutlet",o)("ngTemplateOutletContext",n.data)}}function y(t,e){if(1&t&&(s.Vb(0),s.Qc(1,C,4,2,"ng-container",13),s.Qc(2,_,1,0,"mat-divider",13),s.Qc(3,k,3,5,"div",14),s.Ub()),2&t){var n=s.jc(2);s.Fb(1),s.rc("ngIf",!n.only||"title"===n.only),s.Fb(1),s.rc("ngIf",!n.only),s.Fb(1),s.rc("ngIf",!n.only||"content"===n.only)}}function S(t,e){if(1&t&&(s.Xb(0,"mat-card-actions",null,20),s.Tb(2,21),s.Wb()),2&t){s.jc(2);var n=s.Cc(8);s.Fb(2),s.rc("ngTemplateOutlet",n)}}function P(t,e){if(1&t&&(s.Xb(0,"div",11),s.Xb(1,"mat-card-content",12),s.Qc(2,y,4,3,"ng-container",13),s.Qc(3,S,3,1,"mat-card-actions",13),s.Wb(),s.Wb()),2&t){var n=s.jc();s.Fb(2),s.rc("ngIf",n.showContentNode),s.Fb(1),s.rc("ngIf",n.showActions)}}function M(t,e){1&t&&s.pc(0)}function x(t,e){1&t&&s.pc(0,1)}function j(t,e){1&t&&s.pc(0,2)}var I=[[["",8,"block-node"]],[["",8,"block-content-node"]],[["",8,"block-action-node"]]],F=function(t,e){return{"is-square":t,vertical:e}},T=[".block-node",".block-content-node",".block-action-node"],R=function(t){return t.text="text",t.node="node",t}({}),N=function(){var t=function(t){r(o,t);var e=c(o);function o(t){var i;return n(this,o),(i=e.call(this)).cd=t,i.blockType=R.node,i.noPaddingBlock=!1,i.isSquare=!1,i.orientation="horizontal",i.only=null,i}return i(o,[{key:"ngAfterViewInit",value:function(){void 0===this._showBlockNode&&(this.showBlockNode=this.checkForContent(this.blockNode)),void 0===this._showContentNode&&(this.showContentNode=this.checkForContent(this.contentNode)),void 0===this._showActionNode&&(this.showActions=this.checkForContent(this.actionNode)),this.cd.detectChanges()}},{key:"checkForContent",value:function(t){return!!t&&Array.from(t.nativeElement.childNodes).some((function(t){return 8!==t.nodeType}))}},{key:"showBlockNode",set:function(t){this._showBlockNode=t},get:function(){return void 0===this._showBlockNode||this._showBlockNode}},{key:"showContentNode",set:function(t){this._showContentNode=t},get:function(){return void 0===this._showContentNode||this._showContentNode||!!this.only||!!this.title}},{key:"showActions",set:function(t){this._showActionNode=t},get:function(){return void 0===this._showActionNode||this._showActionNode}}]),o}(a.a);return t.\u0275fac=function(e){return new(e||t)(s.Rb(s.h))},t.\u0275cmp=s.Lb({type:t,selectors:[["os-block-tile"]],viewQuery:function(t,e){var n;1&t&&(s.Yc(f,!0),s.Yc(p,!0),s.Yc(g,!0)),2&t&&(s.Bc(n=s.gc())&&(e.contentNode=n.first),s.Bc(n=s.gc())&&(e.blockNode=n.first),s.Bc(n=s.gc())&&(e.actionNode=n.first))},inputs:{blockType:"blockType",noPaddingBlock:"noPaddingBlock",isSquare:"isSquare",block:"block",title:"title",subtitle:"subtitle",orientation:"orientation",only:"only",showBlockNode:"showBlockNode",showContentNode:"showContentNode",showActions:"showActions"},features:[s.Cb],ngContentSelectors:T,decls:9,vars:8,consts:[[1,"block-tile",3,"ngClass","click"],["class","block-node-container",3,"ngSwitch","ngClass",4,"ngIf"],["class","tile-content-node-container",4,"ngIf"],["blockNodeTemplate",""],["contentNodeTemplate",""],["actionNodeTemplate",""],[1,"block-node-container",3,"ngSwitch","ngClass"],[1,"tile-text","stretch-to-fill-parent","tile-color"],["blockNode",""],[4,"ngSwitchCase"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"tile-content-node-container"],[1,"tile-content"],[4,"ngIf"],["class","tile-content-extra",3,"ngClass",4,"ngIf"],[1,"tile-content-title"],["class","tile-content-subtitle",4,"ngIf"],[1,"tile-content-subtitle"],[1,"tile-content-extra",3,"ngClass"],["contentNode",""],["actionNode",""],[3,"ngTemplateOutlet"]],template:function(t,e){1&t&&(s.qc(I),s.Xb(0,"mat-card",0),s.fc("click",(function(t){return e.onClick(t)})),s.Qc(1,v,5,8,"div",1),s.Qc(2,P,4,2,"div",2),s.Wb(),s.Qc(3,M,1,0,"ng-template",null,3,s.Rc),s.Qc(5,x,1,0,"ng-template",null,4,s.Rc),s.Qc(7,j,1,0,"ng-template",null,5,s.Rc)),2&t&&(s.Nc("display","horizontal"===e.orientation?"flex":"block"),s.rc("ngClass",s.yc(5,F,e.isSquare,"vertical"===e.orientation)),s.Fb(1),s.rc("ngIf",e.showBlockNode),s.Fb(1),s.rc("ngIf",e.showContentNode||e.showActions))},directives:[u.a,l.q,l.t,l.x,l.y,l.A,u.d,u.m,u.l,d.a,u.b],styles:[".block-tile[_ngcontent-%COMP%]{padding:0}.block-tile.is-square[_ngcontent-%COMP%]:not(.vertical)   .block-node-container[_ngcontent-%COMP%]{padding-bottom:100%}.block-tile.vertical.is-square[_ngcontent-%COMP%]{padding-bottom:100%;height:0}.block-tile.vertical[_ngcontent-%COMP%]   .block-node-container[_ngcontent-%COMP%]{padding-bottom:50%}.block-tile.vertical[_ngcontent-%COMP%]   .tile-content-node-container[_ngcontent-%COMP%]{margin:0}.block-tile[_ngcontent-%COMP%]   .block-node-container[_ngcontent-%COMP%]{position:relative;min-width:30%}.block-tile[_ngcontent-%COMP%]   .block-node-container[_ngcontent-%COMP%]:not(.no-padding){padding-bottom:50%}.block-tile[_ngcontent-%COMP%]   .block-node-container[_ngcontent-%COMP%]   .tile-text[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{height:100%;width:100%;text-align:center;font-size:24px;font-weight:500}.block-tile[_ngcontent-%COMP%]   .tile-content-node-container[_ngcontent-%COMP%]{width:100%;margin:8px 16px}.block-tile[_ngcontent-%COMP%]   .tile-content-node-container[_ngcontent-%COMP%]   .tile-content[_ngcontent-%COMP%]{margin-bottom:0;height:100%}.block-tile[_ngcontent-%COMP%]   .tile-content-node-container[_ngcontent-%COMP%]   .tile-content[_ngcontent-%COMP%]   .tile-content-title[_ngcontent-%COMP%]{font-weight:unset;margin-bottom:0;overflow:hidden}@media (max-width:500px){.block-tile[_ngcontent-%COMP%]   .tile-content-node-container[_ngcontent-%COMP%]   .tile-content[_ngcontent-%COMP%]   .tile-content-title[_ngcontent-%COMP%]{font-size:calc(12px + 1vmin)}}@media (min-width:500px) and (max-width:959px){.block-tile[_ngcontent-%COMP%]   .tile-content-node-container[_ngcontent-%COMP%]   .tile-content[_ngcontent-%COMP%]   .tile-content-title[_ngcontent-%COMP%]{font-size:calc(11px + 1vw)}}@media (min-width:960px){.block-tile[_ngcontent-%COMP%]   .tile-content-node-container[_ngcontent-%COMP%]   .tile-content[_ngcontent-%COMP%]   .tile-content-title[_ngcontent-%COMP%]{font-size:calc(10px + .5vmax)}}.block-tile[_ngcontent-%COMP%]   .tile-content-node-container[_ngcontent-%COMP%]   .tile-content-extra[_ngcontent-%COMP%]:not(.only-content){padding-top:8px}.block-tile[_ngcontent-%COMP%]:hover{cursor:pointer;box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 5px 8px 0 rgba(0,0,0,.14),0 1px 14px 0 rgba(0,0,0,.12)!important}"]}),t}()}}])}();