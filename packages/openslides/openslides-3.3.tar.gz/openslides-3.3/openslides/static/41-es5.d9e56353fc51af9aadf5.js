!function(){function t(e,n,r){return(t="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(e,n,r||e)}function e(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}function n(t,e){return(n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function r(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return i(this,n)}}function i(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,c=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(s){i=!0,c=s}finally{try{r||null==a.return||a.return()}finally{if(i)throw c}}return n}(t,e)||a(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){if(t){if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{"2aHC":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("8Y7J"),i=function(){var t=function(){function t(){u(this,t)}return b(t,[{key:"stringToDuration",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"h",r=t.replace(n,"").split(":");return r.length>1&&!isNaN(+r[0])&&!isNaN(+r[1])?e=60*+r[0]+ +r[1]:1!==r.length||isNaN(+r[0])||(e=+r[0]),(!e||e<0)&&(e=0),e}},{key:"durationToStringWithHours",value:function(t){var e=Math.floor(t/3600),n=("0"+Math.floor(t%3600/60)).slice(-2),r=("0"+Math.floor(t%60)).slice(-2);return isNaN(+n)||isNaN(+r)?"":"".concat(e,":").concat(n,":").concat(r," h")}},{key:"durationToString",value:function(t,e){var n=t<0,r=n?Math.ceil(t/60):Math.floor(t/60),i=("0"+Math.abs(t)%60).slice(-2);return isNaN(+r)||isNaN(+i)||!e?"":"".concat(0===r&&n?"-"+Math.abs(r):r,":").concat(i," ").concat(e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"6fpL":function(n,i,s){"use strict";s.r(i),s.d(i,"OsCommonModule",(function(){return Wt}));var l,f,p=s("SVse"),d=s("iInd"),v=s("OwvW"),h=s("8Y7J"),g=s("mksl"),m=s("PDjf"),k=s("TSSN"),y=((l=function(){function t(e){u(this,t),this.route=e}return b(t,[{key:"ngOnInit",value:function(){this.route.queryParams.subscribe((function(t){t&&t.error&&console.error("".concat(t.error,'! Required: "').concat(t.msg,'"'))}))}}]),t}()).\u0275fac=function(t){return new(t||l)(h.Rb(d.a))},l.\u0275cmp=h.Lb({type:l,selectors:[["os-error"]],decls:9,vars:6,consts:[[1,"title-slot"],[1,"os-card"]],template:function(t,e){1&t&&(h.Xb(0,"os-head-bar"),h.Xb(1,"div",0),h.Xb(2,"h2"),h.Sc(3),h.kc(4,"translate"),h.Wb(),h.Wb(),h.Wb(),h.Xb(5,"mat-card",1),h.Xb(6,"h1"),h.Sc(7),h.kc(8,"translate"),h.Wb(),h.Wb()),2&t&&(h.Fb(3),h.Tc(h.lc(4,2,"Error")),h.Fb(4),h.Tc(h.lc(8,4,"You do not have the required permission to see that page!")))},directives:[g.a,m.a],pipes:[k.j],styles:[""]}),l),S=s("xTJg"),W=s("qWJO"),E=s("BOLD"),w=s("YZ1K"),X=s("mV3u"),F=s("cUpR"),O=s("zHaW"),C=s("try9"),R=s("Dxy4"),T=s("3Xi6"),_=s("3UWI"),j=s("2Vo4"),I=s("ZDbo"),U=s("i7i4"),M=((f=function(){function t(e,n){u(this,t),this.countUserService=e,this.userRepo=n,this.runningCounts={}}return b(t,[{key:"countUsers",value:function(){var t,e,n,r=this;return t=o(this.countUserService.countUsers(),2),e=t[0],n=t[1],this.runningCounts[e]=new j.a({activeUserHandles:0,activeUsers:{},groups:{}}),n.subscribe((function(t){var n=t.userId?t.userId:0,i=r.runningCounts[e].getValue(),c=r.userRepo.getViewModel(n);i.activeUserHandles++,i.activeUsers[n]||(i.activeUsers[n]=0),i.activeUsers[n]++,(c?c.groups:[]).forEach((function(t){i.groups[t.id]||(i.groups[t.id]={name:t.name,users:{},userHandleCount:0}),i.groups[t.id].userHandleCount++,i.groups[t.id].users[n]=i.activeUsers[n]})),r.runningCounts[e].next(i)})),[e,this.runningCounts[e].asObservable()]}},{key:"stopCounting",value:function(t){this.runningCounts[t]&&(this.runningCounts[t].complete(),delete this.runningCounts[t])}}]),t}()).\u0275fac=function(t){return new(t||f)(h.bc(U.a),h.bc(I.a))},f.\u0275prov=h.Nb({token:f,factory:f.\u0275fac,providedIn:"root"}),f);function N(t,e){if(1&t){var n=h.Yb();h.Xb(0,"button",2),h.fc("click",(function(){return h.Gc(n),h.jc().countUsers()})),h.Sc(1),h.kc(2,"translate"),h.Wb()}2&t&&(h.Fb(1),h.Uc(" ",h.lc(2,1,"Count active users"),"\n"))}function P(t,e){if(1&t){var n=h.Yb();h.Xb(0,"button",2),h.fc("click",(function(){return h.Gc(n),h.jc().stopCounting()})),h.Sc(1),h.kc(2,"translate"),h.Wb()}2&t&&(h.Fb(1),h.Uc(" ",h.lc(2,1,"Stop counting"),"\n"))}function D(t,e){if(1&t&&(h.Xb(0,"li"),h.Xb(1,"strong"),h.Sc(2),h.kc(3,"translate"),h.Wb(),h.Sc(4),h.kc(5,"translate"),h.kc(6,"translate"),h.Wb()),2&t){var n=e.$implicit,r=h.jc(2);h.Fb(2),h.Uc("",h.lc(3,5,r.stats.groups[n].name),":"),h.Fb(2),h.Xc(" ",r.userInGroupIds(n).length," ",h.lc(5,7,"active users")," (",r.stats.groups[n].userHandleCount," ",h.lc(6,9,"connections"),") ")}}function q(t,e){if(1&t&&(h.Xb(0,"div"),h.Xb(1,"p"),h.Sc(2),h.kc(3,"translate"),h.kc(4,"translate"),h.Wb(),h.Sc(5),h.kc(6,"translate"),h.Xb(7,"ul"),h.Qc(8,D,7,11,"li",3),h.Wb(),h.Wb()),2&t){var n=h.jc();h.Fb(2),h.Xc(" ",n.userIds().length," ",h.lc(3,6,"active users")," (",n.stats.activeUserHandles," ",h.lc(4,8,"connections"),") "),h.Fb(3),h.Uc(" ",h.lc(6,10,"Groups"),": "),h.Fb(3),h.rc("ngForOf",n.groupIds())}}var x,B=((x=function(){function t(e){u(this,t),this.countUsersStatisticService=e,this.token=null,this.stats=null}return b(t,[{key:"countUsers",value:function(){var t,e=this;this.token||(t=o(this.countUsersStatisticService.countUsers(),2),this.token=t[0],t[1].pipe(Object(_.a)(100)).subscribe((function(t){e.stats=t})))}},{key:"stopCounting",value:function(){this.token&&(this.countUsersStatisticService.stopCounting(this.token),this.token=null,this.stats=null)}},{key:"userIds",value:function(){return Object.keys(this.stats.activeUsers).map((function(t){return+t}))}},{key:"groupIds",value:function(){return Object.keys(this.stats.groups).map((function(t){return+t}))}},{key:"userInGroupIds",value:function(t){return Object.keys(this.stats.groups[t].users).map((function(t){return+t}))}},{key:"ngOnDestroy",value:function(){this.stopCounting()}}]),t}()).\u0275fac=function(t){return new(t||x)(h.Rb(M))},x.\u0275cmp=h.Lb({type:x,selectors:[["os-count-users"]],decls:3,vars:3,consts:[["type","button","mat-stroked-button","",3,"click",4,"ngIf"],[4,"ngIf"],["type","button","mat-stroked-button","",3,"click"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(h.Qc(0,N,3,3,"button",0),h.Qc(1,P,3,3,"button",0),h.Qc(2,q,9,12,"div",1)),2&t&&(h.rc("ngIf",!e.token),h.Fb(1),h.rc("ngIf",e.token),h.Fb(1),h.rc("ngIf",e.stats))},directives:[p.t,R.b,p.s],pipes:[k.j],encapsulation:2}),x),L=s("3Y/2"),H=s("2aHC"),A=s("0Obk"),Q=s("4LpT");function V(t,e){if(1&t){var n=h.Yb();h.Xb(0,"button",2),h.fc("click",(function(){return h.Gc(n),h.jc().changeViewOfStatistics()})),h.Sc(1),h.kc(2,"translate"),h.Wb()}2&t&&(h.Fb(1),h.Uc(" ",h.lc(2,1,"Count completed requests to speak"),"\n"))}function G(t,e){if(1&t){var n=h.Yb();h.Xb(0,"button",2),h.fc("click",(function(){return h.Gc(n),h.jc().changeViewOfStatistics()})),h.Sc(1),h.kc(2,"translate"),h.Wb()}2&t&&(h.Fb(1),h.Uc(" ",h.lc(2,1,"Stop counting"),"\n"))}function Y(t,e){if(1&t&&(h.Xb(0,"div"),h.Sc(1),h.kc(2,"translate"),h.Wb()),2&t){var n=e.col;h.Fb(1),h.Uc(" ",h.lc(2,1,n.label)," ")}}function J(t,e){if(1&t&&(h.Xb(0,"div"),h.Sc(1),h.kc(2,"translate"),h.Wb()),2&t){var n=e.row;h.Fb(1),h.Uc(" ",h.lc(2,1,n.structureLevel)," ")}}function Z(t,e){if(1&t&&(h.Xb(0,"div"),h.Sc(1),h.Wb()),2&t){var n=e.row,r=h.jc(2);h.Fb(1),h.Uc(" ",r.parseDuration(n.speakingTime)," ")}}function K(t,e){if(1&t&&(h.Xb(0,"div"),h.Sc(1),h.Wb()),2&t){var n=e.row;h.Fb(1),h.Uc(" ",n.finishedSpeakers.length," ")}}function $(t,e){if(1&t&&(h.Vb(0),h.Xb(1,"table",3),h.Xb(2,"tr"),h.Xb(3,"td"),h.Sc(4),h.kc(5,"translate"),h.Wb(),h.Xb(6,"td"),h.Sc(7),h.Wb(),h.Wb(),h.Xb(8,"tr"),h.Xb(9,"td"),h.Sc(10),h.kc(11,"translate"),h.Wb(),h.Xb(12,"td"),h.Sc(13),h.Wb(),h.Wb(),h.Xb(14,"tr"),h.Xb(15,"td"),h.Sc(16),h.kc(17,"translate"),h.Wb(),h.Xb(18,"td"),h.Sc(19),h.Wb(),h.Wb(),h.Wb(),h.Xb(20,"os-list-view-table",4),h.Qc(21,Y,3,3,"div",5),h.Qc(22,J,3,3,"div",6),h.Qc(23,Z,2,1,"div",6),h.Qc(24,K,2,1,"div",6),h.Wb(),h.Ub()),2&t){var n=h.jc();h.Fb(4),h.Tc(h.lc(5,17,"Number of all requests to speak")),h.Fb(3),h.Tc(n.numberOfWordRequests),h.Fb(3),h.Tc(h.lc(11,19,"Unique speakers")),h.Fb(3),h.Tc(n.numberOfUniqueSpeakers),h.Fb(3),h.Tc(h.lc(17,21,"Duration of all requests to speak")),h.Fb(3),h.Tc(n.totalDuration),h.Fb(1),h.rc("listObservable",n.statisticsByStructureLevelObservable)("columns",n.columnDefinition)("filterProps",n.filterProps)("vScrollFixed",45)("allowProjector",!1)("fullScreen",!1)("showListOfSpeakers",!1),h.Fb(1),h.rc("pblNgridHeaderCellDef","*"),h.Fb(1),h.rc("pblNgridCellDef","structureLevel"),h.Fb(1),h.rc("pblNgridCellDef","durationOfWordRequests"),h.Fb(1),h.rc("pblNgridCellDef","numberOfWordRequests")}}var z,tt=((z=function(t){e(i,t);var n=r(i);function i(t,e,r,c,o){var a;return u(this,i),(a=n.call(this,t,e,r)).translate=e,a.losRepo=c,a.durationService=o,a.columnDefinition=[{prop:"structureLevel",width:"auto",label:"Structure level"},{prop:"durationOfWordRequests",width:"auto",label:a.translate.instant("Duration of requests to speak")},{prop:"numberOfWordRequests",width:"auto",label:a.translate.instant("Number of requests to speak")}],a.filterProps=["structureLevel"],a.speakingTimeAsNumber=0,a.uniqueSpeakers=[],a._numberOfWordRequests=0,a.statisticIsOpen=!1,a.relationSpeakingTimeStructureLevelSubject=new j.a([]),a}return b(i,[{key:"changeViewOfStatistics",value:function(){this.statisticIsOpen=!this.statisticIsOpen,this.statisticIsOpen?this.startSubscription():this.cleanSubjects()}},{key:"pushNextState",value:function(){var t=this.losRepo.getSpeakingTimeStructureLevelRelation();t.sort((function(t,e){return e.finishedSpeakers.length-t.finishedSpeakers.length}));var e,n=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=a(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,c=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw c}}}}(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;this.speakingTimeAsNumber+=r.speakingTime,this._numberOfWordRequests+=r.finishedSpeakers.length}}catch(i){n.e(i)}finally{n.f()}this.relationSpeakingTimeStructureLevelSubject.next(t),this.uniqueSpeakers=this.losRepo.getAllFirstContributions()}},{key:"parseDuration",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?this.durationService.durationToStringWithHours(t):this.durationService.durationToString(t,"m")}},{key:"startSubscription",value:function(){var t=this;this.subscriptions.push(this.losRepo.getViewModelListObservable().subscribe((function(){t.reset(),t.pushNextState()})))}},{key:"reset",value:function(){this._numberOfWordRequests=0,this.speakingTimeAsNumber=0}},{key:"totalDuration",get:function(){return this.parseDuration(this.speakingTimeAsNumber,!0)}},{key:"numberOfUniqueSpeakers",get:function(){return this.uniqueSpeakers.length}},{key:"numberOfWordRequests",get:function(){return this._numberOfWordRequests}},{key:"statisticsByStructureLevelObservable",get:function(){return this.relationSpeakingTimeStructureLevelSubject.asObservable()}},{key:"openedStatistics",get:function(){return this.statisticIsOpen}}]),i}(X.a)).\u0275fac=function(t){return new(t||z)(h.Rb(F.c),h.Rb(k.k),h.Rb(O.a),h.Rb(L.a),h.Rb(H.a))},z.\u0275cmp=h.Lb({type:z,selectors:[["os-user-statistics"]],features:[h.Cb],decls:3,vars:3,consts:[["mat-stroked-button","",3,"click",4,"ngIf"],[4,"ngIf"],["mat-stroked-button","",3,"click"],[1,"user-statistics-table"],[1,"user-statistics-table--virtual-scroll",3,"listObservable","columns","filterProps","vScrollFixed","allowProjector","fullScreen","showListOfSpeakers"],[4,"pblNgridHeaderCellDef"],[4,"pblNgridCellDef"]],template:function(t,e){1&t&&(h.Qc(0,V,3,3,"button",0),h.Qc(1,G,3,3,"button",0),h.Qc(2,$,25,23,"ng-container",1)),2&t&&(h.rc("ngIf",!e.openedStatistics),h.Fb(1),h.rc("ngIf",e.openedStatistics),h.Fb(1),h.rc("ngIf",e.openedStatistics))},directives:[p.t,R.b,A.a,Q.g,Q.b],pipes:[k.j],styles:[".user-statistics-table{width:100%;margin:16px auto}.user-statistics-table,.user-statistics-table td,.user-statistics-table th{border-collapse:collapse;border-bottom-width:1px;border-bottom-style:solid}.user-statistics-table td,.user-statistics-table th{padding:8px 8px 8px 24px;text-align:left}.user-statistics-table--virtual-scroll{display:block;height:500px}.user-statistics-table--virtual-scroll .list-view-frame{height:100%}"],encapsulation:2,changeDetection:0}),z);function et(t,e){if(1&t){var n=h.Yb();h.Xb(0,"mat-card",3),h.Xb(1,"div"),h.Xb(2,"button",4),h.fc("click",(function(){return h.Gc(n),h.jc().printDS()})),h.Xb(3,"span"),h.Sc(4,"Print DS"),h.Wb(),h.Wb(),h.Wb(),h.Xb(5,"div"),h.Xb(6,"button",4),h.fc("click",(function(){return h.Gc(n),h.jc().getThisComponent()})),h.Xb(7,"span"),h.Sc(8,"Get this component"),h.Wb(),h.Wb(),h.Wb(),h.Wb()}}function nt(t,e){1&t&&(h.Xb(0,"mat-card",7),h.Xb(1,"h2"),h.Sc(2),h.kc(3,"translate"),h.Wb(),h.Xb(4,"div"),h.Xb(5,"h3"),h.Sc(6),h.kc(7,"translate"),h.Wb(),h.Sb(8,"os-count-users"),h.Wb(),h.Xb(9,"div"),h.Xb(10,"h3"),h.Sc(11),h.kc(12,"translate"),h.Wb(),h.Sb(13,"os-user-statistics"),h.Wb(),h.Wb()),2&t&&(h.Fb(2),h.Tc(h.lc(3,3,"Statistics")),h.Fb(4),h.Tc(h.lc(7,5,"Active users")),h.Fb(5),h.Tc(h.lc(12,7,"Requests to speak")))}var rt,it,ct=((rt=function(n){e(o,n);var i=r(o);function o(t,e,n,r,c,a,s,l){var b;return u(this,o),(b=i.call(this,t,e,n)).translate=e,b.openSlidesService=r,b.update=c,b.configRepo=a,b.operator=s,b.DS=l,b.isEditing=!1,b.legalNotice="",b.showDevTools=!1,b}return b(o,[{key:"ngOnInit",value:function(){t(c(o.prototype),"setTitle",this).call(this,this.translate.instant("Legal notice"))}},{key:"resetCache",value:function(){this.openSlidesService.reset()}},{key:"checkForUpdate",value:function(){this.update.checkForUpdate()}},{key:"saveChanges",value:function(){var t=this;this.configRepo.bulkUpdate([{key:"general_event_legal_notice",value:this.legalNotice}]).then((function(){return t.isEditing=!t.isEditing}),this.raiseError)}},{key:"canManage",value:function(){return this.operator.hasPerms(v.b.coreCanManageConfig)}},{key:"printDS",value:function(){this.DS.print()}},{key:"getThisComponent",value:function(){console.log(this)}}]),o}(X.a)).\u0275fac=function(t){return new(t||rt)(h.Rb(F.c),h.Rb(k.k),h.Rb(O.a),h.Rb(W.a),h.Rb(w.a),h.Rb(E.a),h.Rb(v.a),h.Rb(S.a))},rt.\u0275cmp=h.Lb({type:rt,selectors:[["os-legal-notice"]],features:[h.Cb],decls:25,vars:24,consts:[[3,"nav","goBack","editMode","hasMainButton","mainButtonIcon","mainActionTooltip","cancelEditEvent","mainEvent","saveEvent"],[1,"title-slot"],[3,"canBeEdited","isEditing","update"],[1,"os-card"],["type","button","mat-button","",3,"click"],["class","os-card",4,"ngIf"],["class","os-card spacer-bottom-60",4,"osPerms"],[1,"os-card","spacer-bottom-60"]],template:function(t,e){1&t&&(h.Xb(0,"os-head-bar",0),h.fc("cancelEditEvent",(function(){return e.isEditing=!e.isEditing}))("mainEvent",(function(){return e.isEditing=!e.isEditing}))("saveEvent",(function(){return e.saveChanges()})),h.kc(1,"translate"),h.Xb(2,"div",1),h.Xb(3,"h2"),h.Sc(4),h.kc(5,"translate"),h.Wb(),h.Wb(),h.Wb(),h.Xb(6,"os-legal-notice-content",2),h.fc("update",(function(t){return e.legalNotice=t})),h.Wb(),h.Xb(7,"mat-card",3),h.Xb(8,"div"),h.Xb(9,"button",4),h.fc("click",(function(){return e.resetCache()})),h.Xb(10,"span"),h.Sc(11),h.kc(12,"translate"),h.Wb(),h.Wb(),h.Wb(),h.Xb(13,"div"),h.Xb(14,"button",4),h.fc("click",(function(){return e.checkForUpdate()})),h.Xb(15,"span"),h.Sc(16),h.kc(17,"translate"),h.Wb(),h.Wb(),h.Wb(),h.Xb(18,"div"),h.Xb(19,"button",4),h.fc("click",(function(){return e.showDevTools=!e.showDevTools})),h.Xb(20,"span"),h.Sc(21),h.kc(22,"translate"),h.Wb(),h.Wb(),h.Wb(),h.Qc(23,et,9,0,"mat-card",5),h.Wb(),h.Qc(24,nt,14,9,"mat-card",6)),2&t&&(h.rc("nav",!1)("goBack",!0)("editMode",e.isEditing)("hasMainButton",e.canManage())("mainButtonIcon","edit")("mainActionTooltip",h.lc(1,14,"Edit")),h.Fb(4),h.Tc(h.lc(5,16,"Legal notice")),h.Fb(2),h.rc("canBeEdited",!0)("isEditing",e.isEditing),h.Fb(5),h.Tc(h.lc(12,18,"Reset cache")),h.Fb(5),h.Tc(h.lc(17,20,"Check for updates")),h.Fb(5),h.Tc(h.lc(22,22,"Show devtools")),h.Fb(2),h.rc("ngIf",e.showDevTools),h.Fb(1),h.rc("osPerms","users.can_manage"))},directives:[g.a,C.a,m.a,R.b,p.t,T.a,B,tt],pipes:[k.j],encapsulation:2}),rt),ot=s("ij0B"),at=((it=function(n){e(o,n);var i=r(o);function o(t,e,n,r,c){var a;return u(this,o),(a=i.call(this,t,e,n)).translate=e,a.configRepo=r,a.operator=c,a.isEditing=!1,a.privacyProlicy="",a}return b(o,[{key:"ngOnInit",value:function(){t(c(o.prototype),"setTitle",this).call(this,this.translate.instant("Privacy policy"))}},{key:"saveChanges",value:function(){var t=this;this.configRepo.bulkUpdate([{key:"general_event_privacy_policy",value:this.privacyProlicy}]).then((function(){return t.isEditing=!t.isEditing}),this.raiseError)}},{key:"canManage",value:function(){return this.operator.hasPerms(v.b.coreCanManageConfig)}}]),o}(X.a)).\u0275fac=function(t){return new(t||it)(h.Rb(F.c),h.Rb(k.k),h.Rb(O.a),h.Rb(E.a),h.Rb(v.a))},it.\u0275cmp=h.Lb({type:it,selectors:[["os-privacy-policy"]],features:[h.Cb],decls:7,vars:13,consts:[[3,"nav","goBack","editMode","hasMainButton","mainButtonIcon","mainActionTooltip","cancelEditEvent","mainEvent","saveEvent"],[1,"title-slot"],[3,"canBeEdited","isEditing","update"]],template:function(t,e){1&t&&(h.Xb(0,"os-head-bar",0),h.fc("cancelEditEvent",(function(){return e.isEditing=!e.isEditing}))("mainEvent",(function(){return e.isEditing=!e.isEditing}))("saveEvent",(function(){return e.saveChanges()})),h.kc(1,"translate"),h.Xb(2,"div",1),h.Xb(3,"h2"),h.Sc(4),h.kc(5,"translate"),h.Wb(),h.Wb(),h.Wb(),h.Xb(6,"os-privacy-policy-content",2),h.fc("update",(function(t){return e.privacyProlicy=t})),h.Wb()),2&t&&(h.rc("nav",!1)("goBack",!0)("editMode",e.isEditing)("hasMainButton",e.canManage())("mainButtonIcon","edit")("mainActionTooltip",h.lc(1,9,"Edit")),h.Fb(4),h.Tc(h.lc(5,11,"Privacy Policy")),h.Fb(2),h.rc("canBeEdited",!0)("isEditing",e.isEditing))},directives:[g.a,ot.a],pipes:[k.j],styles:[""]}),it),st=s("s7LF"),ut=s("+KbT"),lt=s("Q2Ze"),bt=s("e6WT"),ft=s("crmZ"),pt=s("7jBc");function dt(t,e){if(1&t&&(h.Vb(0),h.Xb(1,"div",4),h.Xb(2,"h1"),h.Sc(3),h.kc(4,"translate"),h.Wb(),h.Sb(5,"div",5),h.kc(6,"trust"),h.Wb(),h.Ub()),2&t){var n=h.jc();h.Fb(3),h.Tc(h.lc(4,2,n.startContent.general_event_welcome_title)),h.Fb(2),h.rc("innerHTML",h.mc(6,4,n.startContent.general_event_welcome_text,"html"),h.Hc)}}function vt(t,e){if(1&t&&(h.Vb(0),h.Xb(1,"form",6),h.Xb(2,"mat-form-field"),h.Sb(3,"input",7),h.kc(4,"translate"),h.Xb(5,"mat-error"),h.Sc(6),h.kc(7,"translate"),h.Wb(),h.Wb(),h.Sb(8,"editor",8),h.Wb(),h.Ub()),2&t){var n=h.jc();h.Fb(1),h.rc("formGroup",n.startForm),h.Fb(2),h.sc("placeholder",h.lc(4,4,"Front page title")),h.Fb(3),h.Tc(h.lc(7,6,"The title is required")),h.Fb(2),h.rc("init",n.tinyMceSettings)}}var ht,gt,mt,kt=[{path:"",component:(ht=function(n){e(o,n);var i=r(o);function o(t,e,n,r,c,a,s){var l;return u(this,o),(l=i.call(this,t,e,n)).configService=r,l.configRepo=c,l.fb=a,l.operator=s,l.isEditing=!1,l.startContent={general_event_welcome_title:"",general_event_welcome_text:""},l.startForm=l.fb.group({general_event_welcome_title:["",st.H.required],general_event_welcome_text:""}),l}return b(o,[{key:"ngOnInit",value:function(){var e=this;t(c(o.prototype),"setTitle",this).call(this,"Home"),this.configService.get("general_event_welcome_title").subscribe((function(t){return e.startContent.general_event_welcome_title=t})),this.configService.get("general_event_welcome_text").subscribe((function(t){e.startContent.general_event_welcome_text=e.translate.instant(t)}))}},{key:"editStartPage",value:function(){var t=this;Object.keys(this.startForm.controls).forEach((function(e){var n,r,i;t.startForm.patchValue((n={},r=e,i=t.startContent[e],r in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n))})),this.isEditing=!0}},{key:"saveChanges",value:function(){var t=this;this.configRepo.bulkUpdate(Object.keys(this.startForm.controls).map((function(e){return{key:e,value:t.startForm.value[e]}}))).then((function(){return t.isEditing=!t.isEditing}),this.raiseError)}},{key:"canManage",value:function(){return this.operator.hasPerms(v.b.coreCanManageConfig)}}]),o}(X.a),ht.\u0275fac=function(t){return new(t||ht)(h.Rb(F.c),h.Rb(k.k),h.Rb(O.a),h.Rb(ut.a),h.Rb(E.a),h.Rb(st.g),h.Rb(v.a))},ht.\u0275cmp=h.Lb({type:ht,selectors:[["os-start"]],features:[h.Cb],decls:8,vars:10,consts:[[3,"hasMainButton","editMode","mainButtonIcon","isSaveButtonEnabled","mainEvent","saveEvent","cancelEditEvent"],[1,"title-slot"],[1,"spacer-bottom-60",3,"ngClass"],[4,"ngIf"],[1,"app-content"],[3,"innerHTML"],[3,"formGroup"],["matInput","","formControlName","general_event_welcome_title","required","",3,"placeholder"],["formControlName","general_event_welcome_text",3,"init"]],template:function(t,e){1&t&&(h.Xb(0,"os-head-bar",0),h.fc("mainEvent",(function(){return e.editStartPage()}))("saveEvent",(function(){return e.saveChanges()}))("cancelEditEvent",(function(){return e.isEditing=!e.isEditing})),h.Xb(1,"div",1),h.Xb(2,"h2"),h.Sc(3),h.kc(4,"translate"),h.Wb(),h.Wb(),h.Wb(),h.Xb(5,"mat-card",2),h.Qc(6,dt,7,7,"ng-container",3),h.Qc(7,vt,9,8,"ng-container",3),h.Wb()),2&t&&(h.rc("hasMainButton",e.canManage())("editMode",e.isEditing)("mainButtonIcon","edit")("isSaveButtonEnabled",e.startForm.valid),h.Fb(3),h.Tc(h.lc(4,8,"Home")),h.Fb(2),h.rc("ngClass",e.isEditing?"os-form-card":"os-card"),h.Fb(1),h.rc("ngIf",!e.isEditing),h.Fb(1),h.rc("ngIf",e.isEditing))},directives:[g.a,m.a,p.q,p.t,st.J,st.u,st.l,lt.c,bt.b,st.d,st.t,st.j,st.E,lt.b,ft.a],pipes:[k.j,pt.a],styles:[".app-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto}"]}),ht),pathMatch:"full",data:{basePerm:v.b.coreCanSeeFrontpage}},{path:"legalnotice",component:ct},{path:"privacypolicy",component:at},{path:"error",component:y}],yt=((gt=function t(){u(this,t)}).\u0275mod=h.Pb({type:gt}),gt.\u0275inj=h.Ob({factory:function(t){return new(t||gt)},imports:[[d.j.forChild(kt)],d.j]}),gt),St=s("PCNd"),Wt=((mt=function t(){u(this,t)}).\u0275mod=h.Pb({type:mt}),mt.\u0275inj=h.Ob({factory:function(t){return new(t||mt)},imports:[[p.c,yt,St.a]]}),mt)}}])}();