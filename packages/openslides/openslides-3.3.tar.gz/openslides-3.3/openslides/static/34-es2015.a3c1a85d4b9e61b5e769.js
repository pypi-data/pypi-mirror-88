(window.webpackJsonp=window.webpackJsonp||[]).push([[34,42],{"0bnU":function(t,e,i){"use strict";i.r(e),i.d(e,"MediafilesModule",(function(){return Kt}));var c=i("SVse"),n=i("iInd"),o=i("OwvW"),r=i("SSyl"),a=i("mV3u"),l=i("8Y7J"),s=i("cUpR"),b=i("TSSN"),d=i("zHaW"),u=i("mksl"),f=i("Dxy4"),m=i("rJgo"),p=i("Tj54"),h=i("PDjf"),g=i("GTZY");let S=(()=>{class t extends a.a{constructor(t,e,i,c,n,o){super(t,e,i),this.location=c,this.route=n,this.repo=o,this.parallel=!0,this.directoryId=null}ngOnInit(){this.repo.getDirectoryIdByPath(this.route.snapshot.url.map(t=>t.path)).then(t=>{this.directoryId=t})}uploadSuccess(){this.location.back()}showError(t){this.raiseError(t)}setUploadStrategy(t){this.parallel=t}}return t.\u0275fac=function(e){return new(e||t)(l.Rb(s.c),l.Rb(b.k),l.Rb(d.a),l.Rb(c.n),l.Rb(n.a),l.Rb(r.a))},t.\u0275cmp=l.Lb({type:t,selectors:[["os-media-upload"]],features:[l.Cb],decls:19,vars:12,consts:[[3,"nav","goBack"],[1,"title-slot"],[1,"menu-slot"],["type","button","mat-icon-button","",3,"matMenuTriggerFor"],[1,"os-card"],[3,"parallel","directoryId","uploadSuccessEvent","errorEvent"],["uploadMenu","matMenu"],["mat-menu-item","",3,"click"],["color","accent"]],template:function(t,e){if(1&t&&(l.Xb(0,"os-head-bar",0),l.Xb(1,"div",1),l.Xb(2,"h2"),l.Sc(3),l.kc(4,"translate"),l.Wb(),l.Wb(),l.Xb(5,"div",2),l.Xb(6,"button",3),l.Xb(7,"mat-icon"),l.Sc(8,"more_vert"),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(9,"mat-card",4),l.Xb(10,"os-media-upload-content",5),l.fc("uploadSuccessEvent",(function(){return e.uploadSuccess()}))("errorEvent",(function(t){return e.showError(t)})),l.Wb(),l.Wb(),l.Xb(11,"mat-menu",null,6),l.Xb(13,"button",7),l.fc("click",(function(){return e.setUploadStrategy(!e.parallel)})),l.Xb(14,"mat-icon",8),l.Sc(15),l.Wb(),l.Xb(16,"span"),l.Sc(17),l.kc(18,"translate"),l.Wb(),l.Wb(),l.Wb()),2&t){const t=l.Cc(12);l.rc("nav",!1)("goBack",!0),l.Fb(3),l.Tc(l.lc(4,8,"Upload files")),l.Fb(3),l.rc("matMenuTriggerFor",t),l.Fb(4),l.rc("parallel",e.parallel)("directoryId",e.directoryId),l.Fb(5),l.Tc(e.parallel?"check_box":"check_box_outline_blank"),l.Fb(2),l.Tc(l.lc(18,10,"Parallel upload"))}},directives:[u.a,f.b,m.e,p.a,h.a,g.a,m.f,m.c],pipes:[b.j],styles:[""]}),t})();var v=i("mrSG"),F=i("s7LF"),W=i("4LpT"),X=i("2Vo4"),y=i("HDdC"),k=i("AqIO"),w=i("R+Vs"),M=i("+KbT"),j=i("Hila");let T=(()=>{class t{constructor(t,e){this.config=t,this.httpService=e}setAs(t,e){return Object(v.a)(this,void 0,void 0,(function*(){const i=`/rest/core/config/${e}/`,c=this.getMediaConfig(e);return this.httpService.put(i,{id:t.id,key:c.key,default:c.default,value:{display_name:c.display_name,key:c.key,default:c.default,path:c.path!==t.url?t.url:""}})}))}isImageConfigObject(t){if(void 0!==t)return void 0!==t.path}getLogoActions(){return this.config.get("logos_available")}getFontActions(){return this.config.get("fonts_available")}getMediaConfig(t){return this.config.instant(t)}}return t.\u0275fac=function(e){return new(e||t)(l.bc(M.a),l.bc(j.a))},t.\u0275prov=l.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var C=i("F48D"),D=i("KL36"),I=i("smbJ"),x=i("Izkr"),_=i("wL0i"),Q=i("D/ll"),E=i("A6Ob");let R=(()=>{class t extends E.a{constructor(t,e,i){super(t,e,i),this.storageKey="MediafileList",this.mediafilesSortOptions=[{property:"title"},{property:"mimetype",label:this.translate.instant("Type")},{property:"filesize",label:this.translate.instant("Size")}]}getSortOptions(){return this.mediafilesSortOptions}getDefaultDefinition(){return Object(v.a)(this,void 0,void 0,(function*(){return{sortProperty:"title",sortAscending:!0}}))}}return t.\u0275fac=function(e){return new(e||t)(l.bc(b.k),l.bc(k.a),l.bc(Q.a))},t.\u0275prov=l.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var A=i("iELJ"),O=i("3Xi6"),L=i("24UU"),B=i("dwQs"),P=i("vYAO"),N=i("ZFy/"),G=i("BSbQ"),U=i("Tp2j"),Y=i("Q2Ze"),z=i("e6WT"),V=i("IZUe"),$=i("oqD5");const J=["fileEditForm"],H=["fileEditDialog"];function q(t,e){if(1&t){const t=l.Yb();l.Xb(0,"button",25),l.fc("click",(function(){l.Gc(t);const e=l.jc(),i=l.Cc(38);return e.createNewFolder(i)})),l.Xb(1,"mat-icon"),l.Sc(2,"create_new_folder"),l.Wb(),l.Wb()}}function K(t,e){if(1&t){const t=l.Yb();l.Xb(0,"div",26),l.Xb(1,"button",27),l.fc("click",(function(){return l.Gc(t),l.jc().toggleMultiSelect()})),l.Xb(2,"mat-icon"),l.Sc(3,"arrow_back"),l.Wb(),l.Wb(),l.Xb(4,"span"),l.Sc(5),l.Wb(),l.Xb(6,"span"),l.Sc(7),l.kc(8,"translate"),l.Wb(),l.Wb()}if(2&t){const t=l.jc();l.Fb(5),l.Uc("",t.selectedRows.length,"\xa0"),l.Fb(2),l.Tc(l.lc(8,2,"selected"))}}function Z(t,e){if(1&t){const t=l.Yb();l.Xb(0,"button",8),l.fc("click",(function(){l.Gc(t);const e=l.jc().$implicit;return l.jc().changeDirectory(e.id)})),l.Xb(1,"span",33),l.Sc(2),l.Wb(),l.Wb()}if(2&t){const t=l.jc().$implicit,e=l.jc();l.rc("disabled",e.isMultiSelect),l.Fb(2),l.Uc(" ",t.filename," ")}}const tt=function(t){return{mediafile:t}};function et(t,e){if(1&t&&(l.Xb(0,"button",34),l.Xb(1,"os-icon-container",35),l.Sc(2),l.Wb(),l.Wb()),2&t){const t=l.jc().$implicit,e=l.jc(),i=l.Cc(29);l.rc("matMenuTriggerFor",i)("matMenuTriggerData",l.xc(5,tt,t))("disabled",e.isMultiSelect),l.Fb(1),l.rc("noWrap",!0),l.Fb(1),l.Uc(" ",t.filename," ")}}function it(t,e){if(1&t&&(l.Xb(0,"span",36),l.Sc(1),l.Wb()),2&t){const t=l.jc().$implicit;l.Fb(1),l.Uc(" ",t.filename," ")}}function ct(t,e){if(1&t&&(l.Xb(0,"span",28),l.Xb(1,"span",29),l.Xb(2,"mat-icon"),l.Sc(3,"chevron_right"),l.Wb(),l.Wb(),l.Qc(4,Z,3,2,"button",30),l.Qc(5,et,3,7,"button",31),l.Qc(6,it,2,1,"span",32),l.Wb()),2&t){const t=e.$implicit,i=e.last,c=l.jc();l.Fb(4),l.rc("ngIf",!i),l.Fb(1),l.rc("ngIf",i&&c.showFileMenu(t)),l.Fb(1),l.rc("ngIf",i&&!c.showFileMenu(t))}}function nt(t,e){1&t&&(l.Xb(0,"span"),l.Sc(1,", "),l.Wb())}function ot(t,e){1&t&&(l.Xb(0,"span"),l.Sc(1,"..."),l.Wb())}function rt(t,e){if(1&t&&(l.Xb(0,"span"),l.Xb(1,"span"),l.Sc(2),l.kc(3,"translate"),l.Wb(),l.Qc(4,nt,2,0,"span",21),l.Qc(5,ot,2,0,"span",21),l.Wb()),2&t){const t=e.$implicit,i=e.last,c=l.jc(2);l.Fb(2),l.Tc(l.lc(3,3,t.getTitle())),l.Fb(2),l.rc("ngIf",!i),l.Fb(1),l.rc("ngIf",i&&c.directory.inherited_access_groups.length>3)}}function at(t,e){if(1&t){const t=l.Yb();l.Xb(0,"span",37),l.Xb(1,"button",38),l.fc("click",(function(){l.Gc(t);const e=l.jc();return e.onEditFile(e.directory)})),l.Xb(2,"os-icon-container",39),l.kc(3,"translate"),l.Qc(4,rt,6,5,"span",40),l.kc(5,"slice"),l.Wb(),l.Wb(),l.Wb()}if(2&t){const t=l.jc();l.Fb(2),l.sc("matTooltip",l.lc(3,2,"Allowed access groups for this directory")),l.Fb(2),l.rc("ngForOf",l.nc(5,4,t.directory.inherited_access_groups,0,3))}}function lt(t,e){if(1&t&&l.Sb(0,"a",44),2&t){const t=l.jc().row;l.rc("routerLink",t.url)}}function st(t,e){if(1&t){const t=l.Yb();l.Xb(0,"a",45),l.fc("click",(function(){l.Gc(t);const e=l.jc().row;return l.jc().changeDirectory(e.id)})),l.Wb()}}function bt(t,e){if(1&t&&(l.Xb(0,"div",41),l.Qc(1,lt,1,1,"a",42),l.Qc(2,st,1,0,"a",43),l.Xb(3,"mat-icon",9),l.Sc(4),l.Wb(),l.Wb()),2&t){const t=e.row,i=l.jc();l.Fb(1),l.rc("ngIf",!t.is_directory&&!i.isMultiSelect),l.Fb(1),l.rc("ngIf",t.is_directory&&!i.isMultiSelect),l.Fb(2),l.Tc(t.getIcon())}}function dt(t,e){if(1&t&&l.Sb(0,"a",44),2&t){const t=l.jc().row;l.rc("routerLink",t.url)}}function ut(t,e){if(1&t){const t=l.Yb();l.Xb(0,"a",45),l.fc("click",(function(){l.Gc(t);const e=l.jc().row;return l.jc().changeDirectory(e.id)})),l.Wb()}}function ft(t,e){if(1&t&&(l.Xb(0,"div",49),l.Xb(1,"span"),l.Sc(2),l.Wb(),l.Wb()),2&t){const t=l.jc().row,e=l.jc();l.Fb(2),l.Vc(" ",e.getDateFromTimestamp(t.timestamp)," \xb7 ",t.filesize," ")}}function mt(t,e){if(1&t&&(l.Xb(0,"div",41),l.Qc(1,dt,1,1,"a",42),l.Qc(2,ut,1,0,"a",43),l.Xb(3,"div",46),l.Xb(4,"div",47),l.Sc(5),l.Wb(),l.Qc(6,ft,3,2,"div",48),l.Wb(),l.Wb()),2&t){const t=e.row,i=l.jc();l.Fb(1),l.rc("ngIf",!t.is_directory&&!i.isMultiSelect),l.Fb(1),l.rc("ngIf",t.is_directory&&!i.isMultiSelect),l.Fb(3),l.Uc(" ",t.filename," "),l.Fb(1),l.rc("ngIf",!t.is_directory)}}function pt(t,e){1&t&&(l.Xb(0,"span"),l.Sc(1,", "),l.Wb())}function ht(t,e){1&t&&(l.Xb(0,"span"),l.Sc(1,"..."),l.Wb())}function gt(t,e){if(1&t&&(l.Xb(0,"span"),l.Xb(1,"span"),l.Sc(2),l.kc(3,"translate"),l.Wb(),l.Qc(4,pt,2,0,"span",21),l.Qc(5,ht,2,0,"span",21),l.Wb()),2&t){const t=e.$implicit,i=e.last,c=l.jc(2).row;l.Fb(2),l.Tc(l.lc(3,3,t.getTitle())),l.Fb(2),l.rc("ngIf",!i),l.Fb(1),l.rc("ngIf",i&&c.access_groups.length>3)}}function St(t,e){if(1&t&&(l.Xb(0,"os-icon-container",52),l.Qc(1,gt,6,5,"span",40),l.kc(2,"slice"),l.Wb()),2&t){const t=l.jc().row;l.Fb(1),l.rc("ngForOf",l.nc(2,1,t.access_groups,0,3))}}function vt(t,e){if(1&t){const t=l.Yb();l.Xb(0,"div",50),l.fc("click",(function(){l.Gc(t);const i=e.row;return l.jc().onEditFile(i)})),l.Qc(1,St,3,5,"os-icon-container",51),l.Wb()}if(2&t){const t=e.row;l.Fb(1),l.rc("ngIf",t.access_groups.length)}}function Ft(t,e){1&t&&(l.Xb(0,"mat-icon",9),l.Sc(1,"text_fields"),l.Wb())}function Wt(t,e){1&t&&(l.Xb(0,"mat-icon",9),l.Sc(1,"insert_photo"),l.Wb())}function Xt(t,e){if(1&t&&(l.Xb(0,"div",55),l.Qc(1,Ft,2,0,"mat-icon",56),l.Qc(2,Wt,2,0,"mat-icon",56),l.Wb()),2&t){const t=l.jc().row,e=l.jc(),i=l.Cc(29);l.rc("matMenuTriggerFor",i)("matMenuTriggerData",l.xc(5,tt,t))("matTooltip",e.formatIndicatorTooltip(t)),l.Fb(1),l.rc("ngIf",t.isFont()),l.Fb(1),l.rc("ngIf",t.isImage())}}function yt(t,e){if(1&t&&(l.Xb(0,"div",53),l.Qc(1,Xt,3,7,"div",54),l.Wb()),2&t){const t=e.row,i=l.jc();l.Fb(1),l.rc("ngIf",i.getFileSettings(t).length>0)}}function kt(t,e){if(1&t&&(l.Xb(0,"button",58),l.Xb(1,"mat-icon"),l.Sc(2,"more_vert"),l.Wb(),l.Wb()),2&t){const t=l.jc().row,e=l.jc(),i=l.Cc(29);l.rc("matMenuTriggerFor",i)("matMenuTriggerData",l.xc(3,tt,t))("disabled",e.isMultiSelect)}}function wt(t,e){if(1&t&&(l.Xb(0,"div",53),l.Qc(1,kt,3,5,"button",57),l.Wb()),2&t){const t=e.row,i=l.jc();l.Fb(1),l.rc("ngIf",i.showFileMenu(t))}}function Mt(t,e){1&t&&(l.Xb(0,"div",59),l.Xb(1,"span"),l.Sc(2),l.kc(3,"translate"),l.Wb(),l.Wb()),2&t&&(l.Fb(2),l.Tc(l.lc(3,1,"No data")))}function jt(t,e){if(1&t){const t=l.Yb();l.Xb(0,"button",60),l.fc("click",(function(i){l.Gc(t);const c=e.mediafile,n=e.action;return l.jc().onManageButton(i,c,n)})),l.Xb(1,"mat-icon",61),l.Sc(2),l.Wb(),l.Xb(3,"span"),l.Sc(4),l.Wb(),l.Wb()}if(2&t){const t=e.mediafile,i=e.action,c=l.jc();l.Fb(2),l.Uc(" ",c.isUsedAs(t,i)?"check_box":"check_box_outline_blank"," "),l.Fb(2),l.Tc(c.getNameOfAction(i))}}function Tt(t,e){1&t&&l.Tb(0)}const Ct=function(t,e){return{mediafile:t,action:e}};function Dt(t,e){if(1&t&&(l.Xb(0,"div"),l.Qc(1,Tt,1,0,"ng-container",64),l.Wb()),2&t){const t=e.$implicit,i=l.jc(3).mediafile;l.jc();const c=l.Cc(27);l.Fb(1),l.rc("ngTemplateOutlet",c)("ngTemplateOutletContext",l.yc(2,Ct,i,t))}}function It(t,e){if(1&t&&(l.Xb(0,"div"),l.Qc(1,Dt,2,5,"div",40),l.Wb()),2&t){const t=l.jc(3);l.Fb(1),l.rc("ngForOf",t.logoActions)}}function xt(t,e){1&t&&l.Tb(0)}function _t(t,e){if(1&t&&(l.Xb(0,"div"),l.Qc(1,xt,1,0,"ng-container",64),l.Wb()),2&t){const t=e.$implicit,i=l.jc(3).mediafile;l.jc();const c=l.Cc(27);l.Fb(1),l.rc("ngTemplateOutlet",c)("ngTemplateOutletContext",l.yc(2,Ct,i,t))}}function Qt(t,e){if(1&t&&(l.Xb(0,"div"),l.Qc(1,_t,2,5,"div",40),l.Wb()),2&t){const t=l.jc(3);l.Fb(1),l.rc("ngForOf",t.fontActions)}}function Et(t,e){1&t&&l.Sb(0,"mat-divider")}function Rt(t,e){if(1&t&&(l.Xb(0,"div"),l.Qc(1,It,2,1,"div",21),l.Qc(2,Qt,2,1,"div",21),l.Qc(3,Et,1,0,"mat-divider",21),l.Wb()),2&t){const t=l.jc().mediafile;l.Fb(1),l.rc("ngIf",t.isImage()),l.Fb(1),l.rc("ngIf",t.isFont()),l.Fb(1),l.rc("ngIf",t.isFont()||t.isImage())}}function At(t,e){if(1&t&&l.Sb(0,"os-projector-button",65),2&t){const t=l.jc().mediafile;l.rc("object",t)("menuItem",!0)}}function Ot(t,e){if(1&t){const t=l.Yb();l.Xb(0,"div"),l.Xb(1,"button",60),l.fc("click",(function(){l.Gc(t);const e=l.jc().mediafile;return l.jc().onEditFile(e)})),l.Xb(2,"mat-icon"),l.Sc(3,"edit"),l.Wb(),l.Xb(4,"span"),l.Sc(5),l.kc(6,"translate"),l.Wb(),l.Wb(),l.Xb(7,"button",60),l.fc("click",(function(){l.Gc(t);const e=l.jc().mediafile,i=l.jc(),c=l.Cc(40);return i.move(c,[e])})),l.Xb(8,"mat-icon"),l.Sc(9,"near_me"),l.Wb(),l.Xb(10,"span"),l.Sc(11),l.kc(12,"translate"),l.Wb(),l.Wb(),l.Xb(13,"button",66),l.fc("click",(function(){l.Gc(t);const e=l.jc().mediafile;return l.jc().onDelete(e)})),l.Xb(14,"mat-icon"),l.Sc(15,"delete"),l.Wb(),l.Xb(16,"span"),l.Sc(17),l.kc(18,"translate"),l.Wb(),l.Wb(),l.Wb()}2&t&&(l.Fb(5),l.Tc(l.lc(6,3,"Edit")),l.Fb(6),l.Tc(l.lc(12,5,"Move")),l.Fb(6),l.Tc(l.lc(18,7,"Delete")))}function Lt(t,e){if(1&t&&(l.Qc(0,Rt,4,3,"div",62),l.Qc(1,At,1,2,"os-projector-button",63),l.Qc(2,Ot,19,9,"div",21)),2&t){const t=e.mediafile,i=l.jc();l.rc("osPerms",i.permission.coreCanManageLogosAndFonts),l.Fb(1),l.rc("ngIf",t.isProjectable()),l.Fb(1),l.rc("ngIf",i.canEdit)}}function Bt(t,e){if(1&t){const t=l.Yb();l.Xb(0,"div"),l.Xb(1,"button",60),l.fc("click",(function(){return l.Gc(t),l.jc().downloadMultiple()})),l.Xb(2,"mat-icon"),l.Sc(3,"cloud_download"),l.Wb(),l.Xb(4,"span"),l.Sc(5),l.kc(6,"translate"),l.Wb(),l.Wb(),l.Xb(7,"button",60),l.fc("click",(function(){return l.Gc(t),l.jc().toggleMultiSelect()})),l.Xb(8,"mat-icon"),l.Sc(9,"library_add"),l.Wb(),l.Xb(10,"span"),l.Sc(11),l.kc(12,"translate"),l.Wb(),l.Wb(),l.Wb()}2&t&&(l.Fb(5),l.Tc(l.lc(6,2,"Download folder")),l.Fb(6),l.Tc(l.lc(12,4,"Multiselect")))}function Pt(t,e){if(1&t){const t=l.Yb();l.Xb(0,"button",67),l.fc("click",(function(){l.Gc(t);const e=l.jc(2),i=l.Cc(40);return e.move(i,e.selectedRows)})),l.Xb(1,"mat-icon"),l.Sc(2,"near_me"),l.Wb(),l.Xb(3,"span"),l.Sc(4),l.kc(5,"translate"),l.Wb(),l.Wb()}if(2&t){const t=l.jc(2);l.rc("disabled",!t.selectedRows.length),l.Fb(4),l.Tc(l.lc(5,2,"Move"))}}function Nt(t,e){1&t&&l.Sb(0,"mat-divider")}function Gt(t,e){if(1&t){const t=l.Yb();l.Xb(0,"button",67),l.fc("click",(function(){return l.Gc(t),l.jc(2).deleteSelected()})),l.Xb(1,"mat-icon",69),l.Sc(2,"delete"),l.Wb(),l.Xb(3,"span"),l.Sc(4),l.kc(5,"translate"),l.Wb(),l.Wb()}if(2&t){const t=l.jc(2);l.rc("disabled",!t.selectedRows.length),l.Fb(4),l.Tc(l.lc(5,2,"Delete"))}}function Ut(t,e){if(1&t){const t=l.Yb();l.Xb(0,"div"),l.Xb(1,"button",67),l.fc("click",(function(){l.Gc(t);const e=l.jc();return e.downloadMultiple(e.selectedRows)})),l.Xb(2,"mat-icon"),l.Sc(3,"cloud_download"),l.Wb(),l.Xb(4,"span"),l.Sc(5),l.kc(6,"translate"),l.Wb(),l.Wb(),l.Qc(7,Pt,6,4,"button",68),l.Sb(8,"mat-divider"),l.Xb(9,"button",60),l.fc("click",(function(){return l.Gc(t),l.jc().selectAll()})),l.Xb(10,"mat-icon"),l.Sc(11,"done_all"),l.Wb(),l.Xb(12,"span"),l.Sc(13),l.kc(14,"translate"),l.Wb(),l.Wb(),l.Xb(15,"button",67),l.fc("click",(function(){return l.Gc(t),l.jc().deselectAll()})),l.Xb(16,"mat-icon"),l.Sc(17,"clear"),l.Wb(),l.Xb(18,"span"),l.Sc(19),l.kc(20,"translate"),l.Wb(),l.Wb(),l.Qc(21,Nt,1,0,"mat-divider",62),l.Qc(22,Gt,6,4,"button",68),l.Wb()}if(2&t){const t=l.jc();l.Fb(1),l.rc("disabled",!t.selectedRows.length),l.Fb(4),l.Tc(l.lc(6,8,"Download")),l.Fb(2),l.rc("osPerms",t.permission.mediafilesCanManage),l.Fb(6),l.Tc(l.lc(14,10,"Select all")),l.Fb(2),l.rc("disabled",!t.selectedRows.length),l.Fb(4),l.Tc(l.lc(20,12,"Deselect all")),l.Fb(2),l.rc("osPerms",t.permission.mediafilesCanManage),l.Fb(1),l.rc("osPerms",t.permission.mediafilesCanManage)}}function Yt(t,e){1&t&&(l.Xb(0,"mat-error"),l.Sc(1),l.kc(2,"translate"),l.Wb()),2&t&&(l.Fb(1),l.Tc(l.lc(2,1,"Required")))}function zt(t,e){if(1&t){const t=l.Yb();l.Xb(0,"h1",70),l.Sc(1),l.kc(2,"translate"),l.Wb(),l.Xb(3,"div",71),l.Xb(4,"form",72),l.Xb(5,"mat-form-field"),l.Sb(6,"input",73),l.kc(7,"translate"),l.Qc(8,Yt,3,3,"mat-error",21),l.Wb(),l.Xb(9,"mat-form-field"),l.Sb(10,"os-search-value-selector",74),l.kc(11,"translate"),l.Wb(),l.Wb(),l.Wb(),l.Xb(12,"div",75),l.Xb(13,"button",76),l.fc("click",(function(){l.Gc(t);const e=l.jc();return e.onSaveEditedFile(e.fileEditForm.value)})),l.Xb(14,"span"),l.Sc(15),l.kc(16,"translate"),l.Wb(),l.Wb(),l.Xb(17,"button",77),l.Xb(18,"span"),l.Sc(19),l.kc(20,"translate"),l.Wb(),l.Wb(),l.Wb()}if(2&t){const t=l.jc();l.Fb(1),l.Tc(l.lc(2,11,"Edit details for")),l.Fb(3),l.rc("formGroup",t.fileEditForm),l.Fb(2),l.sc("placeholder",l.lc(7,13,"New file name")),l.Fb(2),l.rc("ngIf",t.fileEditForm.invalid),l.Fb(2),l.sc("placeholder",l.lc(11,15,"Access groups")),l.rc("multiple",!0)("inputListValues",t.groupsBehaviorSubject),l.Fb(3),l.rc("disabled",!t.fileEditForm.valid),l.Fb(2),l.Tc(l.lc(16,17,"Save")),l.Fb(2),l.rc("mat-dialog-close",null),l.Fb(2),l.Tc(l.lc(20,19,"Cancel"))}}function Vt(t,e){if(1&t&&(l.Xb(0,"h1",70),l.Sc(1),l.kc(2,"translate"),l.Wb(),l.Xb(3,"div",71),l.Xb(4,"form",72),l.Xb(5,"p"),l.Sc(6),l.kc(7,"translate"),l.Wb(),l.Xb(8,"mat-form-field"),l.Sb(9,"input",78),l.kc(10,"translate"),l.Wb(),l.Xb(11,"mat-form-field"),l.Sb(12,"os-search-value-selector",74),l.kc(13,"translate"),l.Wb(),l.Wb(),l.Wb(),l.Xb(14,"div",75),l.Xb(15,"button",79),l.Xb(16,"span"),l.Sc(17),l.kc(18,"translate"),l.Wb(),l.Wb(),l.Xb(19,"button",77),l.Xb(20,"span"),l.Sc(21),l.kc(22,"translate"),l.Wb(),l.Wb(),l.Wb()),2&t){const t=l.jc();l.Fb(1),l.Tc(l.lc(2,12,"New directory")),l.Fb(3),l.rc("formGroup",t.newDirectoryForm),l.Fb(2),l.Tc(l.lc(7,14,"Please enter a name for the new directory:")),l.Fb(3),l.sc("placeholder",l.lc(10,16,"Title")),l.Fb(3),l.sc("placeholder",l.lc(13,18,"Access groups")),l.rc("multiple",!0)("inputListValues",t.groupsBehaviorSubject),l.Fb(3),l.rc("disabled",!t.newDirectoryForm.valid)("mat-dialog-close",!0),l.Fb(2),l.Tc(l.lc(18,20,"Save")),l.Fb(2),l.rc("mat-dialog-close",null),l.Fb(2),l.Tc(l.lc(22,22,"Cancel"))}}function $t(t,e){if(1&t&&(l.Xb(0,"h1",70),l.Xb(1,"span"),l.Sc(2),l.kc(3,"translate"),l.Wb(),l.Wb(),l.Xb(4,"div",80),l.Xb(5,"p"),l.Sc(6),l.kc(7,"translate"),l.Wb(),l.Xb(8,"mat-form-field"),l.Sb(9,"os-search-value-selector",81),l.kc(10,"translate"),l.Wb(),l.Wb(),l.Xb(11,"div",75),l.Xb(12,"button",82),l.Xb(13,"span"),l.Sc(14),l.kc(15,"translate"),l.Wb(),l.Wb(),l.Xb(16,"button",77),l.Xb(17,"span"),l.Sc(18),l.kc(19,"translate"),l.Wb(),l.Wb(),l.Wb()),2&t){const t=l.jc();l.Fb(2),l.Tc(l.lc(3,11,"Move into directory")),l.Fb(2),l.rc("formGroup",t.moveForm),l.Fb(2),l.Tc(l.lc(7,13,"Please select the directory:")),l.Fb(3),l.sc("placeholder",l.lc(10,15,"Parent directory")),l.rc("includeNone",!0)("noneTitle","Base folder")("inputListValues",t.filteredDirectoryBehaviorSubject),l.Fb(3),l.rc("mat-dialog-close",!0),l.Fb(2),l.Tc(l.lc(15,17,"Move")),l.Fb(2),l.rc("mat-dialog-close",null),l.Fb(2),l.Tc(l.lc(19,19,"Cancel"))}}const Jt=[{path:"",redirectTo:"files",pathMatch:"full"},{path:"files",children:[{path:"**",component:(()=>{class t extends _.a{constructor(t,e,i,c,n,o,r,a,l,s,b,d,u,f,m,p,h,g){super(t,e,i,c),this.translate=e,this.route=n,this.router=o,this.repo=r,this.mediaManage=a,this.promptService=l,this.vp=s,this.sortService=b,this.operator=d,this.dialog=u,this.fb=f,this.formBuilder=m,this.groupRepo=p,this.cd=h,this.configService=g,this.filteredDirectoryBehaviorSubject=new X.a([]),this.tableColumnDefinition=[{prop:"selection",width:"40px"},{prop:"icon",label:"",width:"40px"},{prop:"title",width:"auto",minWidth:60},{prop:"info",width:"20%",minWidth:60},{prop:"indicator",label:"",width:"40px"},{prop:"menu",label:"",width:"40px"}],this.columnSet=Object(W.o)().table(...this.tableColumnDefinition).build(),this.directoryObservable=new y.a,this.canMultiSelect=!0,this.newDirectoryForm=this.formBuilder.group({title:["",F.H.required],access_groups_id:[]}),this.moveForm=this.formBuilder.group({directory_id:[]}),this.directoryBehaviorSubject=this.repo.getDirectoryBehaviorSubject(),this.groupsBehaviorSubject=this.groupRepo.getViewModelListBehaviorSubject()}get canEdit(){return this.operator.hasPerms(o.b.mediafilesCanManage)}get canAccessFileMenu(){return this.operator.hasPerms(o.b.coreCanManageProjector)||this.operator.hasPerms(o.b.agendaCanSeeListOfSpeakers)||this.operator.hasPerms(o.b.coreCanManageLogosAndFonts)||this.canEdit}get hiddenColumns(){const t=[];return this.canEdit||t.push("info"),this.isMultiSelect||t.push("selection"),this.canAccessFileMenu||t.push("menu"),t}ngOnInit(){super.setTitle("Files"),this.repo.getDirectoryIdByPath(this.route.snapshot.url.map(t=>t.path)).then(t=>{this.changeDirectory(t)}),this.mediaManage.getLogoActions().subscribe(t=>{this.logoActions=t}),this.mediaManage.getFontActions().subscribe(t=>{this.fontActions=t}),this.createDataSource()}ngOnDestroy(){super.ngOnDestroy(),this.clearSubscriptions(),this.cd.detach()}showFileMenu(t){return t.isProjectable()&&this.operator.hasPerms(o.b.coreCanManageProjector)||t.isFont()&&this.operator.hasPerms(o.b.coreCanManageLogosAndFonts)||t.isImage()&&this.operator.hasPerms(o.b.coreCanManageLogosAndFonts)||this.canEdit}getDateFromTimestamp(t){return new Date(t).toLocaleString(this.translate.currentLang)}createDataSource(){this.dataSource=Object(W.p)().onTrigger(()=>this.directoryObservable).create(),this.dataSource.selection.changed.subscribe(t=>{this.selectedRows=t.source.selected})}changeDirectory(t){this.clearSubscriptions(),this.directoryObservable=this.repo.getListObservableDirectory(t),this.folderSubscription=this.directoryObservable.subscribe(t=>{t&&(this.dataSource.refresh(),this.cd.markForCheck())}),t?this.directorySubscription=this.repo.getViewModelObservable(t).subscribe(t=>{this.directory=t,t?(this.directoryChain=t.getDirectoryChain(),this.router.navigate(["/mediafiles/files/"+t.path],{replaceUrl:!0})):(this.directoryChain=[],this.router.navigate(["/mediafiles/files/"],{replaceUrl:!0}))}):(this.directory=null,this.directoryChain=[],this.router.navigate(["/mediafiles/files/"],{replaceUrl:!0}))}onMainEvent(){this.router.navigate(["/mediafiles/upload/"+(this.directory?this.directory.path:"")])}onEditFile(t){this.isMultiSelect||(this.fileToEdit=t,this.fileEditForm=this.fb.group({title:[t.filename,F.H.required],access_groups_id:[t.access_groups_id]}),this.dialogRef=this.dialog.open(this.fileEditDialog,x.a),this.dialogRef.keydownEvents().subscribe(t=>{"Enter"===t.key&&t.shiftKey&&this.fileEditForm.valid&&this.onSaveEditedFile(this.fileEditForm.value)}))}onSaveEditedFile(t){this.repo.update(t,this.fileToEdit).then(()=>{this.dialogRef.close()},this.raiseError)}onDelete(t){return Object(v.a)(this,void 0,void 0,(function*(){const e=this.translate.instant("Are you sure you want to delete this file?"),i=t.getTitle();(yield this.promptService.open(e,i))&&this.repo.delete(t)}))}deleteSelected(){return Object(v.a)(this,void 0,void 0,(function*(){const t=this.translate.instant("Are you sure you want to delete all selected files and folders?");(yield this.promptService.open(t))&&(yield this.repo.bulkDelete(this.selectedRows),this.deselectAll())}))}getNameOfAction(t){return this.translate.instant(this.mediaManage.getMediaConfig(t).display_name)}formatIndicatorTooltip(t){return this.getFileSettings(t).map(t=>this.getNameOfAction(t)).join("\n")}isUsedAs(t,e){const i=this.mediaManage.getMediaConfig(e);return!!i&&i.path===t.url}getFileSettings(t){let e=[];return t&&(t.isFont()?e=this.fontActions.filter(e=>this.isUsedAs(t,e)):t.isImage()&&(e=this.logoActions.filter(e=>this.isUsedAs(t,e)))),e}onManageButton(t,e,i){t.stopPropagation(),this.mediaManage.setAs(e,i).then(()=>{this.cd.markForCheck()})}createNewFolder(t){this.newDirectoryForm.reset(),this.dialog.open(t,x.a).afterClosed().subscribe(t=>{if(t){const t=new I.a(Object.assign(Object.assign({},this.newDirectoryForm.value),{parent_id:this.directory?this.directory.id:null,is_directory:!0}));this.repo.create(t).catch(this.raiseError)}})}downloadMultiple(t=this.dataSource.source){var e,i;const c=`${this.configService.instant("general_event_name")} - ${null!==(i=null===(e=this.directory)||void 0===e?void 0:e.filename)&&void 0!==i?i:this.translate.instant("Files")}`.trim();this.repo.downloadArchive(c,t)}move(t,e){this.moveForm.reset(),e.some(t=>t.is_directory)?this.filteredDirectoryBehaviorSubject.next(this.directoryBehaviorSubject.value.filter(t=>!e.some(e=>t.path.startsWith(e.path)))):this.filteredDirectoryBehaviorSubject.next(this.directoryBehaviorSubject.value),this.dialog.open(t,x.a).afterClosed().subscribe(t=>{t&&this.repo.move(e,this.moveForm.value.directory_id).then(()=>{this.dataSource.selection.clear(),this.cd.markForCheck()},this.raiseError)})}onSelectRow(t){if(this.isMultiSelect){const e=t.row;this.dataSource.selection.isSelected(e)?this.dataSource.selection.deselect(e):this.dataSource.selection.select(e)}}clearSubscriptions(){this.folderSubscription&&(this.folderSubscription.unsubscribe(),this.folderSubscription=null),this.directorySubscription&&(this.directorySubscription.unsubscribe(),this.directorySubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(l.Rb(s.c),l.Rb(b.k),l.Rb(d.a),l.Rb(k.a),l.Rb(n.a),l.Rb(n.f),l.Rb(r.a),l.Rb(T),l.Rb(C.a),l.Rb(D.a),l.Rb(R),l.Rb(o.a),l.Rb(A.b),l.Rb(F.g),l.Rb(F.g),l.Rb(w.a),l.Rb(l.h),l.Rb(M.a))},t.\u0275cmp=l.Lb({type:t,selectors:[["os-mediafile-list"]],viewQuery:function(t,e){var i;1&t&&(l.Mc(J,!0),l.Mc(H,!0)),2&t&&(l.Bc(i=l.gc())&&(e.fileEditForm=i.first),l.Bc(i=l.gc())&&(e.fileEditDialog=i.first))},features:[l.Cb],decls:41,vars:22,consts:[[3,"hasMainButton","multiSelectMode","mainEvent"],[1,"title-slot"],[1,"menu-slot"],["type","button","mat-icon-button","",3,"click",4,"osPerms","osPermsAnd"],["type","button","mat-icon-button","",3,"matMenuTriggerFor"],["class","central-info-slot",4,"ngIf"],[1,"custom-table-header"],[1,"folder-nav-bar","h-scroller"],["mat-button","",1,"folder",3,"disabled","click"],[1,"file-icon"],["class","folder-section",4,"ngFor","ngForOf"],["class","visibility",4,"ngIf"],["showHeader","false","vScrollAuto","","matCheckboxSelection","selection",1,"file-manager-table",3,"dataSource","columns","hideColumns","rowClick"],["class","fill clickable",4,"pblNgridCellDef"],["class","fill clickable",3,"click",4,"pblNgridCellDef"],["class","fill",4,"pblNgridCellDef"],["class","pbl-ngrid-no-data",4,"pblNgridNoDataRef"],["manageButton",""],["singleMediafileMenu","matMenu"],["matMenuContent",""],["mediafilesMenu","matMenu"],[4,"ngIf"],["fileEditDialog",""],["newFolderDialog",""],["moveDialog",""],["type","button","mat-icon-button","",3,"click"],[1,"central-info-slot"],["mat-icon-button","",3,"click"],[1,"folder-section"],[1,"arrow"],["class","folder","mat-button","",3,"disabled","click",4,"ngIf"],["class","folder","mat-button","",3,"matMenuTriggerFor","matMenuTriggerData","disabled",4,"ngIf"],["class","folder fake-folder folder-text",4,"ngIf"],[1,"folder-text"],["mat-button","",1,"folder",3,"matMenuTriggerFor","matMenuTriggerData","disabled"],["icon","arrow_drop_down","swap","true","size","large",3,"noWrap"],[1,"folder","fake-folder","folder-text"],[1,"visibility"],["mat-button","",1,"visible-for",3,"click"],["icon","group",3,"matTooltip"],[4,"ngFor","ngForOf"],[1,"fill","clickable"],["class","detail-link","target","_blank",3,"routerLink",4,"ngIf"],["class","detail-link",3,"click",4,"ngIf"],["target","_blank",1,"detail-link",3,"routerLink"],[1,"detail-link",3,"click"],[1,"innerTable"],[1,"file-title","ellipsis-overflow"],["class","info-text",4,"ngIf"],[1,"info-text"],[1,"fill","clickable",3,"click"],["icon","group",4,"ngIf"],["icon","group"],[1,"fill"],[3,"matMenuTriggerFor","matMenuTriggerData","matTooltip",4,"ngIf"],[3,"matMenuTriggerFor","matMenuTriggerData","matTooltip"],["class","file-icon",4,"ngIf"],["mat-icon-button","",3,"matMenuTriggerFor","matMenuTriggerData","disabled",4,"ngIf"],["mat-icon-button","",3,"matMenuTriggerFor","matMenuTriggerData","disabled"],[1,"pbl-ngrid-no-data"],["mat-menu-item","",3,"click"],["color","accent"],[4,"osPerms"],[3,"object","menuItem",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"object","menuItem"],["mat-menu-item","",1,"red-warning-text",3,"click"],["mat-menu-item","",3,"disabled","click"],["mat-menu-item","",3,"disabled","click",4,"osPerms"],["color","warn"],["mat-dialog-title",""],["mat-dialog-content","",1,"os-form-card-mobile"],[1,"edit-file-form",3,"formGroup"],["type","text","matInput","","osAutofocus","","required","","formControlName","title",3,"placeholder"],["formControlName","access_groups_id",3,"multiple","placeholder","inputListValues"],["mat-dialog-actions",""],["type","submit","mat-button","","color","accent",3,"disabled","click"],["type","button","mat-button","",3,"mat-dialog-close"],["matInput","","osAutofocus","","formControlName","title","required","",3,"placeholder"],["type","submit","mat-button","","color","accent",3,"disabled","mat-dialog-close"],["mat-dialog-content","",1,"os-form-card-mobile",3,"formGroup"],["formControlName","directory_id",3,"includeNone","noneTitle","placeholder","inputListValues"],["type","submit","mat-button","","color","accent",3,"mat-dialog-close"]],template:function(t,e){if(1&t&&(l.Xb(0,"os-head-bar",0),l.fc("mainEvent",(function(){return e.onMainEvent()})),l.Xb(1,"div",1),l.Xb(2,"h2"),l.Sc(3),l.kc(4,"translate"),l.Wb(),l.Wb(),l.Xb(5,"div",2),l.Qc(6,q,3,0,"button",3),l.Xb(7,"button",4),l.Xb(8,"mat-icon"),l.Sc(9,"more_vert"),l.Wb(),l.Wb(),l.Wb(),l.Qc(10,K,9,4,"div",5),l.Wb(),l.Xb(11,"div"),l.Xb(12,"div",6),l.Xb(13,"span",7),l.Xb(14,"button",8),l.fc("click",(function(){return e.changeDirectory(null)})),l.Xb(15,"mat-icon",9),l.Sc(16,"home"),l.Wb(),l.Wb(),l.Qc(17,ct,7,3,"span",10),l.Wb(),l.Qc(18,at,6,8,"span",11),l.Wb(),l.Wb(),l.Xb(19,"pbl-ngrid",12),l.fc("rowClick",(function(t){return e.onSelectRow(t)})),l.Qc(20,bt,5,3,"div",13),l.Qc(21,mt,7,4,"div",13),l.Qc(22,vt,2,1,"div",14),l.Qc(23,yt,2,1,"div",15),l.Qc(24,wt,2,1,"div",15),l.Qc(25,Mt,4,3,"div",16),l.Wb(),l.Qc(26,jt,5,2,"ng-template",null,17,l.Rc),l.Xb(28,"mat-menu",null,18),l.Qc(30,Lt,3,3,"ng-template",19),l.Wb(),l.Xb(31,"mat-menu",null,20),l.Qc(33,Bt,13,6,"div",21),l.Qc(34,Ut,23,14,"div",21),l.Wb(),l.Qc(35,zt,21,21,"ng-template",null,22,l.Rc),l.Qc(37,Vt,23,24,"ng-template",null,23,l.Rc),l.Qc(39,$t,20,21,"ng-template",null,24,l.Rc)),2&t){const t=l.Cc(32);l.rc("hasMainButton",e.canEdit)("multiSelectMode",e.isMultiSelect),l.Fb(3),l.Tc(l.lc(4,20,"Files")),l.Fb(3),l.rc("osPerms",e.permission.mediafilesCanManage)("osPermsAnd",!e.isMultiSelect),l.Fb(1),l.rc("matMenuTriggerFor",t),l.Fb(3),l.rc("ngIf",e.isMultiSelect),l.Fb(4),l.rc("disabled",e.isMultiSelect),l.Fb(3),l.rc("ngForOf",e.directoryChain),l.Fb(1),l.rc("ngIf",e.canEdit&&e.directory&&e.directory.has_inherited_access_groups),l.Fb(1),l.rc("dataSource",e.dataSource)("columns",e.columnSet)("hideColumns",e.hiddenColumns),l.Fb(1),l.rc("pblNgridCellDef","icon"),l.Fb(1),l.rc("pblNgridCellDef","title"),l.Fb(1),l.rc("pblNgridCellDef","info"),l.Fb(1),l.rc("pblNgridCellDef","indicator"),l.Fb(1),l.rc("pblNgridCellDef","menu"),l.Fb(9),l.rc("ngIf",!e.isMultiSelect),l.Fb(1),l.rc("ngIf",e.isMultiSelect)}},directives:[u.a,O.a,f.b,m.e,p.a,c.t,c.s,W.d,W.B,L.b,B.b,W.b,W.k,m.f,m.b,P.a,N.c,n.i,m.c,c.A,G.a,U.a,A.i,A.f,F.J,F.u,F.l,Y.c,z.b,F.d,V.a,F.E,F.t,F.j,$.a,A.c,A.d,Y.b],pipes:[b.j,c.E],styles:[".title-line{font-weight:500;font-size:16px}.title-line .icon-prefix .mat-icon{display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle;font-size:16px;height:16px;width:16px}.title-line .favorite-star{padding-right:3px}.mat-table{width:100%}.mat-table .mat-header-row .mat-column-anchor{display:none}.mat-table .mat-row{position:relative}.mat-table .mat-row .mat-column-anchor{position:absolute!important;top:0;right:0;bottom:0;left:0;opacity:.1;z-index:1}.mat-table .mat-row .mat-column-anchor a{display:block;height:100%;width:100%}.mat-table .mat-cell{position:relative}.mat-table .mat-cell .fill{position:absolute;display:inherit;height:100%;width:100%;line-height:0}.mat-table .mat-cell .fill *{margin-top:auto;margin-bottom:auto}.mat-table .mat-cell>*{z-index:2}.mat-table .mat-table-sticky{z-index:3!important}.folder-nav-bar{width:100%}.folder-nav-bar,.folder-section{display:-ms-flexbox;display:flex}.folder-section{white-space:nowrap}.folder-section .mat-button{padding:0}.arrow{height:64px}.arrow .mat-icon{line-height:64px;height:64px}.folder{height:64px}.folder>.content-node{white-space:nowrap}.fake-folder{padding:0 16px}.folder-text{font-size:16px;font-weight:500;margin:auto 5px;overflow:hidden}.visibility{display:-ms-flexbox;display:flex}.visibility .visible-for{width:-webkit-min-content;width:-moz-min-content;width:min-content}.file-manager-table{display:block;height:calc(100vh - 130px)}.file-manager-table .file-title{font-weight:500;font-size:16px}.file-manager-table .info-text{font-size:90%}.file-manager-table .pbl-ngrid-container>div{height:0}.file-manager-table .pbl-ngrid-row,.file-manager-table .pbl-ngrid-row .pbl-ngrid-cell{height:60px!important}.file-manager-table .pbl-ngrid-row:last-of-type{margin-bottom:60px!important}"],encapsulation:2,changeDetection:0}),t})()}],pathMatch:"prefix"},{path:"upload",data:{basePerm:o.b.mediafilesCanManage},children:[{path:"**",component:S}],pathMatch:"prefix"}];let Ht=(()=>{class t{}return t.\u0275mod=l.Pb({type:t}),t.\u0275inj=l.Ob({factory:function(e){return new(e||t)},imports:[[n.j.forChild(Jt)],n.j]}),t})();var qt=i("PCNd");let Kt=(()=>{class t{}return t.\u0275mod=l.Pb({type:t}),t.\u0275inj=l.Ob({factory:function(e){return new(e||t)},imports:[[c.c,Ht,qt.a]]}),t})()},F48D:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var c=i("mrSG"),n=i("LBBb"),o=i("8Y7J"),r=i("iELJ");let a=(()=>{class t{constructor(t){this.dialog=t}open(t,e=""){return Object(c.a)(this,void 0,void 0,(function*(){return this.dialog.open(n.a,{width:"290px",data:{title:t,content:e}}).afterClosed().toPromise()}))}}return t.\u0275fac=function(e){return new(e||t)(o.bc(r.b))},t.\u0275prov=o.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},LBBb:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var c=i("iELJ"),n=i("8Y7J"),o=i("SVse"),r=i("Dxy4"),a=i("TSSN");function l(t,e){if(1&t&&(n.Xb(0,"div"),n.Xb(1,"h2",1),n.Sc(2),n.Wb(),n.Sb(3,"mat-dialog-content",2),n.Xb(4,"mat-dialog-actions"),n.Xb(5,"button",3),n.Sc(6),n.kc(7,"translate"),n.Wb(),n.Xb(8,"button",4),n.Sc(9),n.kc(10,"translate"),n.Wb(),n.Wb(),n.Wb()),2&t){const t=n.jc();n.Fb(2),n.Tc(t.data.title),n.Fb(1),n.rc("innerHTML",t.data.content,n.Hc),n.Fb(2),n.rc("mat-dialog-close",!0),n.Fb(1),n.Tc(n.lc(7,6,"OK")),n.Fb(2),n.rc("mat-dialog-close",!1),n.Fb(1),n.Tc(n.lc(10,8,"Cancel"))}}let s=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(c.h),n.Rb(c.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["os-prompt-dialog"]],decls:1,vars:1,consts:[[4,"ngIf"],["mat-dialog-title",""],[3,"innerHTML"],["mat-button","","color","warn",3,"mat-dialog-close"],["mat-button","",3,"mat-dialog-close"]],template:function(t,e){1&t&&n.Qc(0,l,11,10,"div",0),2&t&&n.rc("ngIf",e.data)},directives:[o.t,c.i,c.f,c.c,r.b,c.d],pipes:[a.j],encapsulation:2}),t})()},wL0i:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var c=i("mV3u");class n extends c.a{constructor(t,e,i,c){super(t,e,i),this.storage=c,this.canMultiSelect=!1,this._multiSelectMode=!1,this.singleButtonWidth="40px",this.badgeButtonWidth="45px",this.selectedRows=[]}onDataSourceChange(t){this.dataSource=t}toggleMultiSelect(){!this.canMultiSelect||this.isMultiSelect?(this._multiSelectMode=!1,this.deselectAll()):this._multiSelectMode=!0}selectAll(){this.dataSource.selection.select(...this.dataSource.filteredData)}deselectAll(){this.dataSource&&this.dataSource.selection.clear()}get isMultiSelect(){return this._multiSelectMode}}}}]);