(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"+KR1":function(t,e,n){"use strict";n.d(e,"a",(function(){return w}));var i=n("8Y7J"),s=n("iInd"),c=n("s7LF"),o=n("SVse"),a=n("rJgo"),r=n("vYAO"),l=n("f44v"),u=n("Q2Ze"),b=n("e6WT"),h=n("IZUe"),d=n("Dxy4"),p=n("oqD5"),f=n("TSSN");function m(t,e){if(1&t&&(i.Xb(0,"h4"),i.Sc(1),i.Wb()),2&t){const t=i.jc();i.Fb(1),i.Tc(t.title)}}function g(t,e){if(1&t&&(i.Xb(0,"mat-basic-chip",8),i.Sc(1),i.Wb()),2&t){const t=i.jc(),e=i.Cc(3);i.rc("matMenuTriggerFor",e)("ngClass",t.classes),i.Fb(1),i.Uc(" ",t.chipValue||"\u2013"," ")}}function x(t,e){if(1&t&&(i.Xb(0,"mat-basic-chip",9),i.Sc(1),i.Wb()),2&t){const t=i.jc();i.rc("ngClass",t.classes),i.Fb(1),i.Uc(" ",t.chipValue," ")}}function C(t,e){if(1&t&&(i.Xb(0,"mat-form-field",14),i.Sb(1,"os-search-value-selector",15),i.Wb()),2&t){const t=i.jc(2);i.rc("formGroup",t.extensionFieldForm),i.Fb(1),i.rc("inputListValues",t.searchList)("placeholder",t.searchListLabel)}}function F(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",10),i.Xb(1,"mat-form-field"),i.Xb(2,"input",11),i.fc("ngModelChange",(function(e){return i.Gc(t),i.jc().inputControl=e}))("keydown",(function(e){return i.Gc(t),i.jc().keyDownFunction(e)})),i.Wb(),i.Wb(),i.Qc(3,C,2,3,"mat-form-field",12),i.Xb(4,"button",13),i.fc("click",(function(){return i.Gc(t),i.jc().changeEditMode(!0)})),i.Sc(5),i.kc(6,"translate"),i.Wb(),i.Xb(7,"button",13),i.fc("click",(function(){return i.Gc(t),i.jc().changeEditMode()})),i.Sc(8),i.kc(9,"translate"),i.Wb(),i.Wb()}if(2&t){const t=i.jc();i.Fb(2),i.sc("placeholder",t.extensionLabel),i.rc("ngModel",t.inputControl),i.Fb(1),i.rc("ngIf",t.searchList),i.Fb(2),i.Tc(i.lc(6,5,"Save")),i.Fb(3),i.Tc(i.lc(9,7,"Cancel"))}}function v(t,e){1&t&&i.pc(0)}const S=[[["",8,"trigger-menu"]]],E=[".trigger-menu"];let w=(()=>{class t{constructor(t,e){this.fb=t,this.router=e,this.classes="bluegrey",this.hasExtension=!1,this.canBeEdited=!0,this.listSubmitOnChange=!1,this.appendValueToInput=!0,this.listValuePrefix="",this.listValueSuffix="",this.success=new i.p,this.listChange=new i.p,this.inputControl="",this.editMode=!1}ngOnInit(){this.navigationSubscription=this.router.events.subscribe(t=>{t instanceof s.c&&(this.editMode=!1,this.extensionFieldForm&&this.extensionFieldForm.reset())}),this.initInput(),this.searchList&&(this.extensionFieldForm=this.fb.group({list:[[]]}),this.searchValueSubscription=this.extensionFieldForm.get("list").valueChanges.subscribe(t=>{t&&"number"==typeof t&&(this.listSubmitOnChange&&this.listChange.emit(t),this.appendValueToInput&&(this.inputControl||(this.inputControl=""),this.inputControl+=`[${this.listValuePrefix}${t}${this.listValueSuffix}]`),this.extensionFieldForm.reset())}))}ngOnDestroy(){this.navigationSubscription.unsubscribe(),this.searchValueSubscription&&this.searchValueSubscription.unsubscribe()}keyDownFunction(t){"Enter"===t.key&&this.changeEditMode(!0)}changeEditMode(t=!1){t?this.sendSuccess():this.initInput(),this.editMode=!this.editMode}initInput(){this.inputControl=this.inputValue}sendSuccess(){if(this.success){const t=this.listSubmitOnChange||this.appendValueToInput||!this.searchList?this.inputControl:{extensionInput:this.inputControl,extensionList:this.extensionFieldForm.get("list").value};this.success.emit(t)}}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(c.g),i.Rb(s.f))},t.\u0275cmp=i.Lb({type:t,selectors:[["os-extension-field"]],inputs:{classes:"classes",title:"title",chipValue:"chipValue",hasExtension:"hasExtension",extensionLabel:"extensionLabel",searchListLabel:"searchListLabel",searchList:"searchList",canBeEdited:"canBeEdited",listSubmitOnChange:"listSubmitOnChange",appendValueToInput:"appendValueToInput",listValuePrefix:"listValuePrefix",listValueSuffix:"listValueSuffix",inputValue:"inputValue"},outputs:{success:"success",listChange:"listChange"},ngContentSelectors:E,decls:12,vars:10,consts:[[4,"ngIf"],["triggerMenu","matMenu"],[3,"ngTemplateOutlet"],["icon","create",3,"iconTooltip","swap","showIcon","iconAction"],["class","pointer","disableRipple","",3,"matMenuTriggerFor","ngClass",4,"ngIf"],["disableRipple","",3,"ngClass",4,"ngIf"],["class","spacer-top-10 extension-container",4,"ngIf"],["triggerTemplate",""],["disableRipple","",1,"pointer",3,"matMenuTriggerFor","ngClass"],["disableRipple","",3,"ngClass"],[1,"spacer-top-10","extension-container"],["matInput","","autocomplete","off","osAutofocus","",3,"ngModel","placeholder","ngModelChange","keydown"],[3,"formGroup",4,"ngIf"],["mat-button","",3,"click"],[3,"formGroup"],["formControlName","list",3,"inputListValues","placeholder"]],template:function(t,e){if(1&t&&(i.qc(S),i.Xb(0,"div"),i.Qc(1,m,2,1,"h4",0),i.Xb(2,"mat-menu",null,1),i.Tb(4,2),i.Wb(),i.Xb(5,"os-icon-container",3),i.fc("iconAction",(function(){return e.changeEditMode()})),i.kc(6,"translate"),i.Qc(7,g,2,3,"mat-basic-chip",4),i.Qc(8,x,2,2,"mat-basic-chip",5),i.Wb(),i.Wb(),i.Qc(9,F,10,9,"div",6),i.Qc(10,v,1,0,"ng-template",null,7,i.Rc)),2&t){const t=i.Cc(11);i.Fb(1),i.rc("ngIf",e.title),i.Fb(3),i.rc("ngTemplateOutlet",t),i.Fb(1),i.sc("iconTooltip",i.lc(6,8,"Edit")),i.rc("swap",!0)("showIcon",!e.editMode&&e.canBeEdited&&e.hasExtension),i.Fb(2),i.rc("ngIf",e.canBeEdited),i.Fb(1),i.rc("ngIf",!e.canBeEdited),i.Fb(1),i.rc("ngIf",e.hasExtension&&e.editMode)}},directives:[o.t,a.f,o.A,r.a,l.a,a.e,o.q,u.c,b.b,c.d,h.a,c.t,c.w,d.b,c.u,c.l,p.a,c.j],pipes:[f.j],styles:[".extension-container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{display:block}"]}),t})()},"5N+Y":function(t,e,n){"use strict";n.d(e,"a",(function(){return S}));var i=n("XNiG"),s=n("KL36"),c=n("w7eE"),o=n("8Y7J"),a=n("cUpR"),r=n("TSSN"),l=n("PDjf"),u=n("SVse"),b=n("TnkD");function h(t,e){1&t&&o.Tb(0)}function d(t,e){1&t&&o.Tb(0)}function p(t,e){if(1&t&&(o.Xb(0,"div",11),o.Qc(1,d,1,0,"ng-container",3),o.Wb()),2&t){o.jc();const t=o.Cc(18);o.Fb(1),o.rc("ngTemplateOutlet",t)}}function f(t,e){1&t&&o.Tb(0)}function m(t,e){if(1&t){const t=o.Yb();o.Xb(0,"div",12),o.Xb(1,"a",13),o.fc("click",(function(){o.Gc(t);const e=o.jc();return e.isExpanded=!e.isExpanded})),o.Sc(2),o.kc(3,"translate"),o.kc(4,"translate"),o.Wb(),o.Wb()}if(2&t){const t=o.jc();o.Fb(2),o.Tc(t.isExpanded?o.lc(3,1,"Hide more text"):o.lc(4,3,"Show full text"))}}function g(t,e){1&t&&o.pc(0)}function x(t,e){1&t&&o.pc(0,1)}function C(t,e){1&t&&o.pc(0,2)}const F=[[["",8,"meta-text-block-title"]],[["",8,"meta-text-block-content"]],[["",8,"meta-text-block-action-row"]]],v=[".meta-text-block-title",".meta-text-block-content",".meta-text-block-action-row"];let S=(()=>{class t extends c.a{constructor(t,e,n,s){super(t,e),this.vp=n,this.cd=s,this._disableExpandControl=!1,this.canExpand=!1,this.isExpanded=!1,this.resizeSubject=new i.a}set disableExpandControl(t){this._disableExpandControl=t,t&&(this.isExpanded=!1,this.cd.detectChanges())}get disableExpandControl(){return this._disableExpandControl}ngOnInit(){this.contentSubscription=this.resizeSubject.subscribe(t=>this.resizesContentBox(t))}ngOnDestroy(){this.contentSubscription&&(this.contentSubscription.unsubscribe(),this.contentSubscription=null),this.cd.detach()}resizesContentBox(t){this.canExpand=t>200}}return t.\u0275fac=function(e){return new(e||t)(o.Rb(a.c),o.Rb(r.k),o.Rb(s.a),o.Rb(o.h))},t.\u0275cmp=o.Lb({type:t,selectors:[["os-meta-text-block"]],inputs:{showActionRow:"showActionRow",disableExpandControl:"disableExpandControl"},features:[o.Cb],ngContentSelectors:v,decls:19,vars:6,consts:[[1,"meta-text-block"],[1,"title-container"],[1,"ellipsis-overflow"],[4,"ngTemplateOutlet"],["class","action-row",4,"ngIf"],[1,"content",3,"osHeightResizing","ngClass"],["contentBox",""],["class","small show-entire-text",4,"ngIf"],["title",""],["content",""],["actionRow",""],[1,"action-row"],[1,"small","show-entire-text"],[3,"click"]],template:function(t,e){if(1&t&&(o.qc(F),o.Xb(0,"div"),o.Xb(1,"mat-card",0),o.Xb(2,"mat-card-header"),o.Xb(3,"mat-card-title"),o.Xb(4,"div",1),o.Xb(5,"div",2),o.Qc(6,h,1,0,"ng-container",3),o.Wb(),o.Qc(7,p,2,1,"div",4),o.Wb(),o.Wb(),o.Wb(),o.Xb(8,"mat-card-content"),o.Xb(9,"div",5,6),o.Qc(11,f,1,0,"ng-container",3),o.Wb(),o.Qc(12,m,5,5,"div",7),o.Wb(),o.Wb(),o.Wb(),o.Qc(13,g,1,0,"ng-template",null,8,o.Rc),o.Qc(15,x,1,0,"ng-template",null,9,o.Rc),o.Qc(17,C,1,0,"ng-template",null,10,o.Rc)),2&t){const t=o.Cc(14),n=o.Cc(16);o.Fb(6),o.rc("ngTemplateOutlet",t),o.Fb(1),o.rc("ngIf",e.showActionRow),o.Fb(2),o.rc("osHeightResizing",e.resizeSubject)("ngClass",e.isExpanded||e.disableExpandControl?"":"collapsed"),o.Fb(2),o.rc("ngTemplateOutlet",n),o.Fb(1),o.rc("ngIf",e.canExpand&&!e.disableExpandControl)}},directives:[l.a,l.f,l.m,u.A,u.t,l.d,b.a,u.q],pipes:[r.j],styles:[""]}),t})()},"6Ehv":function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var i=n("InfO"),s=n("+KbT"),c=n("+az0"),o=n("8Y7J"),a=n("3Xi6"),r=n("SVse"),l=n("s7LF"),u=n("pMoy"),b=n("Q2Ze"),h=n("ZTz/"),d=n("UhP/"),p=n("oqD5"),f=n("TSSN");function m(t,e){if(1&t&&(o.Xb(0,"mat-option",7),o.Xb(1,"span"),o.Sc(2),o.kc(3,"translate"),o.Wb(),o.Wb()),2&t){const t=e.$implicit;o.rc("value",t.key),o.Fb(2),o.Tc(o.lc(3,2,t.name))}}function g(t,e){if(1&t&&(o.Xb(0,"div",2),o.Xb(1,"mat-form-field"),o.Sb(2,"os-search-value-selector",8),o.kc(3,"translate"),o.Wb(),o.Wb()),2&t){const t=o.jc(4);o.rc("formGroup",t.form),o.Fb(2),o.sc("placeholder",o.lc(3,5,"Parent agenda item")),o.rc("multiple",!1)("includeNone",!0)("inputListValues",t.itemObserver)}}function x(t,e){if(1&t&&(o.Vb(0),o.Xb(1,"div"),o.Xb(2,"mat-form-field",2),o.Xb(3,"mat-select",4),o.kc(4,"translate"),o.Qc(5,m,4,4,"mat-option",5),o.Wb(),o.Wb(),o.Wb(),o.Qc(6,g,4,7,"div",6),o.Ub()),2&t){const t=o.jc(3);o.Fb(2),o.rc("formGroup",t.form),o.Fb(1),o.sc("placeholder",o.lc(4,4,"Agenda visibility")),o.Fb(2),o.rc("ngForOf",t.ItemVisibilityChoices),o.Fb(1),o.rc("ngIf",t.itemObserver.value.length>0)}}function C(t,e){if(1&t&&(o.Vb(0),o.Xb(1,"div",2),o.Xb(2,"p"),o.Xb(3,"mat-checkbox",3),o.Xb(4,"span"),o.Sc(5),o.kc(6,"translate"),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Qc(7,x,7,6,"ng-container",1),o.Ub()),2&t){const t=o.jc(2);o.Fb(1),o.rc("formGroup",t.form),o.Fb(4),o.Tc(o.lc(6,3,"Add to agenda")),o.Fb(2),o.rc("ngIf",!!t.checkbox.value)}}function F(t,e){if(1&t&&(o.Vb(0),o.Qc(1,C,8,5,"ng-container",1),o.Ub()),2&t){const t=o.jc();o.Fb(1),o.rc("ngIf",t.showForm)}}let v=(()=>{class t{constructor(t,e){this.configService=t,this.itemRepo=e,this.showForm=!1,this.ItemVisibilityChoices=c.b}ngOnInit(){this.checkbox=this.form.controls.agenda_create,this.configService.get("agenda_item_creation").subscribe(t=>{if("always"===t)this.showForm=!0,this.checkbox.disable(),this.form.patchValue({agenda_create:!0});else if("never"===t)this.showForm=!1,this.checkbox.disable(),this.form.patchValue({agenda_create:!1});else{const e="default_yes"===t;this.showForm=!0,this.checkbox.enable(),this.form.patchValue({agenda_create:e})}}),this.configService.get("agenda_new_items_default_visibility").subscribe(t=>{this.form.get("agenda_type").setValue(+t)}),this.itemObserver=this.itemRepo.getViewModelListBehaviorSubject()}}return t.\u0275fac=function(e){return new(e||t)(o.Rb(s.a),o.Rb(i.a))},t.\u0275cmp=o.Lb({type:t,selectors:[["os-agenda-content-object-form"]],inputs:{form:"form"},decls:1,vars:1,consts:[[4,"osPerms"],[4,"ngIf"],[3,"formGroup"],["formControlName","agenda_create"],["formControlName","agenda_type",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[3,"formGroup",4,"ngIf"],[3,"value"],["formControlName","agenda_parent_id",3,"multiple","includeNone","placeholder","inputListValues"]],template:function(t,e){1&t&&o.Qc(0,F,2,1,"ng-container",0),2&t&&o.rc("osPerms","agenda.can_manage")},directives:[a.a,r.t,l.u,l.l,u.a,l.t,l.j,b.c,h.a,r.s,d.n,p.a],pipes:[f.j],styles:[""]}),t})()},JAMN:function(t,e,n){"use strict";n.d(e,"a",(function(){return S}));var i=n("8Y7J"),s=n("Q2Ze"),c=n("lJxs"),o=n("SSyl"),a=n("aAo1"),r=n("Izkr"),l=n("s7LF"),u=n("YEUz"),b=n("iELJ"),h=n("SVse"),d=n("oqD5"),p=n("3Xi6"),f=n("Dxy4"),m=n("Tj54"),g=n("GTZY"),x=n("TSSN");function C(t,e){if(1&t){const t=i.Yb();i.Xb(0,"button",5),i.fc("click",(function(){i.Gc(t);const e=i.jc(2),n=i.Cc(2);return e.openUploadDialog(n)})),i.Xb(1,"mat-icon"),i.Sc(2,"cloud_upload"),i.Wb(),i.Wb()}}function F(t,e){if(1&t&&(i.Xb(0,"div",2),i.Xb(1,"mat-form-field"),i.Sb(2,"os-search-value-selector",3),i.kc(3,"translate"),i.Wb(),i.Qc(4,C,3,0,"button",4),i.Wb()),2&t){const t=i.jc();i.Fb(2),i.sc("placeholder",i.lc(3,5,"Attachments")),i.rc("multiple",!0)("formControl",t.contentForm)("inputListValues",t.mediaFileList),i.Fb(2),i.rc("osPerms","mediafiles.can_manage")}}function v(t,e){if(1&t){const t=i.Yb();i.Xb(0,"h1",6),i.Xb(1,"span"),i.Sc(2),i.kc(3,"translate"),i.Wb(),i.Wb(),i.Xb(4,"os-media-upload-content",7),i.fc("uploadSuccessEvent",(function(e){return i.Gc(t),i.jc().uploadSuccess(e)}))("errorEvent",(function(e){return i.Gc(t),i.jc().uploadError(e)})),i.Wb()}2&t&&(i.Fb(2),i.Tc(i.lc(3,1,"Upload files")))}let S=(()=>{class t extends a.a{constructor(t,e,n,s,c,o){super(t,e,n,s),this.ngControl=s,this.dialogService=c,this.mediaService=o,this.errorHandler=new i.p}get empty(){return!this.contentForm.value.length}get controlType(){return"attachment-control"}ngOnInit(){this.mediaFileList=this.mediaService.getViewModelListObservable().pipe(Object(c.a)(t=>t.filter(t=>!t.is_directory)))}openUploadDialog(t){this.dialogRef=this.dialogService.open(t,Object.assign(Object.assign({},r.c),{disableClose:!1}))}uploadSuccess(t){const e=[...this.contentForm.value,...t];this.updateForm(e),this.dialogRef.close()}uploadError(t){this.errorHandler.emit(t)}onContainerClick(t){}initializeForm(){this.contentForm=this.fb.control([])}updateForm(t){this.contentForm.setValue(t||[])}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(l.g),i.Rb(u.h),i.Rb(i.m),i.Rb(l.s,10),i.Rb(b.b),i.Rb(o.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["os-attachment-control"]],outputs:{errorHandler:"errorHandler"},features:[i.Eb([{provide:s.d,useExisting:t}]),i.Cb],decls:3,vars:1,consts:[["class","attachment-container",4,"ngIf"],["uploadDialog",""],[1,"attachment-container"],[1,"selector",3,"multiple","placeholder","formControl","inputListValues"],["type","button","mat-icon-button","",3,"click",4,"osPerms"],["type","button","mat-icon-button","",3,"click"],["mat-dialog-title",""],[3,"uploadSuccessEvent","errorEvent"]],template:function(t,e){1&t&&(i.Qc(0,F,5,7,"div",0),i.Qc(1,v,5,3,"ng-template",null,1,i.Rc)),2&t&&i.rc("ngIf",e.contentForm)},directives:[h.t,s.c,d.a,l.t,l.i,p.a,f.b,m.a,b.i,g.a],pipes:[x.j],styles:["[_nghost-%COMP%]{width:100%}[_nghost-%COMP%]   .attachment-container[_ngcontent-%COMP%]{-ms-flex-pack:justify;justify-content:space-between;display:-ms-flexbox;display:flex}[_nghost-%COMP%]   .attachment-container[_ngcontent-%COMP%]   .selector[_ngcontent-%COMP%]{width:95%}[_nghost-%COMP%]   .attachment-container[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{top:20px}"],changeDetection:0}),t})()},TnkD:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("h9Sk"),s=n("8Y7J");let c=(()=>{class t{constructor(t){t&&(this.nativeElement=t.nativeElement)}ngOnInit(){new i.ResizeSensor(this.nativeElement,()=>{this.checkElementForChanges()}),this.checkElementForChanges()}checkElementForChanges(){this.nativeElement.scrollHeight!==this.oldHeight&&(this.oldHeight=this.nativeElement.scrollHeight,this.osHeightResizing&&this.osHeightResizing.next(this.nativeElement.scrollHeight))}}return t.\u0275fac=function(e){return new(e||t)(s.Rb(s.m))},t.\u0275dir=s.Mb({type:t,selectors:[["","osHeightResizing",""]],inputs:{osHeightResizing:"osHeightResizing"}}),t})()}}]);