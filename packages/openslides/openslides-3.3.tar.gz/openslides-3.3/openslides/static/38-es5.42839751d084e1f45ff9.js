!function(){function t(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&e(t,n)}function e(t,n){return(e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,n)}function n(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=r(t);if(e){var c=r(this).constructor;n=Reflect.construct(o,arguments,c)}else n=o.apply(this,arguments);return i(this,n)}}function i(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||a(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=a(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return c=t.done,t},e:function(t){l=!0,o=t},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function a(t,e){if(t){if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function b(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{ePZ9:function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var i=n("pSLD"),r=n("+B0n"),a=n("dOok"),l=n("+KbT"),u=n("1NkQ"),f=n("a9XT"),m=n("rHPv"),d=n("jDC6"),p=n("3Y4h"),v=n("8Y7J"),h=n("TSSN"),g=function(){var t=function(){function t(e,n,i,r,o,c,a){s(this,t),this.csvExport=e,this.translate=n,this.configService=i,this.linenumberingService=r,this.changeRecoRepo=o,this.motionRepo=c,this.commentRepo=a}return b(t,[{key:"createText",value:function(t,e){var n=this.configService.instant("motions_line_length"),i=Object.assign([],this.changeRecoRepo.getChangeRecoOfMotion(t.id)),r=this.motionRepo.getAmendmentsInstantly(t.id);if(r){var o,a=c(r);try{for(a.s();!(o=a.n()).done;){var l,s=o.value,u=this.changeRecoRepo.getChangeRecoOfMotion(s.id).filter((function(t){return t.showInFinalView()})),b=c(this.motionRepo.getAmendmentAmendedParagraphs(s,n,u));try{for(b.s();!(l=b.n()).done;){var f=l.value;i.push(f)}}catch(d){b.e(d)}finally{b.f()}}}catch(d){a.e(d)}finally{a.f()}}i.sort((function(t,e){return t.getLineFrom()-e.getLineFrom()}));var m=this.motionRepo.formatMotion(t.id,e,i,n);return this.linenumberingService.stripLineNumbers(m)}},{key:"exportMotionList",value:function(t,e,n,i){var r=this;i||(i=this.configService.instant("motions_recommendation_text_mode"));var c=Object(p.j)(["identifier","title"].concat(e)).map((function(t){return"recommendation"===t?{label:"recommendation",map:function(t){return r.motionRepo.getExtendedRecommendationLabel(t)}}:"state"===t?{label:"state",map:function(t){return r.motionRepo.getExtendedStateLabel(t)}}:"text"===t?{label:"Text",map:function(t){return r.createText(t,i)}}:"motion_block"===t?{label:"Motion block",map:function(t){return t.motion_block?t.motion_block.getTitle():""}}:{property:t}}));c.push.apply(c,o(n.map((function(t){return{label:r.commentRepo.getViewModel(t).getTitle(),map:function(e){var n=r.commentRepo.getViewModel(t),i=e.getCommentForSection(n);return i&&i.comment?Object(m.a)(Object(d.a)(i.comment)):""}}})))),this.csvExport.export(t,c,this.translate.instant("Motions")+".csv")}},{key:"exportCallList",value:function(t){var e=this;this.csvExport.export(t,[{label:"Called",map:function(t){return t.sort_parent_id?"":t.identifierOrTitle}},{label:"Called with",map:function(t){return t.sort_parent_id?t.identifierOrTitle:""}},{label:"submitters",map:function(t){return t.submittersAsUsers.map((function(t){return t.short_name})).join(",")}},{property:"title"},{label:"recommendation",map:function(t){return t.recommendation?e.motionRepo.getExtendedRecommendationLabel(t):""}},{property:"motion_block",label:"Motion block"}],this.translate.instant("Call list")+".csv")}},{key:"exportDummyMotion",value:function(){this.csvExport.dummyCSVExport(["Identifier","Submitters","Title","Text","Reason","Category","Tags","Motion block","Origin"],[["A1","Submitter A","Title 1","Text 1","Reason 1","Category A","Tag 1, Tag 2","Block A","Last Year Conference A"],["B1","Submitter B","Title 2","Text 2","Reason 2","Category B",null,"Block A","Origin B"],["C2",null,"Title 3","Text 3",null,null,null,null,null]],this.translate.instant("motions-example")+".csv")}}]),t}();return t.\u0275fac=function(e){return new(e||t)(v.bc(u.a),v.bc(h.k),v.bc(l.a),v.bc(f.a),v.bc(i.a),v.bc(a.a),v.bc(r.a))},t.\u0275prov=v.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},mksl:function(t,e,n){"use strict";n.d(e,"a",(function(){return j}));var i=n("8Y7J"),r=n("VR2Q"),o=n("7dBR"),c=n("gsQk"),a=n("KL36"),l=n("iInd"),u=n("l0rg"),f=n("SVse"),m=n("Dxy4"),d=n("Tj54"),p=n("ZFy/"),v=n("TSSN");function h(t,e){if(1&t){var n=i.Yb();i.Xb(0,"button",12),i.fc("click",(function(){return i.Gc(n),i.jc().clickHamburgerMenu()})),i.Xb(1,"mat-icon"),i.Sc(2,"menu"),i.Wb(),i.Wb()}}function g(t,e){if(1&t){var n=i.Yb();i.Xb(0,"button",12),i.fc("click",(function(){return i.Gc(n),i.jc().onBackButton()})),i.Xb(1,"mat-icon"),i.Sc(2,"arrow_back"),i.Wb(),i.Wb()}}function k(t,e){if(1&t){var n=i.Yb();i.Xb(0,"button",12),i.fc("click",(function(){i.Gc(n);var t=i.jc();return t.isCancelEditUsed?t.sendCancelEditEvent():t.sendMainEvent()})),i.Xb(1,"mat-icon"),i.Sc(2,"close"),i.Wb(),i.Wb()}}function y(t,e){1&t&&(i.Xb(0,"div",13),i.pc(1,1),i.Wb())}function S(t,e){1&t&&i.Sb(0,"div",6)}function w(t,e){1&t&&(i.Xb(0,"div",14),i.pc(1,2),i.Wb())}function x(t,e){if(1&t){var n=i.Yb();i.Xb(0,"button",12),i.fc("click",(function(){return i.Gc(n),i.jc().openSearch()})),i.Xb(1,"mat-icon"),i.Sc(2,"search"),i.Wb(),i.Wb()}}function T(t,e){if(1&t){var n=i.Yb();i.Xb(0,"button",15),i.fc("click",(function(){return i.Gc(n),i.jc().sendMainEvent()})),i.kc(1,"translate"),i.Xb(2,"mat-icon"),i.Sc(3),i.Wb(),i.Wb()}if(2&t){var r=i.jc();i.sc("matTooltip",i.lc(1,3,r.mainActionTooltip)),i.rc("disabled",!r.isMainButtonEnabled),i.Fb(3),i.Tc(r.mainButtonIcon)}}function F(t,e){if(1&t){var n=i.Yb();i.Xb(0,"button",16),i.fc("click",(function(){return i.Gc(n),i.jc().save()})),i.Xb(1,"strong",17),i.Sc(2),i.kc(3,"translate"),i.Wb(),i.Wb()}if(2&t){var r=i.jc();i.rc("disabled",!r.isSaveButtonEnabled),i.Fb(2),i.Tc(i.lc(3,2,r.saveText))}}function W(t,e){1&t&&i.pc(0,3,["*ngIf","!editMode"])}function X(t,e){1&t&&(i.Xb(0,"mat-icon"),i.Sc(1," add "),i.Wb())}function C(t,e){if(1&t&&(i.Xb(0,"mat-icon"),i.Sc(1),i.Wb()),2&t){var n=i.jc(2);i.Fb(1),i.Uc(" ",n.mainButtonIcon," ")}}function E(t,e){if(1&t){var n=i.Yb();i.Xb(0,"button",18),i.fc("click",(function(){return i.Gc(n),i.jc().sendMainEvent()})),i.kc(1,"translate"),i.Qc(2,X,2,0,"mat-icon",10),i.Qc(3,C,2,1,"mat-icon",10),i.Wb()}if(2&t){var r=i.jc();i.sc("matTooltip",i.lc(1,4,r.mainActionTooltip)),i.rc("disabled",!r.isMainButtonEnabled),i.Fb(2),i.rc("ngIf","add_circle"===r.mainButtonIcon),i.Fb(1),i.rc("ngIf","add_circle"!==r.mainButtonIcon)}}var M=[[["",8,"extra-controls-slot"]],[["",8,"title-slot"]],[["",8,"central-info-slot"]],[["",8,"menu-slot"]]],I=[".extra-controls-slot",".title-slot",".central-info-slot",".menu-slot"],j=function(){var t=function(){function t(e,n,r,o,c,a){s(this,t),this.vp=e,this.menu=n,this.router=r,this.route=o,this.routingState=c,this.overlayService=a,this.nav=!0,this.mainButtonIcon="add_circle",this.saveText="Save",this.editMode=!1,this.isSearchEnabled=!0,this.isSaveButtonEnabled=!0,this.multiSelectMode=!1,this.hasMainButton=!1,this.isMainButtonEnabled=!0,this.goBack=!1,this.prevUrl="../",this.mainEvent=new i.p,this.cancelEditEvent=new i.p,this.isCancelEditUsed=!1,this.saveEvent=new i.p}return b(t,[{key:"ngOnInit",value:function(){this.isCancelEditUsed=this.cancelEditEvent.observers.length>0}},{key:"sendMainEvent",value:function(){this.mainEvent.next()}},{key:"sendCancelEditEvent",value:function(){this.cancelEditEvent.next()}},{key:"clickHamburgerMenu",value:function(){this.menu.toggleMenu()}},{key:"save",value:function(){this.saveEvent.next(!0)}},{key:"openSearch",value:function(){this.overlayService.showSearch()}},{key:"onBackButton",value:function(){this.goBack?this.routingState.goBack():this.router.navigate(this.routingState.customOrigin&&this.routingState.customOrigin!==this.router.url?[this.routingState.customOrigin]:[this.prevUrl],{relativeTo:this.route})}},{key:"showBackButton",get:function(){return!this.nav&&!this.multiSelectMode&&(this.routingState.isSafePrevUrl||!this.goBack)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Rb(a.a),i.Rb(r.a),i.Rb(l.f),i.Rb(l.a),i.Rb(c.a),i.Rb(o.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["os-head-bar"]],inputs:{nav:"nav",mainButtonIcon:"mainButtonIcon",saveText:"saveText",editMode:"editMode",isSearchEnabled:"isSearchEnabled",isSaveButtonEnabled:"isSaveButtonEnabled",multiSelectMode:"multiSelectMode",hasMainButton:"hasMainButton",isMainButtonEnabled:"isMainButtonEnabled",goBack:"goBack",prevUrl:"prevUrl",mainActionTooltip:"mainActionTooltip"},outputs:{mainEvent:"mainEvent",cancelEditEvent:"cancelEditEvent",saveEvent:"saveEvent"},ngContentSelectors:I,decls:16,vars:12,consts:[["color","primary",1,"sticky-toolbar",3,"ngClass"],[1,"toolbar-left"],["mat-icon-button","",3,"click",4,"ngIf"],["class","toolbar-left-text",4,"ngIf"],["class","spacer",4,"ngIf"],["class","toolbar-centered",4,"ngIf"],[1,"spacer"],[1,"toolbar-right"],["mat-icon-button","",3,"disabled","matTooltip","click",4,"ngIf"],["mat-button","",3,"disabled","click",4,"ngIf"],[4,"ngIf"],["mat-fab","","class","head-button",3,"disabled","matTooltip","click",4,"ngIf"],["mat-icon-button","",3,"click"],[1,"toolbar-left-text"],[1,"toolbar-centered"],["mat-icon-button","",3,"disabled","matTooltip","click"],["mat-button","",3,"disabled","click"],[1,"upper"],["mat-fab","",1,"head-button",3,"disabled","matTooltip","click"]],template:function(t,e){1&t&&(i.qc(M),i.Xb(0,"mat-toolbar",0),i.Xb(1,"div",1),i.Qc(2,h,3,0,"button",2),i.Qc(3,g,3,0,"button",2),i.Qc(4,k,3,0,"button",2),i.Qc(5,y,2,0,"div",3),i.Wb(),i.Qc(6,S,1,0,"div",4),i.Qc(7,w,2,0,"div",5),i.Sb(8,"div",6),i.Qc(9,x,3,0,"button",2),i.Xb(10,"div",7),i.pc(11),i.Qc(12,T,4,5,"button",8),i.Qc(13,F,4,4,"button",9),i.Qc(14,W,1,0,"ng-content",10),i.Wb(),i.Wb(),i.Qc(15,E,4,6,"button",11)),2&t&&(i.rc("ngClass",e.multiSelectMode?"multi-select":""),i.Fb(2),i.rc("ngIf",e.vp.isMobile&&!e.showBackButton&&!e.editMode),i.Fb(1),i.rc("ngIf",e.showBackButton&&!e.editMode),i.Fb(1),i.rc("ngIf",e.editMode),i.Fb(1),i.rc("ngIf",!e.multiSelectMode),i.Fb(1),i.rc("ngIf",!e.multiSelectMode),i.Fb(1),i.rc("ngIf",e.multiSelectMode),i.Fb(2),i.rc("ngIf",!e.editMode&&e.isSearchEnabled),i.Fb(3),i.rc("ngIf",e.hasMainButton&&!e.editMode&&!e.vp.isMobile&&!e.multiSelectMode),i.Fb(1),i.rc("ngIf",e.editMode),i.Fb(1),i.rc("ngIf",!e.editMode),i.Fb(1),i.rc("ngIf",e.hasMainButton&&!e.editMode&&e.vp.isMobile&&!e.multiSelectMode))},directives:[u.a,f.q,f.t,m.b,d.a,p.c],pipes:[v.j],styles:[".head-button{position:fixed;z-index:10;right:20px;bottom:55px}.sticky-toolbar{top:0;z-index:5;position:-webkit-sticky;position:sticky;height:64px!important}.sticky-toolbar .toolbar-left{display:-ms-flexbox;display:flex;max-width:calc(100% - 100px)}.sticky-toolbar .toolbar-left button{margin:12px 0}.sticky-toolbar .toolbar-left .toolbar-left-text{margin-left:10px;width:100%;overflow:hidden}.sticky-toolbar .toolbar-left .toolbar-left-text .title-slot{margin:16px 0;display:block}.sticky-toolbar .toolbar-left .toolbar-left-text .title-slot h2{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.sticky-toolbar .toolbar-centered{margin:auto;vertical-align:baseline}.sticky-toolbar .toolbar-right,.sticky-toolbar .toolbar-right .extra-controls-slot{display:-ms-flexbox;display:flex}mat-toolbar.multi-select{background-color:#757575!important}"],encapsulation:2}),t}()},rHPv:function(t,e,n){"use strict";function i(t){return t.replace(/&auml;|&#228;/g,"\xe4").replace(/&Auml;|&#196;/g,"\xc4").replace(/&ouml;|&#246;/g,"\xf6").replace(/&Ouml;|&#214;/g,"\xd6").replace(/&uuml;/g,"\xfc").replace(/&Uuml;/g,"\xdc").replace(/&aring;|&#229;/g,"\xe5").replace(/&Aring;|&#197;/g,"\xc5").replace(/&szlig;|&#223;/g,"\xdf")}n.d(e,"a",(function(){return i}))},xoFW:function(e,i,r){"use strict";r.r(i),r.d(i,"MotionImportModule",(function(){return Zt}));var o,a=r("SVse"),l=r("PCNd"),u=r("iInd"),f=r("gjbj"),m=r("ePZ9"),d=r("mrSG"),p=r("iTQr"),v=r("D5Qf"),h=r("dOok"),g=r("lv9T"),k=r("ZDbo"),y=r("E2rH"),S=r("73vO"),w=r("h2Fo"),x=r("XNtA"),T=r("VaoK"),F=function(e){t(r,e);var i=n(r);function r(){return s(this,r),i.apply(this,arguments)}return b(r,[{key:"solveMotionBlocks",value:function(t){var e=this;if(this.csvMotionblock){if(this.csvMotionblock.id)return this.motion_block_id=this.csvMotionblock.id,0;var n=t.find((function(t){return t.name===e.csvMotionblock.name}));return n?(this.csvMotionblock=n,this.motion_block_id=n.id,0):1}return 0}},{key:"solveCategory",value:function(t){var e=this;if(this.csvCategory){if(this.csvCategory.id)return this.category_id=this.csvCategory.id,0;var n=t.find((function(t){return t.name===e.csvCategory.name}));return n?(this.csvCategory=n,this.category_id=n.id,0):1}return 0}},{key:"solveSubmitters",value:function(t){var e=0,n=[];return this.csvSubmitters.forEach((function(i){if(i.id)n.push(i.id);else if(t.length){var r=t.find((function(t){return t.name===i.name}));r?(i.id=r.id,n.push(r.id)):e+=1}else e+=1})),this.submitters_id=n,e}},{key:"solveTags",value:function(t){var e,n=0,i=[],r=c(this.csvTags);try{var o=function(){var r=e.value;if(r.id)return i.push(r.id),"continue";if(!t.length)return++n,"continue";var o=t.find((function(t){return t.name===r.name}));o?(r.id=o.id,i.push(o.id)):++n};for(r.s();!(e=r.n()).done;)o()}catch(a){r.e(a)}finally{r.f()}return this.tags_id=i,n}}]),r}(T.a),W=r("3Y4h"),X=r("8Y7J"),C=r("TSSN"),E=r("+sDk"),M=r("zHaW"),I=((o=function(e){t(r,e);var i=n(r);function r(t,e,n,o,c,a,l,u){var b;return s(this,r),(b=i.call(this,a,l,u)).repo=t,b.categoryRepo=e,b.motionBlockRepo=n,b.userRepo=o,b.tagRepo=c,b.errorList={MotionBlock:"Could not resolve the motion block",Category:"Could not resolve the category",Submitters:"Could not resolve the submitters",Tags:"Could not resolve the tags",Title:"A title is required",Text:"A content in the 'text' column is required",Duplicates:"A motion with this identifier already exists."},b.requiredHeaderLength=3,b.newSubmitters=[],b.newCategories=[],b.newMotionBlocks=[],b.newTags=[],b.expectedHeader=W.h.filter((function(t){return!W.g.includes(t)})),b}return b(r,[{key:"clearData",value:function(){this.newSubmitters=[],this.newCategories=[],this.newMotionBlocks=[],this.newTags=[]}},{key:"mapData",value:function(t){for(var e=new F(new T.a),n=Math.min(this.expectedHeader.length,t.length),i=0;i<n;i++)switch(this.expectedHeader[i]){case"submitters":e.csvSubmitters=this.getSubmitters(t[i]);break;case"category":e.csvCategory=this.getCategory(t[i]);break;case"motion_block":e.csvMotionblock=this.getMotionBlock(t[i]);break;case"tags":e.csvTags=this.getTags(t[i]);break;default:e[this.expectedHeader[i]]=t[i]}var r=this.repo.getViewModelList().some((function(t){return t.identifier===e.identifier})),o={newEntry:e,hasDuplicates:r,status:r?"error":"new",errors:r?["Duplicates"]:[]};return o.newEntry.title||this.setError(o,"Title"),o.newEntry.text||this.setError(o,"Title"),o}},{key:"doImport",value:function(){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.createNewMotionBlocks();case 2:return this.newMotionBlocks=t.sent,t.next=5,this.createNewCategories();case 5:return this.newCategories=t.sent,t.next=8,this.createNewUsers();case 8:return this.newSubmitters=t.sent,t.next=11,this.createNewTags();case 11:this.newTags=t.sent,e=c(this.entries),t.prev=13,e.s();case 15:if((n=e.n()).done){t.next=40;break}if(i=n.value,t.t0="new"===i.status,!t.t0){t.next=38;break}if(!i.newEntry.solveMotionBlocks(this.newMotionBlocks)){t.next=23;break}this.setError(i,"MotionBlock"),this.updatePreview(),t.next=38;break;case 23:if(!i.newEntry.solveCategory(this.newCategories)){t.next=27;break}this.setError(i,"Category"),this.updatePreview(),t.next=38;break;case 27:if(!i.newEntry.solveSubmitters(this.newSubmitters)){t.next=31;break}this.setError(i,"Submitters"),this.updatePreview(),t.next=38;break;case 31:if(!i.newEntry.solveTags(this.newTags)){t.next=35;break}this.setError(i,"Tags"),this.updatePreview(),t.next=38;break;case 35:return t.next=37,this.repo.create(i.newEntry);case 37:i.status="done";case 38:t.next=15;break;case 40:t.next=45;break;case 42:t.prev=42,t.t1=t.catch(13),e.e(t.t1);case 45:return t.prev=45,e.f(),t.finish(45);case 48:this.updatePreview();case 49:case"end":return t.stop()}}),t,this,[[13,42,45,48]])})))}},{key:"getSubmitters",value:function(t){var e=this,n=[];if(!t)return n;var i,r=c(t.split(","));try{var o=function(){var t=i.value,r=e.userRepo.getUsersByName(t.trim());r.length||(e.newSubmitters.find((function(e){return e.name===t}))||e.newSubmitters.push({name:t}),n.push({name:t})),1===r.length&&n.push({name:r[0].short_name,id:r[0].id}),r.length>1&&(n.push({name:t,multiId:r.map((function(t){return t.id}))}),e.matSnackbar.open("TODO: multiple possible users found for this string","ok"))};for(r.s();!(i=r.n()).done;)o()}catch(a){r.e(a)}finally{r.f()}return n}},{key:"getCategory",value:function(t){var e=this;if(!t)return null;var n=this.splitCategoryString(t),i=this.categoryRepo.getViewModelList().find((function(t){return!(n.prefix&&t.prefix!==n.prefix||t.name!==n.name&&e.translate.instant(t.name)!==n.name)}));return i?{name:i.prefixedName,id:i.id}:(this.newCategories.find((function(e){return e.name===t}))||this.newCategories.push({name:t}),{name:t})}},{key:"getMotionBlock",value:function(t){if(!t)return null;t=t.trim();var e=this.motionBlockRepo.getMotionBlocksByTitle(t);return e.length||(e=this.motionBlockRepo.getMotionBlocksByTitle(this.translate.instant(t))),e.length?{id:e[0].id,name:e[0].title}:(this.newMotionBlocks.find((function(e){return e.name===t}))||this.newMotionBlocks.push({name:t}),{name:t})}},{key:"getTags",value:function(t){var e=this,n=[];if(!t)return n;var i,r=c(t.split(","));try{var o=function(){var t=i.value;t=t.trim();var r=e.tagRepo.getViewModelList().find((function(e){return e.name===t}));r?n.push({id:r.id,name:r.name}):(e.newTags.find((function(e){return e.name===t}))||e.newTags.push({name:t}),n.push({name:t}))};for(r.s();!(i=r.n()).done;)o()}catch(a){r.e(a)}finally{r.f()}return n}},{key:"createNewUsers",value:function(){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n,i,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=[],n=c(this.newSubmitters);try{for(n.s();!(i=n.n()).done;)r=i.value,e.push(this.userRepo.createFromString(r.name))}catch(o){n.e(o)}finally{n.f()}return t.next=5,Promise.all(e);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"createNewMotionBlocks",value:function(){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n,i,r,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=[],n=c(this.newMotionBlocks);try{for(r=function(){var t=i.value;e.push(o.motionBlockRepo.create(new x.a({title:t.name})).then((function(e){return{name:t.name,id:e.id}})))},n.s();!(i=n.n()).done;)r()}catch(a){n.e(a)}finally{n.f()}return t.next=5,Promise.all(e);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"createNewCategories",value:function(){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n,i,r,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=[],n=c(this.newCategories);try{for(r=function(){var t=i.value,n=o.splitCategoryString(t.name);e.push(o.categoryRepo.create(new w.a({name:n.name,prefix:n.prefix?n.prefix:null})).then((function(e){return{name:t.name,id:e.id}})))},n.s();!(i=n.n()).done;)r()}catch(a){n.e(a)}finally{n.f()}return t.next=5,Promise.all(e);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"createNewTags",value:function(){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n,i,r,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=[],n=c(this.newTags);try{for(r=function(){var t=i.value;e.push(o.tagRepo.create(new S.a({name:t.name})).then((function(e){return{name:t.name,id:e.id}})))},n.s();!(i=n.n()).done;)r()}catch(a){n.e(a)}finally{n.f()}return t.next=5,Promise.all(e);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"splitCategoryString",value:function(t){var e=" - ";t.startsWith(e)&&(e=e.substring(1));var n="",i=(t=t.trim()).indexOf(e);return i>=0&&i<6&&(n=t.substring(0,i),t=t.substring(i+e.length)),{prefix:n,name:t}}}]),r}(y.a)).\u0275fac=function(t){return new(t||o)(X.bc(h.a),X.bc(p.a),X.bc(v.a),X.bc(k.a),X.bc(g.a),X.bc(C.k),X.bc(E.a),X.bc(M.a))},o.\u0275prov=X.Nb({token:o,factory:o.\u0275fac,providedIn:"root"}),o),j=r("cUpR"),B=r("mksl"),Q=r("PDjf"),R=r("Dxy4"),O=r("Q2Ze"),U=r("ZTz/"),D=r("IZUe"),_=r("UhP/"),A=r("OaSA"),P=r("LUZP"),V=r("Tj54"),$=r("ZFy/");function L(t,e){if(1&t){var n=X.Yb();X.Xb(0,"button",17),X.fc("click",(function(){return X.Gc(n),X.jc().doImport()})),X.Xb(1,"span",18),X.Sc(2),X.kc(3,"translate"),X.Wb(),X.Wb()}2&t&&(X.Fb(2),X.Tc(X.lc(3,1,"Import")))}function N(t,e){1&t&&(X.Xb(0,"span"),X.Sc(1,",\xa0"),X.Wb())}function H(t,e){if(1&t&&(X.Xb(0,"span"),X.Xb(1,"span"),X.Sc(2),X.kc(3,"translate"),X.Wb(),X.Qc(4,N,2,0,"span",19),X.Wb()),2&t){var n=e.$implicit,i=e.last;X.Fb(2),X.Tc(X.lc(3,2,n)),X.Fb(2),X.rc("ngIf",!i)}}function Y(t,e){if(1&t&&(X.Xb(0,"mat-option",20),X.Sc(1),X.kc(2,"translate"),X.Wb()),2&t){var n=e.$implicit;X.rc("value",n.value),X.Fb(1),X.Uc(" ",X.lc(2,2,n.label)," ")}}function G(t,e){if(1&t&&(X.Xb(0,"mat-option",20),X.Sc(1),X.kc(2,"translate"),X.Wb()),2&t){var n=e.$implicit;X.rc("value",n.value),X.Fb(1),X.Uc(" ",X.lc(2,2,n.label)," ")}}function Z(t,e){if(1&t&&(X.Xb(0,"mat-option",20),X.Sc(1),X.kc(2,"translate"),X.Wb()),2&t){var n=e.$implicit;X.rc("value",n.value),X.Fb(1),X.Uc(" ",X.lc(2,2,n.label)," ")}}function q(t,e){if(1&t&&(X.Xb(0,"div"),X.Sc(1," \xa0 "),X.Xb(2,"mat-icon",45),X.Sc(3,"playlist_add"),X.Wb(),X.Xb(4,"span"),X.Sc(5),X.Wb(),X.Xb(6,"span"),X.Sc(7),X.kc(8,"translate"),X.Wb(),X.Wb()),2&t){var n=X.jc(2);X.Fb(5),X.Uc("\xa0",n.newCount,"\xa0"),X.Fb(2),X.Tc(X.lc(8,2,"Motion(s) will be imported."))}}function z(t,e){if(1&t&&(X.Xb(0,"div",46),X.Sc(1," \xa0 "),X.Xb(2,"mat-icon",45),X.Sc(3,"warning"),X.Wb(),X.Xb(4,"span"),X.Sc(5),X.Wb(),X.Xb(6,"span"),X.Sc(7),X.kc(8,"translate"),X.Wb(),X.Wb()),2&t){var n=X.jc(2);X.Fb(5),X.Uc("\xa0",n.nonImportableCount,"\xa0"),X.Fb(2),X.Tc(X.lc(8,2,"entries will be ommitted."))}}function J(t,e){if(1&t&&(X.Xb(0,"div",47),X.Sc(1," \xa0 "),X.Xb(2,"mat-icon",45),X.Sc(3,"done"),X.Wb(),X.Xb(4,"span"),X.Sc(5),X.Wb(),X.Xb(6,"span"),X.Sc(7),X.kc(8,"translate"),X.Wb(),X.Wb()),2&t){var n=X.jc(2);X.Fb(5),X.Uc("\xa0",n.doneCount,"\xa0"),X.Fb(2),X.Tc(X.lc(8,2,"Motions have been imported."))}}function K(t,e){1&t&&(X.Xb(0,"div"),X.Xb(1,"span"),X.Sc(2),X.kc(3,"translate"),X.Wb(),X.Wb()),2&t&&(X.Fb(2),X.Tc(X.lc(3,1,'After verifiy the preview click on "import" please (see top right).')))}function tt(t,e){if(1&t){var n=X.Yb();X.Xb(0,"mat-select",48),X.fc("valueChange",(function(t){return X.Gc(n),X.jc(2).shown=t}))("selectionChange",(function(){return X.Gc(n),X.jc(2).setFilter()})),X.Xb(1,"mat-option",49),X.Sc(2),X.kc(3,"translate"),X.Wb(),X.Xb(4,"mat-option",50),X.Sc(5),X.kc(6,"translate"),X.Wb(),X.Xb(7,"mat-option",51),X.Sc(8),X.kc(9,"translate"),X.Wb(),X.Wb()}if(2&t){var i=X.jc(2);X.rc("value",i.shown),X.Fb(2),X.Tc(X.lc(3,4,"Show all")),X.Fb(3),X.Tc(X.lc(6,6,"Show errors only")),X.Fb(3),X.Tc(X.lc(9,8,"Show correct entries"))}}function et(t,e){1&t&&X.Sb(0,"mat-header-cell",52)}function nt(t,e){if(1&t&&(X.Xb(0,"div"),X.Xb(1,"mat-icon",53),X.kc(2,"translate"),X.Sc(3),X.Wb(),X.Wb()),2&t){var n=X.jc().$implicit,i=X.jc(2);X.Fb(1),X.uc("matTooltip","",n.errors.length," ",X.lc(2,3,"errors"),""),X.Fb(2),X.Uc(" ",i.getActionIcon(n)," ")}}function it(t,e){if(1&t&&(X.Xb(0,"div"),X.Xb(1,"mat-icon",54),X.kc(2,"translate"),X.Sc(3),X.Wb(),X.Wb()),2&t){var n=X.jc().$implicit,i=X.jc(2);X.Fb(1),X.sc("matTooltip",X.lc(2,2,"Motion will be imported")),X.Fb(2),X.Uc(" ",i.getActionIcon(n)," ")}}function rt(t,e){if(1&t&&(X.Xb(0,"div"),X.Xb(1,"mat-icon",54),X.kc(2,"translate"),X.Sc(3),X.Wb(),X.Wb()),2&t){var n=X.jc().$implicit,i=X.jc(2);X.Fb(1),X.sc("matTooltip",X.lc(2,2,"Motion has been imported")),X.Fb(2),X.Uc(" ",i.getActionIcon(n)," ")}}function ot(t,e){if(1&t&&(X.Xb(0,"mat-cell",52),X.Qc(1,nt,4,5,"div",19),X.Qc(2,it,4,4,"div",19),X.Qc(3,rt,4,4,"div",19),X.Wb()),2&t){var n=e.$implicit;X.Fb(1),X.rc("ngIf","error"===n.status),X.Fb(1),X.rc("ngIf","new"===n.status),X.Fb(1),X.rc("ngIf","done"===n.status)}}function ct(t,e){1&t&&(X.Xb(0,"mat-header-cell"),X.Sc(1),X.kc(2,"translate"),X.Wb()),2&t&&(X.Fb(1),X.Tc(X.lc(2,1,"Identifier")))}function at(t,e){if(1&t&&(X.Xb(0,"mat-icon",56),X.kc(1,"translate"),X.Sc(2," warning "),X.Wb()),2&t){var n=X.jc(3);X.sc("matTooltip",X.lc(1,1,n.getVerboseError("Duplicates")))}}function lt(t,e){if(1&t&&(X.Xb(0,"mat-cell"),X.Qc(1,at,3,3,"mat-icon",55),X.Sc(2),X.Wb()),2&t){var n=e.$implicit,i=X.jc(2);X.Fb(1),X.rc("ngIf",i.hasError(n,"Duplicates")),X.Fb(1),X.Uc(" ",n.newEntry.identifier," ")}}function st(t,e){1&t&&(X.Xb(0,"mat-header-cell"),X.Sc(1),X.kc(2,"translate"),X.Wb()),2&t&&(X.Fb(1),X.Tc(X.lc(2,1,"Title")))}function ut(t,e){if(1&t&&(X.Xb(0,"mat-icon",58),X.kc(1,"translate"),X.Sc(2," warning "),X.Wb()),2&t){var n=X.jc(3);X.sc("matTooltip",X.lc(1,1,n.getVerboseError("Title")))}}function bt(t,e){if(1&t&&(X.Xb(0,"mat-cell"),X.Qc(1,ut,3,3,"mat-icon",57),X.Sc(2),X.Wb()),2&t){var n=e.$implicit,i=X.jc(2);X.Fb(1),X.rc("ngIf",i.hasError(n,"Title")),X.Fb(1),X.Uc(" ",n.newEntry.title," ")}}function ft(t,e){1&t&&(X.Xb(0,"mat-header-cell"),X.Sc(1),X.kc(2,"translate"),X.Wb()),2&t&&(X.Fb(1),X.Tc(X.lc(2,1,"Motion text")))}function mt(t,e){if(1&t&&(X.Xb(0,"mat-icon",58),X.kc(1,"translate"),X.Sc(2," warning "),X.Wb()),2&t){var n=X.jc(3);X.sc("matTooltip",X.lc(1,1,n.getVerboseError("Text")))}}function dt(t,e){if(1&t&&(X.Xb(0,"mat-cell",54),X.Qc(1,mt,3,3,"mat-icon",57),X.Sc(2),X.Wb()),2&t){var n=e.$implicit,i=X.jc(2);X.sc("matTooltip",i.getLongPreview(n.newEntry.text)),X.Fb(1),X.rc("ngIf",i.hasError(n,"Text")),X.Fb(1),X.Uc(" ",i.getShortPreview(n.newEntry.text)," ")}}function pt(t,e){1&t&&(X.Xb(0,"mat-header-cell"),X.Sc(1),X.kc(2,"translate"),X.Wb()),2&t&&(X.Fb(1),X.Tc(X.lc(2,1,"Reason")))}function vt(t,e){if(1&t&&(X.Xb(0,"mat-cell",54),X.Sc(1),X.Wb()),2&t){var n=e.$implicit,i=X.jc(2);X.sc("matTooltip",i.getLongPreview(n.newEntry.reason)),X.Fb(1),X.Uc(" ",i.getShortPreview(n.newEntry.reason)," ")}}function ht(t,e){1&t&&(X.Xb(0,"mat-header-cell"),X.Sc(1),X.kc(2,"translate"),X.Wb()),2&t&&(X.Fb(1),X.Tc(X.lc(2,1,"Submitters")))}function gt(t,e){if(1&t&&(X.Xb(0,"mat-icon",58),X.kc(1,"translate"),X.Sc(2," warning "),X.Wb()),2&t){var n=X.jc(4);X.sc("matTooltip",X.lc(1,1,n.getVerboseError("Submitters")))}}function kt(t,e){1&t&&(X.Xb(0,"mat-icon",60),X.Sc(1,"add"),X.Wb())}function yt(t,e){if(1&t&&(X.Xb(0,"div"),X.Sc(1),X.Qc(2,kt,2,0,"mat-icon",59),X.Sc(3," \xa0 "),X.Wb()),2&t){var n=e.$implicit;X.Fb(1),X.Uc(" ",n.name," "),X.Fb(1),X.rc("ngIf",!n.id)}}function St(t,e){if(1&t&&(X.Xb(0,"div"),X.Qc(1,gt,3,3,"mat-icon",57),X.Qc(2,yt,4,2,"div",6),X.Wb()),2&t){var n=X.jc().$implicit,i=X.jc(2);X.Fb(1),X.rc("ngIf",i.hasError(n,"Submitters")),X.Fb(1),X.rc("ngForOf",n.newEntry.csvSubmitters)}}function wt(t,e){if(1&t&&(X.Xb(0,"mat-cell"),X.Qc(1,St,3,2,"div",19),X.Wb()),2&t){var n=e.$implicit;X.Fb(1),X.rc("ngIf",n.newEntry.csvSubmitters&&n.newEntry.csvSubmitters.length)}}function xt(t,e){1&t&&(X.Xb(0,"mat-header-cell"),X.Sc(1),X.kc(2,"translate"),X.Wb()),2&t&&(X.Fb(1),X.Tc(X.lc(2,1,"Category")))}function Tt(t,e){if(1&t&&(X.Xb(0,"mat-icon",58),X.kc(1,"translate"),X.Sc(2," warning "),X.Wb()),2&t){var n=X.jc(4);X.sc("matTooltip",X.lc(1,1,n.getVerboseError("Category")))}}function Ft(t,e){1&t&&(X.Xb(0,"mat-icon",60),X.Sc(1,"add"),X.Wb())}function Wt(t,e){if(1&t&&(X.Xb(0,"div"),X.Qc(1,Tt,3,3,"mat-icon",57),X.Sc(2),X.Qc(3,Ft,2,0,"mat-icon",59),X.Sc(4,"\xa0 "),X.Wb()),2&t){var n=X.jc().$implicit,i=X.jc(2);X.Fb(1),X.rc("ngIf",i.hasError(n,"Category")),X.Fb(1),X.Uc(" ",n.newEntry.csvCategory.name," "),X.Fb(1),X.rc("ngIf",!n.newEntry.csvCategory.id)}}function Xt(t,e){if(1&t&&(X.Xb(0,"mat-cell"),X.Qc(1,Wt,5,3,"div",19),X.Wb()),2&t){var n=e.$implicit;X.Fb(1),X.rc("ngIf",n.newEntry.csvCategory)}}function Ct(t,e){1&t&&(X.Xb(0,"mat-header-cell"),X.Sc(1),X.kc(2,"translate"),X.Wb()),2&t&&(X.Fb(1),X.Tc(X.lc(2,1,"Tags")))}function Et(t,e){if(1&t&&(X.Xb(0,"mat-icon",58),X.kc(1,"translate"),X.Sc(2," warning "),X.Wb()),2&t){var n=X.jc(4);X.sc("matTooltip",X.lc(1,1,n.getVerboseError("Tags")))}}function Mt(t,e){1&t&&(X.Xb(0,"mat-icon",60),X.Sc(1,"add"),X.Wb())}function It(t,e){if(1&t&&(X.Xb(0,"div"),X.Sc(1),X.Qc(2,Mt,2,0,"mat-icon",59),X.Wb()),2&t){var n=e.$implicit;X.Fb(1),X.Uc(" ",n.name," "),X.Fb(1),X.rc("ngIf",!n.id)}}function jt(t,e){if(1&t&&(X.Xb(0,"div"),X.Qc(1,Et,3,3,"mat-icon",57),X.Qc(2,It,3,2,"div",6),X.Wb()),2&t){var n=X.jc().$implicit,i=X.jc(2);X.Fb(1),X.rc("ngIf",i.hasError(n,"Tags")),X.Fb(1),X.rc("ngForOf",n.newEntry.csvTags)}}function Bt(t,e){if(1&t&&(X.Xb(0,"mat-cell"),X.Qc(1,jt,3,2,"div",19),X.Wb()),2&t){var n=e.$implicit;X.Fb(1),X.rc("ngIf",n.newEntry.csvTags)}}function Qt(t,e){1&t&&(X.Xb(0,"mat-header-cell"),X.Sc(1),X.kc(2,"translate"),X.Wb()),2&t&&(X.Fb(1),X.Tc(X.lc(2,1,"Origin")))}function Rt(t,e){if(1&t&&(X.Xb(0,"mat-cell"),X.Sc(1),X.Wb()),2&t){var n=e.$implicit;X.Fb(1),X.Tc(n.newEntry.origin)}}function Ot(t,e){1&t&&(X.Xb(0,"mat-header-cell"),X.Sc(1),X.kc(2,"translate"),X.Wb()),2&t&&(X.Fb(1),X.Tc(X.lc(2,1,"Motion block")))}function Ut(t,e){if(1&t&&(X.Xb(0,"mat-icon",58),X.kc(1,"translate"),X.Sc(2," warning "),X.Wb()),2&t){var n=X.jc(4);X.sc("matTooltip",X.lc(1,1,n.getVerboseError("MotionBlock")))}}function Dt(t,e){1&t&&(X.Xb(0,"mat-icon",60),X.Sc(1," add "),X.Wb())}function _t(t,e){if(1&t&&(X.Xb(0,"div"),X.Qc(1,Ut,3,3,"mat-icon",57),X.Sc(2),X.Qc(3,Dt,2,0,"mat-icon",59),X.Sc(4," \xa0 "),X.Wb()),2&t){var n=X.jc().$implicit,i=X.jc(2);X.Fb(1),X.rc("ngIf",i.hasError(n,"MotionBlock")),X.Fb(1),X.Uc(" ",n.newEntry.csvMotionblock.name," "),X.Fb(1),X.rc("ngIf",!n.newEntry.csvMotionblock.id)}}function At(t,e){if(1&t&&(X.Xb(0,"mat-cell"),X.Qc(1,_t,5,3,"div",19),X.Wb()),2&t){var n=e.$implicit;X.Fb(1),X.rc("ngIf",n.newEntry.csvMotionblock)}}function Pt(t,e){1&t&&X.Sb(0,"mat-header-row")}function Vt(t,e){if(1&t&&X.Sb(0,"mat-row",61),2&t){var n=e.$implicit,i=X.jc(2);X.rc("ngClass",i.getStateClass(n))}}function $t(t,e){if(1&t&&(X.Xb(0,"mat-card",21),X.Xb(1,"h3"),X.Sc(2),X.kc(3,"translate"),X.Wb(),X.Xb(4,"div",22),X.Qc(5,q,9,4,"div",19),X.Qc(6,z,9,4,"div",23),X.Qc(7,J,9,4,"div",24),X.Wb(),X.Qc(8,K,4,3,"div",19),X.Xb(9,"div"),X.Qc(10,tt,10,10,"mat-select",25),X.Wb(),X.Xb(11,"div",26),X.Xb(12,"table",27),X.Vb(13,28),X.Qc(14,et,1,0,"mat-header-cell",29),X.Qc(15,ot,4,3,"mat-cell",30),X.Ub(),X.Vb(16,31),X.Qc(17,ct,3,3,"mat-header-cell",32),X.Qc(18,lt,3,2,"mat-cell",33),X.Ub(),X.Vb(19,34),X.Qc(20,st,3,3,"mat-header-cell",32),X.Qc(21,bt,3,2,"mat-cell",33),X.Ub(),X.Vb(22,35),X.Qc(23,ft,3,3,"mat-header-cell",32),X.Qc(24,dt,3,3,"mat-cell",36),X.Ub(),X.Vb(25,37),X.Qc(26,pt,3,3,"mat-header-cell",32),X.Qc(27,vt,2,2,"mat-cell",36),X.Ub(),X.Vb(28,38),X.Qc(29,ht,3,3,"mat-header-cell",32),X.Qc(30,wt,2,1,"mat-cell",33),X.Ub(),X.Vb(31,39),X.Qc(32,xt,3,3,"mat-header-cell",32),X.Qc(33,Xt,2,1,"mat-cell",33),X.Ub(),X.Vb(34,40),X.Qc(35,Ct,3,3,"mat-header-cell",32),X.Qc(36,Bt,2,1,"mat-cell",33),X.Ub(),X.Vb(37,41),X.Qc(38,Qt,3,3,"mat-header-cell",32),X.Qc(39,Rt,2,1,"mat-cell",33),X.Ub(),X.Vb(40,42),X.Qc(41,Ot,3,3,"mat-header-cell",32),X.Qc(42,At,2,1,"mat-cell",33),X.Ub(),X.Qc(43,Pt,1,0,"mat-header-row",43),X.Qc(44,Vt,1,1,"mat-row",44),X.Wb(),X.Wb(),X.Wb()),2&t){var n=X.jc();X.Fb(2),X.Tc(X.lc(3,9,"Preview")),X.Fb(3),X.rc("ngIf",n.newCount),X.Fb(1),X.rc("ngIf",n.nonImportableCount),X.Fb(1),X.rc("ngIf",n.doneCount),X.Fb(1),X.rc("ngIf",n.newCount),X.Fb(2),X.rc("ngIf",n.nonImportableCount),X.Fb(2),X.rc("dataSource",n.dataSource),X.Fb(31),X.rc("matHeaderRowDef",n.getColumnDefinition()),X.Fb(1),X.rc("matRowDefColumns",n.getColumnDefinition())}}var Lt,Nt,Ht,Yt=[{path:"",component:(Lt=function(e){t(r,e);var i=n(r);function r(t,e,n,o,c){var a;return s(this,r),(a=i.call(this,o,t,n,e)).motionCSVExport=c,a}return b(r,[{key:"downloadCsvExample",value:function(){this.motionCSVExport.exportDummyMotion()}},{key:"expectedHeader",get:function(){return this.importer.expectedHeader.map((function(t){return"motion_block"===t?"Motion block":t.charAt(0).toUpperCase()+t.slice(1)}))}}]),r}(f.a),Lt.\u0275fac=function(t){return new(t||Lt)(X.Rb(j.c),X.Rb(M.a),X.Rb(C.k),X.Rb(I),X.Rb(m.a))},Lt.\u0275cmp=X.Lb({type:Lt,selectors:[["os-motion-import-list"]],features:[X.Cb],decls:52,vars:35,consts:[["prevUrl","../..",3,"nav"],[1,"title-slot"],[1,"menu-slot"],["mat-button","",3,"click",4,"ngIf"],[1,"os-form-card","import-table","spacer-bottom-60"],[1,"code","red-warning-text"],[4,"ngFor","ngForOf"],["mat-button","","color","accent",3,"click"],[1,"wrapper"],[1,"selection",3,"value","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["value","",1,"selection",3,"selectionChange"],["value",'"',1,"selection",3,"selectionChange"],["id","motion-import-file-input","type","file","accept","text",1,"hidden-input",3,"change"],["fileInput",""],["mat-button","","osAutofocus","","onclick","document.getElementById('motion-import-file-input').click()"],["class","os-form-card import-table",4,"ngIf"],["mat-button","",3,"click"],[1,"upper"],[4,"ngIf"],[3,"value"],[1,"os-form-card","import-table"],[1,"summary"],["class","red-warning-text",4,"ngIf"],["class","green-text",4,"ngIf"],["class","filter-imports",3,"value","valueChange","selectionChange",4,"ngIf"],[1,"table-container"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","status","sticky",""],["class","first-column",4,"matHeaderCellDef"],["class","first-column",4,"matCellDef"],["matColumnDef","identifier"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","title"],["matColumnDef","text"],[3,"matTooltip",4,"matCellDef"],["matColumnDef","reason"],["matColumnDef","submitters"],["matColumnDef","category"],["matColumnDef","tags"],["matColumnDef","origin"],["matColumnDef","motion_block"],[4,"matHeaderRowDef"],[3,"ngClass",4,"matRowDef","matRowDefColumns"],["inline",""],[1,"red-warning-text"],[1,"green-text"],[1,"filter-imports",3,"value","valueChange","selectionChange"],["value","all"],["value","error"],["value","noerror"],[1,"first-column"],[1,"red-warning-text",3,"matTooltip"],[3,"matTooltip"],["color","warn","inline","",3,"matTooltip",4,"ngIf"],["color","warn","inline","",3,"matTooltip"],["color","warn",3,"matTooltip",4,"ngIf"],["color","warn",3,"matTooltip"],["class","newBadge","color","accent","inline","",4,"ngIf"],["color","accent","inline","",1,"newBadge"],[3,"ngClass"]],template:function(t,e){1&t&&(X.Xb(0,"os-head-bar",0),X.Xb(1,"div",1),X.Xb(2,"h2"),X.Sc(3),X.kc(4,"translate"),X.Wb(),X.Wb(),X.Xb(5,"div",2),X.Qc(6,L,4,3,"button",3),X.Wb(),X.Wb(),X.Xb(7,"mat-card",4),X.Xb(8,"span"),X.Sc(9),X.kc(10,"translate"),X.Wb(),X.Sb(11,"br"),X.Xb(12,"div",5),X.Qc(13,H,5,4,"span",6),X.Wb(),X.Xb(14,"ul"),X.Xb(15,"li"),X.Sc(16),X.kc(17,"translate"),X.Wb(),X.Xb(18,"li"),X.Sc(19),X.kc(20,"translate"),X.Wb(),X.Wb(),X.Xb(21,"button",7),X.fc("click",(function(){return e.downloadCsvExample()})),X.Sc(22),X.kc(23,"translate"),X.Wb(),X.Xb(24,"div",8),X.Xb(25,"mat-form-field"),X.Xb(26,"mat-label"),X.Sc(27),X.kc(28,"translate"),X.Wb(),X.Xb(29,"mat-select",9),X.fc("selectionChange",(function(t){return e.selectEncoding(t)})),X.Qc(30,Y,3,4,"mat-option",10),X.Wb(),X.Wb(),X.Xb(31,"mat-form-field"),X.Xb(32,"mat-label"),X.Sc(33),X.kc(34,"translate"),X.Wb(),X.Xb(35,"mat-select",11),X.fc("selectionChange",(function(t){return e.selectColSep(t)})),X.Qc(36,G,3,4,"mat-option",10),X.Wb(),X.Wb(),X.Xb(37,"mat-form-field"),X.Xb(38,"mat-label"),X.Sc(39),X.kc(40,"translate"),X.Wb(),X.Xb(41,"mat-select",12),X.fc("selectionChange",(function(t){return e.selectTextSep(t)})),X.Qc(42,Z,3,4,"mat-option",10),X.Wb(),X.Wb(),X.Wb(),X.Xb(43,"div"),X.Xb(44,"div"),X.Xb(45,"input",13,14),X.fc("change",(function(t){return e.onSelectFile(t)})),X.Wb(),X.Xb(47,"button",15),X.Xb(48,"span"),X.Sc(49),X.kc(50,"translate"),X.Wb(),X.Wb(),X.Wb(),X.Wb(),X.Wb(),X.Qc(51,$t,45,11,"mat-card",16)),2&t&&(X.rc("nav",!1),X.Fb(3),X.Tc(X.lc(4,17,"Import motions")),X.Fb(3),X.rc("ngIf",e.hasFile&&e.newCount),X.Fb(3),X.Tc(X.lc(10,19,"Required comma or semicolon separated values with these column header names in the first row:")),X.Fb(4),X.rc("ngForOf",e.expectedHeader),X.Fb(3),X.Uc(" ",X.lc(17,21,"Identifier, reason, submitter, category, origin and motion block are optional and may be empty.")," "),X.Fb(3),X.Uc(" ",X.lc(20,23,"Additional columns after the required ones may be present and will not affect the import.")," "),X.Fb(3),X.Uc(" ",X.lc(23,25,"Download CSV example file")," "),X.Fb(5),X.Tc(X.lc(28,27,"Encoding of the file")),X.Fb(2),X.rc("value",e.encodings[0].value),X.Fb(1),X.rc("ngForOf",e.encodings),X.Fb(3),X.Tc(X.lc(34,29,"Column separator")),X.Fb(3),X.rc("ngForOf",e.columnSeparators),X.Fb(3),X.Tc(X.lc(40,31,"Text separator")),X.Fb(3),X.rc("ngForOf",e.textSeparators),X.Fb(7),X.Tc(X.lc(50,33,"Select file")),X.Fb(2),X.rc("ngIf",e.hasFile))},directives:[B.a,a.t,Q.a,a.s,R.b,O.c,O.g,U.a,D.a,_.n,A.o,P.a,A.c,A.i,A.b,A.k,A.n,V.a,A.h,A.a,$.c,A.j,A.m,a.q],pipes:[C.j],encapsulation:2}),Lt),pathMatch:"full"}],Gt=((Ht=function t(){s(this,t)}).\u0275mod=X.Pb({type:Ht}),Ht.\u0275inj=X.Ob({factory:function(t){return new(t||Ht)},imports:[[u.j.forChild(Yt)],u.j]}),Ht),Zt=((Nt=function t(){s(this,t)}).\u0275mod=X.Pb({type:Nt}),Nt.\u0275inj=X.Ob({factory:function(t){return new(t||Nt)},imports:[[a.c,Gt,l.a]]}),Nt)}}])}();