!function(){function t(t,e){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=n(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var a=0,i=function(){};return{s:i,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c=!0,l=!1;return{s:function(){o=t[Symbol.iterator]()},n:function(){var t=o.next();return c=t.done,t},e:function(t){l=!0,r=t},f:function(){try{c||null==o.return||o.return()}finally{if(l)throw r}}}}function e(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||n(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(o){var a=Object.getOwnPropertyDescriptor(o,e);return a.get?a.get.call(n):a.value}})(t,e,n||t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=f(t);if(e){var a=f(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return b(this,n)}}function b(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[27,42],{"68w7":function(n,o,r){"use strict";r.r(o),r.d(o,"CategoryModule",(function(){return Lt}));var s=r("SVse"),b=r("PCNd"),d=r("iInd"),m=r("+QJK"),g=r("mrSG"),p=r("iTQr"),h=r("F48D"),v=r("/tkw"),y=r("mV3u"),C=r("8Y7J"),S=r("cUpR"),k=r("TSSN"),O=r("zHaW"),M=r("mksl"),w=r("PDjf"),P=["osSortedTree"];function x(t,e){1&t&&C.Sc(0),2&t&&C.Uc(" ",e.item.getTitle()," ")}var F,W=((F=function(t){l(n,t);var e=u(n);function n(t,o,a,r,c){var l;return i(this,n),(l=e.call(this,t,o,a)).categoryRepo=r,l.promptService=c,l.hasChanged=!1,l.categoriesObservable=l.categoryRepo.getViewModelListObservable(),l}return c(n,[{key:"onSave",value:function(){return Object(g.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.categoryRepo.sortCategories(this.osSortTree.getTreeData()).then((function(){return e.osSortTree.setSubscription()}),this.raiseError);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"onCancel",value:function(){return Object(g.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.canDeactivate();case 2:if(t.t0=t.sent,!t.t0){t.next=5;break}this.osSortTree.setSubscription();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"receiveChanges",value:function(t){this.hasChanged=t}},{key:"canDeactivate",value:function(){return Object(g.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.hasChanged){t.next=5;break}return e=this.translate.instant("Do you really want to exit this page?"),n=this.translate.instant("You made changes."),t.next=4,this.promptService.open(e,n);case 4:return t.abrupt("return",t.sent);case 5:return t.abrupt("return",!0);case 6:case"end":return t.stop()}}),t,this)})))}}]),n}(y.a)).\u0275fac=function(t){return new(t||F)(C.Rb(S.c),C.Rb(k.k),C.Rb(O.a),C.Rb(p.a),C.Rb(h.a))},F.\u0275cmp=C.Lb({type:F,selectors:[["os-categories-sort"]],viewQuery:function(t,e){var n;1&t&&C.Mc(P,!0),2&t&&C.Bc(n=C.gc())&&(e.osSortTree=n.first)},features:[C.Cb],decls:10,vars:6,consts:[[3,"editMode","nav","saveEvent","mainEvent"],[1,"title-slot"],["parentKey","parent_id","weightKey","weight",3,"model","hasChanged"],["osSortedTree",""],["innerNode",""]],template:function(t,e){1&t&&(C.Xb(0,"os-head-bar",0),C.fc("saveEvent",(function(){return e.onSave()}))("mainEvent",(function(){return e.onCancel()})),C.Xb(1,"div",1),C.Xb(2,"h2"),C.Sc(3),C.kc(4,"translate"),C.Wb(),C.Wb(),C.Wb(),C.Xb(5,"mat-card"),C.Xb(6,"os-sorting-tree",2,3),C.fc("hasChanged",(function(t){return e.receiveChanges(t)})),C.Qc(8,x,1,1,"ng-template",null,4,C.Rc),C.Wb(),C.Wb()),2&t&&(C.rc("editMode",e.hasChanged)("nav",!1),C.Fb(3),C.Tc(C.lc(4,4,"Sort categories")),C.Fb(3),C.rc("model",e.categoriesObservable))},directives:[M.a,w.a,v.a],pipes:[k.j],styles:[".line[_ngcontent-%COMP%]{display:table;width:100%;font-size:14px;min-height:50px;margin-bottom:5px}.line[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{max-width:100%}.line[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .line[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}.line[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{padding-right:10px;width:auto;white-space:nowrap}"]}),F),_=r("s7LF"),X=r("OaSA"),R=r("OwvW"),j=r("dOok"),D=r("Izkr"),T=r("iELJ"),I=r("3Xi6"),L=r("rJgo"),E=r("Tj54"),Q=r("BSbQ"),B=r("Dxy4"),N=r("f44v"),U=r("Q2Ze"),A=r("e6WT"),G=r("IZUe"),z=["editForm"],V=["editDialog"];function J(t,e){if(1&t&&(C.Xb(0,"h2"),C.Sc(1),C.Wb()),2&t){var n=C.jc();C.Fb(1),C.Uc(" ",n.selectedCategory.prefixedName," ")}}function Y(t,e){if(1&t&&(C.Xb(0,"div"),C.Xb(1,"button",11),C.Xb(2,"mat-icon"),C.Sc(3,"more_vert"),C.Wb(),C.Wb(),C.Wb()),2&t){C.jc();var n=C.Cc(8);C.Fb(1),C.rc("matMenuTriggerFor",n)}}function K(t,e){1&t&&(C.Xb(0,"mat-header-cell"),C.Xb(1,"span"),C.Sc(2),C.kc(3,"translate"),C.Wb(),C.Wb()),2&t&&(C.Fb(2),C.Tc(C.lc(3,1,"Motion")))}function $(t,e){if(1&t&&(C.Xb(0,"mat-cell"),C.Sc(1),C.Wb()),2&t){var n=e.$implicit;C.Fb(1),C.Uc(" ",n.getTitle()," ")}}function q(t,e){1&t&&(C.Xb(0,"mat-header-cell"),C.Xb(1,"span"),C.Sc(2),C.kc(3,"translate"),C.Wb(),C.Wb()),2&t&&(C.Fb(2),C.Tc(C.lc(3,1,"State")))}function H(t,e){if(1&t&&(C.Xb(0,"mat-cell",22),C.Xb(1,"mat-basic-chip",23),C.Sc(2),C.Wb(),C.Wb()),2&t){var n=e.$implicit,o=C.jc(2);C.Fb(1),C.rc("ngClass",n.stateCssColor),C.Fb(1),C.Uc(" ",o.getStateLabel(n)," ")}}function Z(t,e){1&t&&(C.Xb(0,"mat-header-cell"),C.Xb(1,"span"),C.Sc(2),C.kc(3,"translate"),C.Wb(),C.Wb()),2&t&&(C.Fb(2),C.Tc(C.lc(3,1,"Recommendation")))}function tt(t,e){if(1&t&&(C.Xb(0,"mat-basic-chip",25),C.Sc(1),C.Wb()),2&t){var n=C.jc().$implicit,o=C.jc(2);C.Fb(1),C.Uc(" ",o.getRecommendationLabel(n)," ")}}function et(t,e){if(1&t&&(C.Xb(0,"mat-cell",22),C.Qc(1,tt,2,1,"mat-basic-chip",24),C.Wb()),2&t){var n=e.$implicit;C.Fb(1),C.rc("ngIf",n.recommendation)}}function nt(t,e){1&t&&C.Sb(0,"mat-header-cell")}var ot=function(){return{back:"true"}};function at(t,e){if(1&t&&(C.Xb(0,"mat-cell"),C.Sb(1,"a",26),C.Wb()),2&t){var n=e.$implicit;C.Fb(1),C.rc("routerLink",n.getDetailStateURL())("state",C.wc(2,ot))}}function it(t,e){1&t&&C.Sb(0,"mat-header-row")}function rt(t,e){1&t&&C.Sb(0,"mat-row")}function ct(t,e){if(1&t&&(C.Xb(0,"div"),C.Xb(1,"h2"),C.Xb(2,"span"),C.Sc(3),C.Wb(),C.Sc(4),C.Wb(),C.Xb(5,"table",12),C.Vb(6,13),C.Qc(7,K,4,3,"mat-header-cell",14),C.Qc(8,$,2,1,"mat-cell",15),C.Ub(),C.Vb(9,16),C.Qc(10,q,4,3,"mat-header-cell",14),C.Qc(11,H,3,2,"mat-cell",17),C.Ub(),C.Vb(12,18),C.Qc(13,Z,4,3,"mat-header-cell",14),C.Qc(14,et,2,1,"mat-cell",17),C.Ub(),C.Vb(15,19),C.Qc(16,nt,1,0,"mat-header-cell",14),C.Qc(17,at,2,3,"mat-cell",15),C.Ub(),C.Qc(18,it,1,0,"mat-header-row",20),C.Qc(19,rt,1,0,"mat-row",21),C.Wb(),C.Wb()),2&t){var n=e.$implicit,o=C.jc();C.Fb(3),C.Tc(o.getLevelDashes(n)),C.Fb(1),C.Uc(" ",n.prefixedName," "),C.Fb(1),C.rc("dataSource",o.dataSources[n.id]),C.Fb(13),C.rc("matHeaderRowDef",o.getColumnDefinition()),C.Fb(1),C.rc("matRowDefColumns",o.getColumnDefinition())}}function lt(t,e){if(1&t){var n=C.Yb();C.Xb(0,"h1",27),C.Xb(1,"span"),C.Sc(2),C.kc(3,"translate"),C.Wb(),C.Wb(),C.Xb(4,"div",28),C.Xb(5,"form",29),C.fc("ngSubmit",(function(){return C.Gc(n),C.jc().save()}))("keydown",(function(t){return C.Gc(n),C.jc().onKeyDown(t)})),C.Xb(6,"mat-form-field"),C.Sb(7,"input",30),C.kc(8,"translate"),C.Wb(),C.Xb(9,"mat-form-field"),C.Sb(10,"input",31),C.kc(11,"translate"),C.Wb(),C.Wb(),C.Wb(),C.Xb(12,"div",32),C.Xb(13,"button",33),C.fc("click",(function(){return C.Gc(n),C.jc().save()})),C.Xb(14,"span"),C.Sc(15),C.kc(16,"translate"),C.Wb(),C.Wb(),C.Xb(17,"button",34),C.Xb(18,"span"),C.Sc(19),C.kc(20,"translate"),C.Wb(),C.Wb(),C.Wb()}if(2&t){var o=C.jc();C.Fb(2),C.Vc("",C.lc(3,9,"Edit details for")," ",o.selectedCategory.prefixedName,""),C.Fb(3),C.rc("formGroup",o.editForm),C.Fb(2),C.sc("placeholder",C.lc(8,11,"Prefix")),C.Fb(3),C.sc("placeholder",C.lc(11,13,"Name")),C.Fb(3),C.rc("disabled",!o.editForm.valid),C.Fb(2),C.Tc(C.lc(16,15,"Save")),C.Fb(2),C.rc("mat-dialog-close",null),C.Fb(2),C.Tc(C.lc(20,17,"Cancel"))}}var st,ut=((st=function(t){l(n,t);var e=u(n);function n(t,o,a,r,c,l,s,u,b,f,d){var m;return i(this,n),(m=e.call(this,t,o,a)).translate=o,m.route=r,m.operator=c,m.router=l,m.repo=s,m.motionRepo=u,m.promptService=b,m.fb=f,m.dialog=d,m.dataSources={},m}return c(n,[{key:"ngOnInit",value:function(){var t=this,e=parseInt(this.route.snapshot.params.id,10);this.subscriptions.push(this.repo.getViewModelListObservable().subscribe((function(o){var i=o.findIndex((function(t){return t.id===e}));if(!(i<0)){var r;for(t.selectedCategory=o[i],a(f(n.prototype),"setTitle",t).call(t,t.selectedCategory.prefixedName),r=i+1;r<o.length&&o[r].level>t.selectedCategory.level;r++);t.categories=o.slice(i,r),t.categories.forEach((function(e){var n=new X.p;n.data=e.motions,t.dataSources[e.id]=n}))}})))}},{key:"getColumnDefinition",value:function(){return["title","state","recommendation","anchor"]}},{key:"onDeleteButton",value:function(){return Object(g.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.translate.instant("Are you sure you want to delete this category and all subcategories?"),n=this.selectedCategory.prefixedName,t.next=3,this.promptService.open(e,n);case 3:if(t.t0=t.sent,!t.t0){t.next=8;break}return t.next=7,this.repo.delete(this.selectedCategory);case 7:this.router.navigate(["../"],{relativeTo:this.route});case 8:case"end":return t.stop()}}),t,this)})))}},{key:"onKeyDown",value:function(t){"Escape"===t.key&&this.dialogRef.close(),"Enter"===t.key&&this.save()}},{key:"save",value:function(){var t=this;this.repo.update(this.editForm.value,this.selectedCategory).then((function(){return t.dialogRef.close()})).catch(this.raiseError)}},{key:"toggleEditMode",value:function(){this.editForm=this.fb.group({prefix:[this.selectedCategory.prefix],name:[this.selectedCategory.name,_.H.required]}),this.dialogRef=this.dialog.open(this.editDialog,D.a)}},{key:"getRecommendationLabel",value:function(t){return this.motionRepo.getExtendedRecommendationLabel(t)}},{key:"getStateLabel",value:function(t){return this.motionRepo.getExtendedStateLabel(t)}},{key:"getLevelDashes",value:function(t){return"\u2013".repeat(t.level-this.selectedCategory.level)}},{key:"numberMotions",value:function(){return Object(g.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.translate.instant("Are you sure you want to renumber all motions of this category?"),n=this.selectedCategory.getTitle(),t.next=3,this.promptService.open(e,n);case 3:if(t.t0=t.sent,!t.t0){t.next=7;break}return t.next=7,this.repo.numberMotionsInCategory(this.selectedCategory).catch(this.raiseError);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"canEdit",get:function(){return this.operator.hasPerms(R.b.motionsCanManage)}}]),n}(y.a)).\u0275fac=function(t){return new(t||st)(C.Rb(S.c),C.Rb(k.k),C.Rb(O.a),C.Rb(d.a),C.Rb(R.a),C.Rb(d.f),C.Rb(p.a),C.Rb(j.a),C.Rb(h.a),C.Rb(_.g),C.Rb(T.b))},st.\u0275cmp=C.Lb({type:st,selectors:[["os-category-detail"]],viewQuery:function(t,e){var n;1&t&&(C.Mc(z,!0),C.Mc(V,!0)),2&t&&(C.Bc(n=C.gc())&&(e.editForm=n.first),C.Bc(n=C.gc())&&(e.editDialog=n.first))},features:[C.Cb],decls:36,vars:17,consts:[[3,"nav"],[1,"title-slot"],[4,"ngIf"],[1,"menu-slot"],[4,"osPerms"],[4,"ngFor","ngForOf"],["categoryMenu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"routerLink"],["mat-menu-item","",1,"red-warning-text",3,"click"],["editDialog",""],["type","button","mat-icon-button","",3,"matMenuTriggerFor"],["mat-table","",1,"os-headed-listview-table",3,"dataSource"],["matColumnDef","title"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","state"],["class","chip-container",4,"matCellDef"],["matColumnDef","recommendation"],["matColumnDef","anchor"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[1,"chip-container"],["disableRipple","",3,"ngClass"],["disableRipple","","class","bluegrey",4,"ngIf"],["disableRipple","",1,"bluegrey"],[3,"routerLink","state"],["mat-dialog-title",""],["mat-dialog-content","",1,"os-form-card-mobile"],[1,"edit-form",3,"formGroup","ngSubmit","keydown"],["matInput","","osAutofocus","","formControlName","prefix",3,"placeholder"],["matInput","","osAutofocus","","formControlName","name","required","",3,"placeholder"],["mat-dialog-actions",""],["type","submit","mat-button","","color","accent",3,"disabled","click"],["type","button","mat-button","",3,"mat-dialog-close"]],template:function(t,e){1&t&&(C.Xb(0,"os-head-bar",0),C.Xb(1,"div",1),C.Qc(2,J,2,1,"h2",2),C.Wb(),C.Xb(3,"div",3),C.Qc(4,Y,4,1,"div",4),C.Wb(),C.Wb(),C.Xb(5,"mat-card"),C.Qc(6,ct,20,5,"div",5),C.Wb(),C.Xb(7,"mat-menu",null,6),C.Xb(9,"button",7),C.fc("click",(function(){return e.toggleEditMode()})),C.Xb(10,"mat-icon"),C.Sc(11,"edit"),C.Wb(),C.Xb(12,"span"),C.Sc(13),C.kc(14,"translate"),C.Wb(),C.Wb(),C.Xb(15,"button",8),C.Xb(16,"mat-icon"),C.Sc(17,"sort"),C.Wb(),C.Xb(18,"span"),C.Sc(19),C.kc(20,"translate"),C.Wb(),C.Wb(),C.Xb(21,"button",7),C.fc("click",(function(){return e.numberMotions()})),C.Xb(22,"mat-icon"),C.Sc(23,"format_list_numbered"),C.Wb(),C.Xb(24,"span"),C.Sc(25),C.kc(26,"translate"),C.Wb(),C.Wb(),C.Sb(27,"mat-divider"),C.Xb(28,"button",9),C.fc("click",(function(){return e.onDeleteButton()})),C.Xb(29,"mat-icon"),C.Sc(30,"delete"),C.Wb(),C.Xb(31,"span"),C.Sc(32),C.kc(33,"translate"),C.Wb(),C.Wb(),C.Wb(),C.Qc(34,lt,21,19,"ng-template",null,10,C.Rc)),2&t&&(C.rc("nav",!1),C.Fb(2),C.rc("ngIf",e.selectedCategory),C.Fb(2),C.rc("osPerms","motions.can_manage"),C.Fb(2),C.rc("ngForOf",e.categories),C.Fb(7),C.Tc(C.lc(14,9,"Edit")),C.Fb(2),C.rc("routerLink","./sort"),C.Fb(4),C.Tc(C.lc(20,11,"Sort motions")),C.Fb(6),C.Tc(C.lc(26,13,"Number motions")),C.Fb(7),C.Tc(C.lc(33,15,"Delete")))},directives:[M.a,s.t,I.a,w.a,s.s,L.f,L.c,E.a,d.g,Q.a,B.b,L.e,X.o,X.c,X.i,X.b,X.k,X.n,X.h,X.a,N.a,s.q,d.i,X.j,X.m,T.i,T.f,_.J,_.u,_.l,U.c,A.b,_.d,G.a,_.t,_.j,_.E,T.c,T.d],pipes:[k.j],styles:[".title-line[_ngcontent-%COMP%]{font-weight:500;font-size:16px}.title-line[_ngcontent-%COMP%]   .icon-prefix[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle;font-size:16px;height:16px;width:16px}.title-line[_ngcontent-%COMP%]   .favorite-star[_ngcontent-%COMP%]{padding-right:3px}.mat-table[_ngcontent-%COMP%]{width:100%}.mat-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]   .mat-column-anchor[_ngcontent-%COMP%]{display:none}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{position:relative}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-column-anchor[_ngcontent-%COMP%]{position:absolute!important;top:0;right:0;bottom:0;left:0;opacity:.1;z-index:1}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-column-anchor[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;height:100%;width:100%}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{position:relative}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{position:absolute;display:inherit;height:100%;width:100%;line-height:0}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{z-index:2}.mat-table[_ngcontent-%COMP%]   .mat-table-sticky[_ngcontent-%COMP%]{z-index:3!important}.block-title[_ngcontent-%COMP%]{padding:40px 40px 40px 25px;line-height:180%;font-size:120%;color:#317796}.block-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-weight:400}.block-card[_ngcontent-%COMP%]{margin:0 20px;padding:25px}.block-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:5px}.chip-container[_ngcontent-%COMP%]{display:block;min-height:0}.os-headed-listview-table[_ngcontent-%COMP%]   .mat-column-title[_ngcontent-%COMP%]{-ms-flex:4 0 0px;flex:4 0 0}.os-headed-listview-table[_ngcontent-%COMP%]   .mat-column-recommendation[_ngcontent-%COMP%], .os-headed-listview-table[_ngcontent-%COMP%]   .mat-column-state[_ngcontent-%COMP%]{-ms-flex:2 0 0px;flex:2 0 0}.os-headed-listview-table[_ngcontent-%COMP%]   .mat-column-remove[_ngcontent-%COMP%]{-ms-flex:1 0 0px;flex:1 0 0;-ms-flex-pack:end!important;justify-content:flex-end!important}.edit-form[_ngcontent-%COMP%]{overflow:hidden}"]}),st),bt=r("AqIO"),ft=r("wL0i"),dt=r("0Obk"),mt=r("4LpT"),gt=r("ZFy/"),pt=["newCategoryDialog"];function ht(t,e){if(1&t&&(C.Xb(0,"div",8),C.Xb(1,"button",9),C.Xb(2,"mat-icon"),C.Sc(3,"more_vert"),C.Wb(),C.Wb(),C.Wb()),2&t){C.jc();var n=C.Cc(10);C.Fb(1),C.rc("matMenuTriggerFor",n)}}function vt(t,e){if(1&t&&(C.Xb(0,"div",10),C.Sb(1,"a",11),C.Xb(2,"div"),C.Sc(3),C.Wb(),C.Wb()),2&t){var n=e.row,o=C.jc();C.Fb(1),C.rc("routerLink",n.id),C.Fb(1),C.Nc("margin-left",o.getMargin(n)),C.Fb(1),C.Tc(n.prefixedName)}}function yt(t,e){if(1&t&&(C.Xb(0,"div",10),C.Xb(1,"span",12),C.kc(2,"translate"),C.Sc(3),C.Wb(),C.Wb()),2&t){var n=e.row;C.Fb(1),C.sc("matTooltip",C.lc(2,2,"Motions")),C.Fb(2),C.Tc(n.motions.length)}}function Ct(t,e){1&t&&(C.Xb(0,"mat-error"),C.Sc(1),C.kc(2,"translate"),C.Wb()),2&t&&(C.Fb(1),C.Uc(" ",C.lc(2,1,"A name is required")," "))}function St(t,e){if(1&t){var n=C.Yb();C.Xb(0,"h1",13),C.Xb(1,"span"),C.Sc(2),C.kc(3,"translate"),C.Wb(),C.Wb(),C.Xb(4,"div",14),C.Xb(5,"form",15),C.fc("keydown",(function(t){return C.Gc(n),C.jc().onKeyDown(t)})),C.Xb(6,"p"),C.Xb(7,"mat-form-field"),C.Sb(8,"input",16),C.kc(9,"translate"),C.Wb(),C.Wb(),C.Xb(10,"p"),C.Xb(11,"mat-form-field"),C.Sb(12,"input",17),C.kc(13,"translate"),C.Qc(14,Ct,3,3,"mat-error",18),C.Wb(),C.Wb(),C.Wb(),C.Wb(),C.Xb(15,"div",19),C.Xb(16,"button",20),C.Xb(17,"span"),C.Sc(18),C.kc(19,"translate"),C.Wb(),C.Wb(),C.Xb(20,"button",21),C.Xb(21,"span"),C.Sc(22),C.kc(23,"translate"),C.Wb(),C.Wb(),C.Wb()}if(2&t){var o=C.jc();C.Fb(2),C.Tc(C.lc(3,10,"New category")),C.Fb(3),C.rc("formGroup",o.createForm),C.Fb(3),C.sc("placeholder",C.lc(9,12,"Prefix")),C.Fb(4),C.sc("placeholder",C.lc(13,14,"Name")),C.Fb(2),C.rc("ngIf",!o.createForm.controls.name.valid),C.Fb(2),C.rc("disabled",!o.createForm.valid)("mat-dialog-close",!0),C.Fb(2),C.Tc(C.lc(19,16,"Save")),C.Fb(2),C.rc("mat-dialog-close",!1),C.Fb(2),C.Tc(C.lc(23,18,"Cancel"))}}var kt,Ot=function(){return["menu"]},Mt=((kt=function(t){l(n,t);var e=u(n);function n(t,o,a,r,c,l,s,u){var b;return i(this,n),(b=e.call(this,t,o,a,r)).repo=c,b.formBuilder=l,b.dialog=s,b.operator=u,b.tableColumnDefinition=[{prop:"title",width:"auto"},{prop:"amount",width:b.singleButtonWidth}],b.filterProps=["prefixedName"],b.createForm=b.formBuilder.group({prefix:[""],name:["",_.H.required],parent_id:[""]}),b}return c(n,[{key:"ngOnInit",value:function(){a(f(n.prototype),"setTitle",this).call(this,"Categories")}},{key:"onPlusButton",value:function(){var t=this;this.createForm.reset(),this.dialogRef=this.dialog.open(this.newCategoryDialog,D.a),this.dialogRef.afterClosed().subscribe((function(e){e&&t.save()}))}},{key:"save",value:function(){this.createForm.valid&&this.repo.create(this.createForm.value).catch(this.raiseError)}},{key:"onKeyDown",value:function(t){"Enter"===t.key&&(this.save(),this.dialogRef.close()),"Escape"===t.key&&this.dialogRef.close()}},{key:"getMargin",value:function(t){return 20*t.level+"px"}},{key:"canEdit",get:function(){return this.operator.hasPerms(R.b.motionsCanManage)}}]),n}(ft.a)).\u0275fac=function(t){return new(t||kt)(C.Rb(S.c),C.Rb(k.k),C.Rb(O.a),C.Rb(bt.a),C.Rb(p.a),C.Rb(_.g),C.Rb(T.b),C.Rb(R.a))},kt.\u0275cmp=C.Lb({type:kt,selectors:[["os-category-list"]],viewQuery:function(t,e){var n;1&t&&C.Mc(pt,!0),2&t&&C.Bc(n=C.gc())&&(e.newCategoryDialog=n.first)},features:[C.Cb],decls:19,vars:20,consts:[["prevUrl","../..",3,"nav","hasMainButton","mainEvent"],[1,"title-slot"],["class","menu-slot",4,"osPerms"],["listStorageKey","category",3,"vScrollFixed","listObservableProvider","allowProjector","showListOfSpeakers","columns","filterProps","hiddenInMobile","dataSourceChange"],["class","cell-slot fill",4,"pblNgridCellDef"],["categoryMenu","matMenu"],["mat-menu-item","",3,"routerLink"],["newCategoryDialog",""],[1,"menu-slot"],["type","button","mat-icon-button","",3,"matMenuTriggerFor"],[1,"cell-slot","fill"],[1,"detail-link",3,"routerLink"],[1,"os-amount-chip",3,"matTooltip"],["mat-dialog-title",""],["mat-dialog-content","",1,"os-form-card-mobile"],[3,"formGroup","keydown"],["formControlName","prefix","matInput","",3,"placeholder"],["formControlName","name","matInput","","required","",3,"placeholder"],[4,"ngIf"],["mat-dialog-actions",""],["mat-button","",3,"disabled","mat-dialog-close"],["mat-button","",3,"mat-dialog-close"]],template:function(t,e){1&t&&(C.Xb(0,"os-head-bar",0),C.fc("mainEvent",(function(){return e.onPlusButton()})),C.Xb(1,"div",1),C.Xb(2,"h2"),C.Sc(3),C.kc(4,"translate"),C.Wb(),C.Wb(),C.Qc(5,ht,4,1,"div",2),C.Wb(),C.Xb(6,"os-list-view-table",3),C.fc("dataSourceChange",(function(t){return e.onDataSourceChange(t)})),C.Qc(7,vt,4,4,"div",4),C.Qc(8,yt,4,4,"div",4),C.Wb(),C.Xb(9,"mat-menu",null,5),C.Xb(11,"button",6),C.Xb(12,"mat-icon"),C.Sc(13,"sort"),C.Wb(),C.Xb(14,"span"),C.Sc(15),C.kc(16,"translate"),C.Wb(),C.Wb(),C.Wb(),C.Qc(17,St,24,20,"ng-template",null,7,C.Rc)),2&t&&(C.rc("nav",!1)("hasMainButton",e.canEdit),C.Fb(3),C.Tc(C.lc(4,15,"Categories")),C.Fb(2),C.rc("osPerms","motions.can_manage"),C.Fb(1),C.rc("vScrollFixed",64)("listObservableProvider",e.repo)("allowProjector",!1)("showListOfSpeakers",!1)("columns",e.tableColumnDefinition)("filterProps",e.filterProps)("hiddenInMobile",C.wc(19,Ot)),C.Fb(1),C.rc("pblNgridCellDef","title"),C.Fb(1),C.rc("pblNgridCellDef","amount"),C.Fb(3),C.rc("routerLink","./sort"),C.Fb(4),C.Tc(C.lc(16,17,"Sort categories")))},directives:[M.a,I.a,dt.a,mt.b,L.f,L.c,d.g,E.a,B.b,L.e,d.i,gt.c,T.i,T.f,_.J,_.u,_.l,U.c,_.d,A.b,_.t,_.j,_.E,s.t,T.c,T.d,U.b],pipes:[k.j],styles:[".title-line[_ngcontent-%COMP%]{font-weight:500;font-size:16px}.title-line[_ngcontent-%COMP%]   .icon-prefix[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle;font-size:16px;height:16px;width:16px}.title-line[_ngcontent-%COMP%]   .favorite-star[_ngcontent-%COMP%]{padding-right:3px}.mat-table[_ngcontent-%COMP%]{width:100%}.mat-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]   .mat-column-anchor[_ngcontent-%COMP%]{display:none}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{position:relative}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-column-anchor[_ngcontent-%COMP%]{position:absolute!important;top:0;right:0;bottom:0;left:0;opacity:.1;z-index:1}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-column-anchor[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;height:100%;width:100%}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{position:relative}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{position:absolute;display:inherit;height:100%;width:100%;line-height:0}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{z-index:2}.mat-table[_ngcontent-%COMP%]   .mat-table-sticky[_ngcontent-%COMP%]{z-index:3!important}"]}),kt),wt=r("2Vo4"),Pt=r("Jc+d"),xt=r("IBZR"),Ft=["sorter"];function Wt(t,e){if(1&t&&(C.Xb(0,"h2"),C.Sc(1),C.kc(2,"translate"),C.Wb()),2&t){var n=C.jc();C.Fb(1),C.Vc("",C.lc(2,2,"Sort motions")," (",n.category.prefixedName,")")}}function _t(t,e){if(1&t){var n=C.Yb();C.Xb(0,"div"),C.Xb(1,"span"),C.Sc(2),C.Wb(),C.Xb(3,"span"),C.Sc(4),C.kc(5,"translate"),C.Wb(),C.Xb(6,"button",6),C.fc("click",(function(){return C.Gc(n),C.jc().moveToPosition()})),C.Xb(7,"span"),C.Sc(8),C.kc(9,"translate"),C.Wb(),C.Wb(),C.Wb()}if(2&t){var o=C.jc();C.Fb(2),C.Uc("",o.sortSelector.multiSelectedIndex.length,"\xa0"),C.Fb(2),C.Tc(C.lc(5,3,"selected")),C.Fb(4),C.Tc(C.lc(9,5,"move ..."))}}function Xt(t,e){if(1&t&&(C.Xb(0,"mat-basic-chip",7),C.kc(1,"translate"),C.Sc(2),C.Wb()),2&t){var n=e.$implicit;C.sc("matTooltip",C.lc(1,2,"Sequential number")),C.Fb(2),C.Uc(" ",n.id," ")}}var Rt,jt,Dt,Tt=[{path:"",component:Mt,pathMatch:"full"},{path:":id/sort",component:(Rt=function(n){l(a,n);var o=u(a);function a(t,e,n,r,c,l,s,u){var b;return i(this,a),(b=o.call(this,t,e,n)).translate=e,b.promptService=r,b.repo=c,b.route=l,b.motionRepo=s,b.choiceService=u,b.motionsSubject=new wt.a([]),b.motionsCount=0,b.hasChanged=!1,b.motionsCopy=[],b.motionsBackup=[],b}return c(a,[{key:"ngOnInit",value:function(){var t=this,n=+this.route.snapshot.params.id;this.repo.getViewModelObservable(n).subscribe((function(e){t.category=e})),this.motionRepo.getViewModelListObservable().subscribe((function(o){var a=o.filter((function(t){return t.category_id===n}));t.motionsBackup=e(a),t.motionsCount=a.length,0===t.motionsCopy.length?t.initializeList(a):t.motionsSubject.next(t.handleMotionUpdates(a))}))}},{key:"initializeList",value:function(t){t.sort((function(t,e){return t.category_weight-e.category_weight})),this.motionsSubject.next(t),this.motionsCopy=t}},{key:"onListUpdate",value:function(t){this.hasChanged=!0,this.motionsCopy=t}},{key:"onCancel",value:function(){return Object(g.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.canDeactivate();case 2:if(t.t0=t.sent,!t.t0){t.next=5;break}this.motionsSubject.next([]),this.initializeList(this.motionsBackup),this.hasChanged=!1;case 5:case"end":return t.stop()}}),t,this)})))}},{key:"sendUpdate",value:function(){return Object(g.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.translate.instant("Do you really want to save your changes?"),t.next=3,this.promptService.open(e);case 3:if(!t.sent){t.next=6;break}n=this.motionsCopy.map((function(t){return t.id})),this.repo.sortMotionsInCategory(this.category.category,n),this.hasChanged=!1;case 6:case"end":return t.stop()}}),t,this)})))}},{key:"handleMotionUpdates",value:function(e){var n=this.motionsCopy;if(e.length>n.length){var o,a=t(e);try{for(a.s();!(o=a.n()).done;){var i=o.value;this.motionsCopy.includes(i)||n.push(i)}}catch(f){a.e(f)}finally{a.f()}}else if(e.length<n.length){var r,c=t(n);try{for(c.s();!(r=c.n()).done;){var l=r.value;e.includes(l)||n.splice(n.indexOf(l),1)}}catch(f){c.e(f)}finally{c.f()}}else{var s,u=t(n);try{var b=function(){var t=s.value;if(!e.includes(t)){var o=e.find((function(e){return e.id===t.id}));n.splice(n.indexOf(t),1,o)}};for(u.s();!(s=u.n()).done;)b()}catch(f){u.e(f)}finally{u.f()}}return n}},{key:"canDeactivate",value:function(){return Object(g.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.hasChanged){t.next=5;break}return e=this.translate.instant("Do you really want to exit this page?"),n=this.translate.instant("You made changes."),t.next=4,this.promptService.open(e,n);case 4:return t.abrupt("return",t.sent);case 5:return t.abrupt("return",!0);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"moveToPosition",value:function(){return Object(g.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n,o,a,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.sortSelector.multiSelectedIndex.length){t.next=8;break}return e=this.translate.instant("Move selected items ..."),n=this.sortSelector.sortedItems.filter((function(t){return!i.sortSelector.multiSelectedIndex.includes(t.id)})),o=[this.translate.instant("Insert before"),this.translate.instant("Insert behind")],t.next=6,this.choiceService.open(e,n,!1,o);case 6:(a=t.sent)&&this.sortSelector.drop({currentIndex:a.items,previousIndex:null},a.action===o[1]);case 8:case"end":return t.stop()}}),t,this)})))}},{key:"isMultiSelect",get:function(){return this.sortSelector.multiSelectedIndex.length>0}},{key:"motionObservable",get:function(){return this.motionsSubject.asObservable()}}]),a}(y.a),Rt.\u0275fac=function(t){return new(t||Rt)(C.Rb(S.c),C.Rb(k.k),C.Rb(O.a),C.Rb(h.a),C.Rb(p.a),C.Rb(d.a),C.Rb(j.a),C.Rb(Pt.a))},Rt.\u0275cmp=C.Lb({type:Rt,selectors:[["os-category-motions-sort"]],viewQuery:function(t,e){var n;1&t&&C.Mc(Ft,!0),2&t&&C.Bc(n=C.gc())&&(e.sortSelector=n.first)},features:[C.Cb],decls:8,vars:5,consts:[[3,"editMode","nav","saveEvent","mainEvent"],[1,"title-slot"],[4,"ngIf"],[1,"os-form-card"],[3,"input","sortEvent"],["sorter",""],["mat-button","",3,"click"],["disableRipple","",1,"bluegrey",3,"matTooltip"]],template:function(t,e){1&t&&(C.Xb(0,"os-head-bar",0),C.fc("saveEvent",(function(){return e.sendUpdate()}))("mainEvent",(function(){return e.onCancel()})),C.Xb(1,"div",1),C.Qc(2,Wt,3,4,"h2",2),C.Wb(),C.Wb(),C.Xb(3,"mat-card",3),C.Qc(4,_t,10,7,"div",2),C.Xb(5,"os-sorting-list",4,5),C.fc("sortEvent",(function(t){return e.onListUpdate(t)})),C.Qc(7,Xt,3,4,"ng-template"),C.Wb(),C.Wb()),2&t&&(C.rc("editMode",e.hasChanged)("nav",!1),C.Fb(2),C.rc("ngIf",e.category),C.Fb(2),C.rc("ngIf",e.isMultiSelect),C.Fb(1),C.rc("input",e.motionObservable))},directives:[M.a,s.t,w.a,xt.a,B.b,N.a,gt.c],pipes:[k.j],styles:[""]}),Rt),canDeactivate:[m.a]},{path:"sort",component:W,canDeactivate:[m.a]},{path:":id",component:ut}],It=((Dt=function t(){i(this,t)}).\u0275mod=C.Pb({type:Dt}),Dt.\u0275inj=C.Ob({factory:function(t){return new(t||Dt)},imports:[[d.j.forChild(Tt)],d.j]}),Dt),Lt=((jt=function t(){i(this,t)}).\u0275mod=C.Pb({type:jt}),jt.\u0275inj=C.Ob({factory:function(t){return new(t||jt)},imports:[[s.c,It,b.a]]}),jt)},F48D:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var o=n("mrSG"),a=n("LBBb"),r=n("8Y7J"),l=n("iELJ"),s=function(){var t=function(){function t(e){i(this,t),this.dialog=e}return c(t,[{key:"open",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.dialog.open(a.a,{width:"290px",data:{title:t,content:e}}).afterClosed().toPromise());case 1:case"end":return n.stop()}}),n,this)})))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.bc(l.b))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"Jc+d":function(t,e,n){"use strict";n.d(e,"a",(function(){return w}));var o=n("mrSG"),a=n("Izkr"),r=n("iELJ"),l=n("8Y7J"),s=n("s7LF"),u=n("SVse"),b=n("Dxy4"),f=n("oqD5"),d=n("TSSN");function m(t,e){if(1&t&&(l.Xb(0,"h2",2),l.Sc(1),l.kc(2,"translate"),l.Wb()),2&t){var n=l.jc();l.Fb(1),l.Tc(l.lc(2,1,n.data.title))}}function g(t,e){if(1&t&&(l.Xb(0,"div",9),l.Sb(1,"os-search-value-selector",10),l.Wb()),2&t){var n=l.jc(2);l.Fb(1),l.rc("multiple",n.data.multiSelect)("formControl",n.selectForm.get("select"))("inputListValues",n.data.choices)}}function p(t,e){if(1&t){var n=l.Yb();l.Xb(0,"button",12),l.fc("click",(function(){l.Gc(n);var t=e.$implicit;return l.jc(3).closeDialog(!0,t)})),l.Xb(1,"span"),l.Sc(2),l.kc(3,"translate"),l.Wb(),l.Wb()}if(2&t){var o=e.$implicit,a=l.jc(3);l.rc("disabled",!a.hasSelection),l.Fb(2),l.Tc(l.lc(3,2,o))}}function h(t,e){if(1&t&&(l.Xb(0,"div"),l.Qc(1,p,4,4,"button",11),l.Wb()),2&t){var n=l.jc(2);l.Fb(1),l.rc("ngForOf",n.data.actionButtons)}}function v(t,e){if(1&t){var n=l.Yb();l.Xb(0,"button",12),l.fc("click",(function(){return l.Gc(n),l.jc(3).closeDialog(!0)})),l.Xb(1,"span"),l.Sc(2,"OK"),l.Wb(),l.Wb()}if(2&t){var o=l.jc(3);l.rc("disabled",!o.hasSelection)}}function y(t,e){if(1&t&&(l.Xb(0,"div"),l.Qc(1,v,3,1,"button",13),l.Wb()),2&t){var n=l.jc(2);l.Fb(1),l.rc("ngIf",!n.data.multiSelect||n.data.choices)}}function C(t,e){if(1&t){var n=l.Yb();l.Xb(0,"button",8),l.fc("click",(function(){l.Gc(n);var t=l.jc(2);return t.closeDialog(!0,t.data.clearChoice)})),l.Xb(1,"span"),l.Sc(2),l.Wb(),l.Wb()}if(2&t){var o=l.jc(2);l.Fb(2),l.Tc(o.data.clearChoice)}}function S(t,e){if(1&t){var n=l.Yb();l.Xb(0,"form",3),l.Qc(1,g,2,3,"div",4),l.Xb(2,"div",5),l.Qc(3,h,2,1,"div",6),l.Qc(4,y,2,1,"div",6),l.Qc(5,C,3,1,"button",7),l.Xb(6,"button",8),l.fc("click",(function(){return l.Gc(n),l.jc().closeDialog(!1)})),l.Xb(7,"span"),l.Sc(8),l.kc(9,"translate"),l.Wb(),l.Wb(),l.Wb(),l.Wb()}if(2&t){var o=l.jc();l.rc("formGroup",o.selectForm),l.Fb(1),l.rc("ngIf",o.data.choices),l.Fb(2),l.rc("ngIf",o.data.actionButtons),l.Fb(1),l.rc("ngIf",!o.data.actionButtons),l.Fb(1),l.rc("ngIf",o.data.clearChoice),l.Fb(3),l.Tc(l.lc(9,6,"Cancel"))}}var k,O,M=((O=function(){function t(e,n,o){i(this,t),this.dialogRef=e,this.formBuilder=n,this.data=o,this.selectedMultiChoices=[],this.selectForm=this.formBuilder.group({select:[]})}return c(t,[{key:"closeDialog",value:function(t,e){this.data.multiSelect||null!==this.selectedChoice||(e=this.data.clearChoice),t?this.dialogRef.close({action:e||null,items:this.selectForm.get("select").value}):this.dialogRef.close()}},{key:"hasSelection",get:function(){return!(this.data&&this.data.choices&&(!this.selectForm.get("select").value||!this.selectForm.get("select").value&&!this.selectForm.get("select").value.length))}}]),t}()).\u0275fac=function(t){return new(t||O)(l.Rb(r.h),l.Rb(s.g),l.Rb(r.a))},O.\u0275cmp=l.Lb({type:O,selectors:[["os-choice-dialog"]],decls:2,vars:2,consts:[["mat-dialog-title","",4,"ngIf"],[3,"formGroup",4,"ngIf"],["mat-dialog-title",""],[3,"formGroup"],["mat-dialog-content","",4,"ngIf"],["mat-dialog-actions",""],[4,"ngIf"],["mat-button","",3,"click",4,"ngIf"],["mat-button","",3,"click"],["mat-dialog-content",""],["ngDefaultControl","",3,"multiple","formControl","inputListValues"],["mat-button","",3,"disabled","click",4,"ngFor","ngForOf"],["mat-button","",3,"disabled","click"],["mat-button","",3,"disabled","click",4,"ngIf"]],template:function(t,e){1&t&&(l.Qc(0,m,3,3,"h2",0),l.Qc(1,S,10,8,"form",1)),2&t&&(l.rc("ngIf",e.data),l.Fb(1),l.rc("ngIf",e.data))},directives:[u.t,r.i,s.J,s.u,s.l,r.c,b.b,r.f,f.a,s.d,s.t,s.i,u.s],pipes:[d.j],styles:[".mat-form-field{width:100%}"],encapsulation:2}),O),w=((k=function(){function t(e){i(this,t),this.dialog=e}return c(t,[{key:"open",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",this.dialog.open(M,Object.assign(Object.assign({},a.a),{data:{title:t,choices:e,multiSelect:n,actionButtons:i,clearChoice:r}})).afterClosed().toPromise());case 1:case"end":return o.stop()}}),o,this)})))}}]),t}()).\u0275fac=function(t){return new(t||k)(l.bc(r.b))},k.\u0275prov=l.Nb({token:k,factory:k.\u0275fac,providedIn:"root"}),k)},LBBb:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var o=n("iELJ"),a=n("8Y7J"),r=n("SVse"),c=n("Dxy4"),l=n("TSSN");function s(t,e){if(1&t&&(a.Xb(0,"div"),a.Xb(1,"h2",1),a.Sc(2),a.Wb(),a.Sb(3,"mat-dialog-content",2),a.Xb(4,"mat-dialog-actions"),a.Xb(5,"button",3),a.Sc(6),a.kc(7,"translate"),a.Wb(),a.Xb(8,"button",4),a.Sc(9),a.kc(10,"translate"),a.Wb(),a.Wb(),a.Wb()),2&t){var n=a.jc();a.Fb(2),a.Tc(n.data.title),a.Fb(1),a.rc("innerHTML",n.data.content,a.Hc),a.Fb(2),a.rc("mat-dialog-close",!0),a.Fb(1),a.Tc(a.lc(7,6,"OK")),a.Fb(2),a.rc("mat-dialog-close",!1),a.Fb(1),a.Tc(a.lc(10,8,"Cancel"))}}var u=function(){var t=function t(e,n){i(this,t),this.dialogRef=e,this.data=n};return t.\u0275fac=function(e){return new(e||t)(a.Rb(o.h),a.Rb(o.a))},t.\u0275cmp=a.Lb({type:t,selectors:[["os-prompt-dialog"]],decls:1,vars:1,consts:[[4,"ngIf"],["mat-dialog-title",""],[3,"innerHTML"],["mat-button","","color","warn",3,"mat-dialog-close"],["mat-button","",3,"mat-dialog-close"]],template:function(t,e){1&t&&a.Qc(0,s,11,10,"div",0),2&t&&a.rc("ngIf",e.data)},directives:[r.t,o.i,o.f,o.c,c.b,o.d],pipes:[l.j],encapsulation:2}),t}()},wL0i:function(t,n,o){"use strict";o.d(n,"a",(function(){return a}));var a=function(t){l(o,t);var n=u(o);function o(t,e,a,r){var c;return i(this,o),(c=n.call(this,t,e,a)).storage=r,c.canMultiSelect=!1,c._multiSelectMode=!1,c.singleButtonWidth="40px",c.badgeButtonWidth="45px",c.selectedRows=[],c}return c(o,[{key:"onDataSourceChange",value:function(t){this.dataSource=t}},{key:"toggleMultiSelect",value:function(){!this.canMultiSelect||this.isMultiSelect?(this._multiSelectMode=!1,this.deselectAll()):this._multiSelectMode=!0}},{key:"selectAll",value:function(){var t;(t=this.dataSource.selection).select.apply(t,e(this.dataSource.filteredData))}},{key:"deselectAll",value:function(){this.dataSource&&this.dataSource.selection.clear()}},{key:"isMultiSelect",get:function(){return this._multiSelectMode}}]),o}(o("mV3u").a)}}])}();