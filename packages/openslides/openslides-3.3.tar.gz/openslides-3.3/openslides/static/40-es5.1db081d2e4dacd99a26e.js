!function(){function t(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function n(n,e,o){return e&&t(n.prototype,e),o&&t(n,o),n}function e(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&o(t,n)}function o(t,n){return(o=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function s(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,o=i(t);if(n){var s=i(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return c(this,e)}}function c(t,n){return!n||"object"!=typeof n&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{"9st3":function(t,n,e){"use strict";e.d(n,"a",(function(){return s})),e("Ri39");var o=e("8Y7J"),s=function(){var t=function t(){r(this,t)};return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=o.Mb({type:t,inputs:{data:"data",projector:"projector"}}),t}()},DGQJ:function(t,o,c){"use strict";c.d(o,"a",(function(){return Y}));var i=c("w7eE"),a=c("OwvW"),l=c("HRp2"),u=c("qnZ9"),b=c("avkN"),f=c("8Y7J"),g=c("cUpR"),p=c("TSSN"),d=c("SVse"),h=c("6ako"),v=c("QUb3"),m=c("j7f2");function M(t,n){1&t&&(f.Xb(0,"span"),f.Sc(1),f.kc(2,"translate"),f.Wb()),2&t&&(f.Fb(1),f.Uc(" ",f.lc(2,1,"Yes")," "))}function y(t,n){1&t&&(f.Xb(0,"span"),f.Sc(1),f.kc(2,"translate"),f.Wb()),2&t&&(f.Fb(1),f.Uc(" ",f.lc(2,1,"Votes")," "))}function P(t,n){if(1&t&&(f.Xb(0,"th",8),f.Qc(1,M,3,3,"span",0),f.Qc(2,y,3,3,"span",0),f.Wb()),2&t){var e=f.jc(3);f.Fb(1),f.rc("ngIf",!e.isMethodY),f.Fb(1),f.rc("ngIf",e.isMethodY)}}function O(t,n){1&t&&(f.Xb(0,"span",12),f.Sc(1),f.kc(2,"translate"),f.Wb()),2&t&&(f.Fb(1),f.Uc(" ",f.lc(2,1,"No")," "))}function F(t,n){1&t&&(f.Xb(0,"span",13),f.Sc(1),f.kc(2,"translate"),f.Wb()),2&t&&(f.Fb(1),f.Uc(" ",f.lc(2,1,"Votes")," "))}function C(t,n){if(1&t&&(f.Xb(0,"th",9),f.Qc(1,O,3,3,"span",10),f.Qc(2,F,3,3,"span",11),f.Wb()),2&t){var e=f.jc(3);f.Fb(1),f.rc("ngIf",!e.isMethodN),f.Fb(1),f.rc("ngIf",e.isMethodN)}}function _(t,n){1&t&&(f.Xb(0,"th",14),f.Sc(1),f.kc(2,"translate"),f.Wb()),2&t&&(f.Fb(1),f.Tc(f.lc(2,1,"Abstain")))}function k(t,n){if(1&t&&(f.Xb(0,"span",17),f.Sb(1,"br"),f.Sc(2),f.Wb()),2&t){var e=f.jc().$implicit;f.Fb(2),f.Uc(" ",e.votingOptionSubtitle," ")}}function S(t,n){if(1&t&&(f.Xb(0,"span"),f.Sc(1),f.kc(2,"pollPercentBase"),f.Wb()),2&t){var e=f.jc().$implicit,o=f.jc().$implicit,s=f.jc(3);f.Fb(1),f.Uc(" ",f.nc(2,1,s.getVoteAmount(e,o),s.poll,"assignment")," ")}}function W(t,n){if(1&t&&(f.Xb(0,"span"),f.Sc(1),f.kc(2,"parsePollNumber"),f.Wb()),2&t){var e=f.jc().$implicit,o=f.jc().$implicit,s=f.jc(3);f.Fb(1),f.Uc(" ",f.lc(2,1,s.getVoteAmount(e,o))," ")}}function X(t,n){if(1&t&&(f.Xb(0,"span"),f.Sc(1),f.kc(2,"parsePollNumber"),f.Wb()),2&t){var e=f.jc().$implicit;f.Fb(1),f.Uc(" ",f.lc(2,1,e.amount)," ")}}function j(t,n){if(1&t&&(f.Xb(0,"td",9),f.Xb(1,"div",18),f.Xb(2,"span"),f.Qc(3,S,3,5,"span",0),f.Qc(4,W,3,3,"span",0),f.Qc(5,X,3,3,"span",0),f.Wb(),f.Wb(),f.Wb()),2&t){var e=n.$implicit,o=f.jc().$implicit,s=f.jc(3);f.Fb(1),f.rc("ngClass",s.getVoteClass(e)),f.Fb(2),f.rc("ngIf",e.showPercent),f.Fb(1),f.rc("ngIf","user"===o.class),f.Fb(1),f.rc("ngIf","user"!==o.class)}}function w(t,n){if(1&t&&(f.Xb(0,"tr"),f.Xb(1,"td",3),f.Xb(2,"div"),f.Xb(3,"span"),f.Sc(4),f.kc(5,"translate"),f.kc(6,"pollKeyVerbose"),f.Wb(),f.Qc(7,k,3,1,"span",15),f.Wb(),f.Wb(),f.Qc(8,j,6,4,"td",16),f.Wb()),2&t){var e=n.$implicit,o=f.jc(3);f.Hb(e.class),f.Fb(4),f.Uc(" ",f.lc(5,5,f.lc(6,7,e.votingOption))," "),f.Fb(3),f.rc("ngIf",e.votingOptionSubtitle),f.Fb(1),f.rc("ngForOf",o.filterRelevantResults(e.value))}}function I(t,n){if(1&t&&(f.Xb(0,"table",2),f.Xb(1,"tbody"),f.Xb(2,"tr"),f.Xb(3,"th",3),f.Sc(4),f.kc(5,"translate"),f.Wb(),f.Qc(6,P,3,2,"th",4),f.Qc(7,C,3,2,"th",5),f.Qc(8,_,3,3,"th",6),f.Wb(),f.Qc(9,w,9,9,"tr",7),f.Wb(),f.Wb()),2&t){var e=f.jc(2);f.Fb(4),f.Tc(f.lc(5,5,"Candidates")),f.Fb(2),f.rc("ngIf",e.showYHeader),f.Fb(1),f.rc("ngIf",e.showNHeader),f.Fb(1),f.rc("ngIf",e.isMethodYNA),f.Fb(1),f.rc("ngForOf",e.tableData)}}function N(t,n){1&t&&(f.Xb(0,"div"),f.Xb(1,"i"),f.Sc(2),f.kc(3,"translate"),f.Wb(),f.Wb()),2&t&&(f.Fb(2),f.Uc(" ",f.lc(3,1,"No results yet.")," "))}function R(t,n){1&t&&(f.Xb(0,"div"),f.Xb(1,"i"),f.Sc(2),f.kc(3,"translate"),f.Wb(),f.Wb()),2&t&&(f.Fb(2),f.Uc(" ",f.lc(3,1,"Counting of votes is in progress ...")," "))}function Q(t,n){if(1&t&&(f.Xb(0,"div"),f.Qc(1,I,10,7,"table",1),f.Qc(2,N,4,3,"div",0),f.Qc(3,R,4,3,"div",0),f.Wb()),2&t){var e=f.jc();f.Fb(1),f.rc("ngIf",e.hasResults&&e.canSeeResults),f.Fb(1),f.rc("ngIf",!e.hasResults),f.Fb(1),f.rc("ngIf",e.hasResults&&!e.canSeeResults)}}var Y=function(){var t=function(t){e(c,t);var o=s(c);function c(t,n,e,s){var i;return r(this,c),(i=o.call(this,t,n)).pollService=e,i.operator=s,i}return n(c,[{key:"getVoteClass",value:function(t){var n=t.vote;return this.isMethodN&&"no"===n?"yes":n}},{key:"filterRelevantResults",value:function(t){var n=this;return t.filter((function(t){return t&&n.voteFitsMethod(t)}))}},{key:"getVoteAmount",value:function(t,n){return this.isMethodN&&"user"===n.class?t.amount<0?t.amount:this.poll.votesvalid-t.amount:t.amount}},{key:"voteFitsMethod",value:function(t){return!t.vote||(this.isMethodY?"yes"===t.vote:this.isMethodN?"no"===t.vote:!this.isMethodYN||"abstain"!==t.vote)}},{key:"method",get:function(){return this.poll.pollmethod}},{key:"state",get:function(){return this.poll.state}},{key:"showYHeader",get:function(){return this.isMethodY||this.isMethodYN||this.isMethodYNA}},{key:"showNHeader",get:function(){return this.isMethodN||this.isMethodYN||this.isMethodYNA}},{key:"isMethodY",get:function(){return this.method===l.b.Y}},{key:"isMethodN",get:function(){return this.method===l.b.N}},{key:"isMethodYN",get:function(){return this.method===l.b.YN}},{key:"isMethodYNA",get:function(){return this.method===l.b.YNA}},{key:"isFinished",get:function(){return this.state===u.e.Finished}},{key:"isPublished",get:function(){return this.state===u.e.Published}},{key:"tableData",get:function(){return this.pollService.generateTableData(this.poll)}},{key:"hasResults",get:function(){return this.isFinished||this.isPublished}},{key:"canSeeResults",get:function(){return this.operator.hasPerms(this.permission.assignmentsCanManage)||this.isPublished}}]),c}(i.a);return t.\u0275fac=function(n){return new(n||t)(f.Rb(g.c),f.Rb(p.k),f.Rb(b.a),f.Rb(a.a))},t.\u0275cmp=f.Lb({type:t,selectors:[["os-assignment-poll-detail-content"]],inputs:{poll:"poll"},features:[f.Cb],decls:1,vars:1,consts:[[4,"ngIf"],["class","assignment-result-table",4,"ngIf"],[1,"assignment-result-table"],[1,"voting-option"],["class","result yes",4,"ngIf"],["class","result",4,"ngIf"],["class","result abstain",4,"ngIf"],[3,"class",4,"ngFor","ngForOf"],[1,"result","yes"],[1,"result"],["class","no",4,"ngIf"],["class","yes",4,"ngIf"],[1,"no"],[1,"yes"],[1,"result","abstain"],["class","user-subtitle",4,"ngIf"],["class","result",4,"ngFor","ngForOf"],[1,"user-subtitle"],[1,"single-result",3,"ngClass"]],template:function(t,n){1&t&&f.Qc(0,Q,4,3,"div",0),2&t&&f.rc("ngIf",n.poll)},directives:[d.t,d.s,d.q],pipes:[p.j,h.a,v.a,m.a],styles:[".yes[_ngcontent-%COMP%]{color:#4caf50}.no[_ngcontent-%COMP%]{color:#cc6c5b}.abstain[_ngcontent-%COMP%]{color:#a6a6a6}.voted-yes[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.voted-no[_ngcontent-%COMP%]{background-color:#cc6c5b;color:#fff}.voted-abstain[_ngcontent-%COMP%]{background-color:#a6a6a6;color:#fff}.start-poll-button[_ngcontent-%COMP%]{color:#4caf50}.stop-poll-button[_ngcontent-%COMP%]{color:#ff5252}.publish-poll-button[_ngcontent-%COMP%]{color:#e6b100}.assignment-result-table[_ngcontent-%COMP%]{margin-top:2em;display:block;overflow-x:auto;border-collapse:collapse}.assignment-result-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:400}.assignment-result-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:48px}.assignment-result-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-right:1em}.assignment-result-table[_ngcontent-%COMP%]   tr.sums[_ngcontent-%COMP%]{border-bottom:none}.assignment-result-table[_ngcontent-%COMP%]   tr.sums[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-top:1em;padding-bottom:1em}.assignment-result-table[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]{text-align:right;padding-left:1em}.assignment-result-table[_ngcontent-%COMP%]   .voting-option[_ngcontent-%COMP%]{min-width:200px;width:100%;text-align:left}.assignment-result-table[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%] + .sums[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-top:2em}.assignment-result-table[_ngcontent-%COMP%]   .single-result[_ngcontent-%COMP%]{white-space:pre}"]}),t}()},DuaU:function(t,o,c){"use strict";c.r(o),c.d(o,"AssignmentPollSlideModule",(function(){return P}));var i=c("SVse"),a=c("PCNd"),l=c("DGVe"),u=c("HRp2"),b=c("qnZ9"),f=c("JTqh"),g=c("8Y7J"),p=c("DGQJ");function d(t,n){if(1&t&&(g.Xb(0,"div"),g.Sb(1,"os-assignment-poll-detail-content",4),g.Wb()),2&t){var e=g.jc(2);g.Fb(1),g.rc("poll",e.data.data.poll)}}function h(t,n){if(1&t&&(g.Vb(0),g.Xb(1,"div",1),g.Xb(2,"h1",2),g.Sc(3),g.Wb(),g.Xb(4,"h2",3),g.Sc(5),g.Wb(),g.Wb(),g.Qc(6,d,2,1,"div",0),g.Ub()),2&t){var e=g.jc();g.Fb(3),g.Tc(e.data.data.assignment.title),g.Fb(2),g.Tc(e.data.data.poll.title),g.Fb(1),g.rc("ngIf",e.data.data.poll.state===e.PollState.Published)}}var v,m,M=((v=function(t){e(c,t);var o=s(c);function c(){var t;return r(this,c),(t=o.apply(this,arguments)).PollState=b.e,t.options={maintainAspectRatio:!1,responsive:!0,legend:{position:"right"}},t}return n(c,[{key:"getDecimalFields",value:function(){return u.a.DECIMAL_FIELDS}}]),c}(f.a)).\u0275fac=function(t){return y(t||v)},v.\u0275cmp=g.Lb({type:v,selectors:[["os-assignment-poll-slide"]],features:[g.Cb],decls:1,vars:1,consts:[[4,"ngIf"],[1,"slidetitle"],[1,"assignment-title"],[1,"poll-title"],[3,"poll"]],template:function(t,n){1&t&&g.Qc(0,h,7,3,"ng-container",0),2&t&&g.rc("ngIf",n.data&&n.data.data)},directives:[i.t,p.a],styles:[".assignment-title[_ngcontent-%COMP%]{margin:0 0 10px}.slidetitle[_ngcontent-%COMP%]{margin-bottom:15px}"]}),v),y=g.Zb(M),P=((m=function t(){r(this,t)}).\u0275mod=g.Pb({type:m}),m.\u0275inj=g.Ob({factory:function(t){return new(t||m)},providers:[{provide:l.a.token,useValue:M}],imports:[[i.c,a.a]]}),m)}}])}();