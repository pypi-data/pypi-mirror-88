!function(){function t(e,n,o){return(t="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=i(t)););return t}(t,e);if(o){var a=Object.getOwnPropertyDescriptor(o,e);return a.get?a.get.call(n):a.value}})(e,n,o||e)}function e(t,n){return(e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,n)}function n(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=i(t);if(e){var c=i(this).constructor;n=Reflect.construct(a,arguments,c)}else n=a.apply(this,arguments);return o(this,n)}}function o(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[31,42],{F48D:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var o=n("mrSG"),i=n("LBBb"),c=n("8Y7J"),l=n("iELJ"),s=function(){var t=function(){function t(e){a(this,t),this.dialog=e}return r(t,[{key:"open",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.dialog.open(i.a,{width:"290px",data:{title:t,content:e}}).afterClosed().toPromise());case 1:case"end":return n.stop()}}),n,this)})))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.bc(l.b))},t.\u0275prov=c.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},LBBb:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var o=n("iELJ"),i=n("8Y7J"),c=n("SVse"),r=n("Dxy4"),l=n("TSSN");function s(t,e){if(1&t&&(i.Xb(0,"div"),i.Xb(1,"h2",1),i.Sc(2),i.Wb(),i.Sb(3,"mat-dialog-content",2),i.Xb(4,"mat-dialog-actions"),i.Xb(5,"button",3),i.Sc(6),i.kc(7,"translate"),i.Wb(),i.Xb(8,"button",4),i.Sc(9),i.kc(10,"translate"),i.Wb(),i.Wb(),i.Wb()),2&t){var n=i.jc();i.Fb(2),i.Tc(n.data.title),i.Fb(1),i.rc("innerHTML",n.data.content,i.Hc),i.Fb(2),i.rc("mat-dialog-close",!0),i.Fb(1),i.Tc(i.lc(7,6,"OK")),i.Fb(2),i.rc("mat-dialog-close",!1),i.Fb(1),i.Tc(i.lc(10,8,"Cancel"))}}var u=function(){var t=function t(e,n){a(this,t),this.dialogRef=e,this.data=n};return t.\u0275fac=function(e){return new(e||t)(i.Rb(o.h),i.Rb(o.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["os-prompt-dialog"]],decls:1,vars:1,consts:[[4,"ngIf"],["mat-dialog-title",""],[3,"innerHTML"],["mat-button","","color","warn",3,"mat-dialog-close"],["mat-button","",3,"mat-dialog-close"]],template:function(t,e){1&t&&i.Qc(0,s,11,10,"div",0),2&t&&i.rc("ngIf",e.data)},directives:[c.t,o.i,o.f,o.c,r.b,o.d],pipes:[l.j],encapsulation:2}),t}()},mksl:function(t,e,n){"use strict";n.d(e,"a",(function(){return j}));var o=n("8Y7J"),i=n("VR2Q"),c=n("7dBR"),l=n("gsQk"),s=n("KL36"),u=n("iInd"),b=n("l0rg"),f=n("SVse"),d=n("Dxy4"),m=n("Tj54"),p=n("ZFy/"),h=n("TSSN");function v(t,e){if(1&t){var n=o.Yb();o.Xb(0,"button",12),o.fc("click",(function(){return o.Gc(n),o.jc().clickHamburgerMenu()})),o.Xb(1,"mat-icon"),o.Sc(2,"menu"),o.Wb(),o.Wb()}}function g(t,e){if(1&t){var n=o.Yb();o.Xb(0,"button",12),o.fc("click",(function(){return o.Gc(n),o.jc().onBackButton()})),o.Xb(1,"mat-icon"),o.Sc(2,"arrow_back"),o.Wb(),o.Wb()}}function y(t,e){if(1&t){var n=o.Yb();o.Xb(0,"button",12),o.fc("click",(function(){o.Gc(n);var t=o.jc();return t.isCancelEditUsed?t.sendCancelEditEvent():t.sendMainEvent()})),o.Xb(1,"mat-icon"),o.Sc(2,"close"),o.Wb(),o.Wb()}}function S(t,e){1&t&&(o.Xb(0,"div",13),o.pc(1,1),o.Wb())}function k(t,e){1&t&&o.Sb(0,"div",6)}function w(t,e){1&t&&(o.Xb(0,"div",14),o.pc(1,2),o.Wb())}function M(t,e){if(1&t){var n=o.Yb();o.Xb(0,"button",12),o.fc("click",(function(){return o.Gc(n),o.jc().openSearch()})),o.Xb(1,"mat-icon"),o.Sc(2,"search"),o.Wb(),o.Wb()}}function I(t,e){if(1&t){var n=o.Yb();o.Xb(0,"button",15),o.fc("click",(function(){return o.Gc(n),o.jc().sendMainEvent()})),o.kc(1,"translate"),o.Xb(2,"mat-icon"),o.Sc(3),o.Wb(),o.Wb()}if(2&t){var i=o.jc();o.sc("matTooltip",o.lc(1,3,i.mainActionTooltip)),o.rc("disabled",!i.isMainButtonEnabled),o.Fb(3),o.Tc(i.mainButtonIcon)}}function x(t,e){if(1&t){var n=o.Yb();o.Xb(0,"button",16),o.fc("click",(function(){return o.Gc(n),o.jc().save()})),o.Xb(1,"strong",17),o.Sc(2),o.kc(3,"translate"),o.Wb(),o.Wb()}if(2&t){var i=o.jc();o.rc("disabled",!i.isSaveButtonEnabled),o.Fb(2),o.Tc(o.lc(3,2,i.saveText))}}function E(t,e){1&t&&o.pc(0,3,["*ngIf","!editMode"])}function W(t,e){1&t&&(o.Xb(0,"mat-icon"),o.Sc(1," add "),o.Wb())}function X(t,e){if(1&t&&(o.Xb(0,"mat-icon"),o.Sc(1),o.Wb()),2&t){var n=o.jc(2);o.Fb(1),o.Uc(" ",n.mainButtonIcon," ")}}function R(t,e){if(1&t){var n=o.Yb();o.Xb(0,"button",18),o.fc("click",(function(){return o.Gc(n),o.jc().sendMainEvent()})),o.kc(1,"translate"),o.Qc(2,W,2,0,"mat-icon",10),o.Qc(3,X,2,1,"mat-icon",10),o.Wb()}if(2&t){var i=o.jc();o.sc("matTooltip",o.lc(1,4,i.mainActionTooltip)),o.rc("disabled",!i.isMainButtonEnabled),o.Fb(2),o.rc("ngIf","add_circle"===i.mainButtonIcon),o.Fb(1),o.rc("ngIf","add_circle"!==i.mainButtonIcon)}}var T=[[["",8,"extra-controls-slot"]],[["",8,"title-slot"]],[["",8,"central-info-slot"]],[["",8,"menu-slot"]]],F=[".extra-controls-slot",".title-slot",".central-info-slot",".menu-slot"],j=function(){var t=function(){function t(e,n,i,c,r,l){a(this,t),this.vp=e,this.menu=n,this.router=i,this.route=c,this.routingState=r,this.overlayService=l,this.nav=!0,this.mainButtonIcon="add_circle",this.saveText="Save",this.editMode=!1,this.isSearchEnabled=!0,this.isSaveButtonEnabled=!0,this.multiSelectMode=!1,this.hasMainButton=!1,this.isMainButtonEnabled=!0,this.goBack=!1,this.prevUrl="../",this.mainEvent=new o.p,this.cancelEditEvent=new o.p,this.isCancelEditUsed=!1,this.saveEvent=new o.p}return r(t,[{key:"ngOnInit",value:function(){this.isCancelEditUsed=this.cancelEditEvent.observers.length>0}},{key:"sendMainEvent",value:function(){this.mainEvent.next()}},{key:"sendCancelEditEvent",value:function(){this.cancelEditEvent.next()}},{key:"clickHamburgerMenu",value:function(){this.menu.toggleMenu()}},{key:"save",value:function(){this.saveEvent.next(!0)}},{key:"openSearch",value:function(){this.overlayService.showSearch()}},{key:"onBackButton",value:function(){this.goBack?this.routingState.goBack():this.router.navigate(this.routingState.customOrigin&&this.routingState.customOrigin!==this.router.url?[this.routingState.customOrigin]:[this.prevUrl],{relativeTo:this.route})}},{key:"showBackButton",get:function(){return!this.nav&&!this.multiSelectMode&&(this.routingState.isSafePrevUrl||!this.goBack)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.Rb(s.a),o.Rb(i.a),o.Rb(u.f),o.Rb(u.a),o.Rb(l.a),o.Rb(c.a))},t.\u0275cmp=o.Lb({type:t,selectors:[["os-head-bar"]],inputs:{nav:"nav",mainButtonIcon:"mainButtonIcon",saveText:"saveText",editMode:"editMode",isSearchEnabled:"isSearchEnabled",isSaveButtonEnabled:"isSaveButtonEnabled",multiSelectMode:"multiSelectMode",hasMainButton:"hasMainButton",isMainButtonEnabled:"isMainButtonEnabled",goBack:"goBack",prevUrl:"prevUrl",mainActionTooltip:"mainActionTooltip"},outputs:{mainEvent:"mainEvent",cancelEditEvent:"cancelEditEvent",saveEvent:"saveEvent"},ngContentSelectors:F,decls:16,vars:12,consts:[["color","primary",1,"sticky-toolbar",3,"ngClass"],[1,"toolbar-left"],["mat-icon-button","",3,"click",4,"ngIf"],["class","toolbar-left-text",4,"ngIf"],["class","spacer",4,"ngIf"],["class","toolbar-centered",4,"ngIf"],[1,"spacer"],[1,"toolbar-right"],["mat-icon-button","",3,"disabled","matTooltip","click",4,"ngIf"],["mat-button","",3,"disabled","click",4,"ngIf"],[4,"ngIf"],["mat-fab","","class","head-button",3,"disabled","matTooltip","click",4,"ngIf"],["mat-icon-button","",3,"click"],[1,"toolbar-left-text"],[1,"toolbar-centered"],["mat-icon-button","",3,"disabled","matTooltip","click"],["mat-button","",3,"disabled","click"],[1,"upper"],["mat-fab","",1,"head-button",3,"disabled","matTooltip","click"]],template:function(t,e){1&t&&(o.qc(T),o.Xb(0,"mat-toolbar",0),o.Xb(1,"div",1),o.Qc(2,v,3,0,"button",2),o.Qc(3,g,3,0,"button",2),o.Qc(4,y,3,0,"button",2),o.Qc(5,S,2,0,"div",3),o.Wb(),o.Qc(6,k,1,0,"div",4),o.Qc(7,w,2,0,"div",5),o.Sb(8,"div",6),o.Qc(9,M,3,0,"button",2),o.Xb(10,"div",7),o.pc(11),o.Qc(12,I,4,5,"button",8),o.Qc(13,x,4,4,"button",9),o.Qc(14,E,1,0,"ng-content",10),o.Wb(),o.Wb(),o.Qc(15,R,4,6,"button",11)),2&t&&(o.rc("ngClass",e.multiSelectMode?"multi-select":""),o.Fb(2),o.rc("ngIf",e.vp.isMobile&&!e.showBackButton&&!e.editMode),o.Fb(1),o.rc("ngIf",e.showBackButton&&!e.editMode),o.Fb(1),o.rc("ngIf",e.editMode),o.Fb(1),o.rc("ngIf",!e.multiSelectMode),o.Fb(1),o.rc("ngIf",!e.multiSelectMode),o.Fb(1),o.rc("ngIf",e.multiSelectMode),o.Fb(2),o.rc("ngIf",!e.editMode&&e.isSearchEnabled),o.Fb(3),o.rc("ngIf",e.hasMainButton&&!e.editMode&&!e.vp.isMobile&&!e.multiSelectMode),o.Fb(1),o.rc("ngIf",e.editMode),o.Fb(1),o.rc("ngIf",!e.editMode),o.Fb(1),o.rc("ngIf",e.hasMainButton&&!e.editMode&&e.vp.isMobile&&!e.multiSelectMode))},directives:[b.a,f.q,f.t,d.b,m.a,p.c],pipes:[h.j],styles:[".head-button{position:fixed;z-index:10;right:20px;bottom:55px}.sticky-toolbar{top:0;z-index:5;position:-webkit-sticky;position:sticky;height:64px!important}.sticky-toolbar .toolbar-left{display:-ms-flexbox;display:flex;max-width:calc(100% - 100px)}.sticky-toolbar .toolbar-left button{margin:12px 0}.sticky-toolbar .toolbar-left .toolbar-left-text{margin-left:10px;width:100%;overflow:hidden}.sticky-toolbar .toolbar-left .toolbar-left-text .title-slot{margin:16px 0;display:block}.sticky-toolbar .toolbar-left .toolbar-left-text .title-slot h2{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.sticky-toolbar .toolbar-centered{margin:auto;vertical-align:baseline}.sticky-toolbar .toolbar-right,.sticky-toolbar .toolbar-right .extra-controls-slot{display:-ms-flexbox;display:flex}mat-toolbar.multi-select{background-color:#757575!important}"],encapsulation:2}),t}()},t8it:function(o,c,l){"use strict";l.r(c),l.d(c,"HistoryModule",(function(){return bt}));var s=l("SVse"),u=l("iInd"),b=l("mrSG"),f=l("OaSA"),d=l("AytR"),m=l("XNiG"),p=l("TG9O"),h=l("Hila"),v=l("OwvW"),g=l("TK4i"),y=l("oJo9"),S=l("dOok"),k=l("F48D"),w=l("Jrw6"),M=function(){function t(e){a(this,t),e&&this.deserialize(e)}return r(t,[{key:"getLocaleString",value:function(t){return this.date.toLocaleString(t)}},{key:"deserialize",value:function(t){Object.assign(this,t)}},{key:"date",get:function(){return new Date(1e3*this.timestamp)}},{key:"collectionString",get:function(){return this.element_id.split(":")[0]}},{key:"modelId",get:function(){return+this.element_id.split(":")[1]}}]),t}(),I=l("iu6c"),x=l("nfZV"),E=l("mV3u"),W=l("8adq"),X=l("8Y7J"),R=l("cUpR"),T=l("TSSN"),F=l("zHaW"),j=l("s7LF"),B=l("mksl"),O=l("cfFX"),C=l("PDjf"),Q=l("Q2Ze"),D=l("oqD5"),L=l("e6WT"),P=l("Tj54"),_=l("LUZP"),U=l("5QHs"),H=l("rJgo"),G=l("Dxy4"),V=l("ZFy/");function N(t,e){if(1&t&&(X.Xb(0,"button",23),X.Xb(1,"mat-icon"),X.Sc(2,"more_vert"),X.Wb(),X.Wb()),2&t){X.jc();var n=X.Cc(38);X.rc("matMenuTriggerFor",n)}}function Y(t,e){if(1&t){var n=X.Yb();X.Xb(0,"button",24),X.fc("click",(function(){return X.Gc(n),X.jc().refresh()})),X.Xb(1,"mat-icon"),X.Sc(2,"refresh"),X.Wb(),X.Xb(3,"span"),X.Sc(4),X.kc(5,"translate"),X.Wb(),X.Wb()}2&t&&(X.Fb(4),X.Tc(X.lc(5,1,"Refresh")))}function J(t,e){1&t&&(X.Xb(0,"mat-header-cell"),X.Sc(1),X.kc(2,"translate"),X.Wb()),2&t&&(X.Fb(1),X.Tc(X.lc(2,1,"Timestamp")))}function q(t,e){if(1&t&&(X.Xb(0,"mat-cell"),X.Sc(1),X.Wb()),2&t){var n=e.$implicit,o=X.jc();X.Fb(1),X.Tc(o.getTimestamp(n))}}function z(t,e){1&t&&(X.Xb(0,"mat-header-cell"),X.Sc(1),X.kc(2,"translate"),X.Wb()),2&t&&(X.Fb(1),X.Tc(X.lc(2,1,"Element")))}function A(t,e){if(1&t&&(X.Xb(0,"div"),X.Sc(1),X.kc(2,"translate"),X.Wb()),2&t){var n=X.jc().$implicit,o=X.jc();X.Fb(1),X.Tc(X.lc(2,1,o.getElementInfo(n)))}}function $(t,e){if(1&t&&(X.Xb(0,"div",27),X.kc(1,"translate"),X.Xb(2,"span"),X.Sc(3),X.kc(4,"translate"),X.Wb(),X.Wb()),2&t){var n=X.jc().$implicit;X.sc("matTooltip",X.lc(1,3,"This element does not exist at this time.")),X.Fb(3),X.Vc("",X.lc(4,5,"No information available")," (",n.element_id,")")}}function Z(t,e){if(1&t&&(X.Xb(0,"mat-cell"),X.Qc(1,A,3,3,"div",25),X.Qc(2,$,5,7,"div",26),X.Wb()),2&t){var n=e.$implicit,o=X.jc();X.Fb(1),X.rc("ngIf",o.getElementInfo(n)),X.Fb(1),X.rc("ngIf",!o.getElementInfo(n))}}function K(t,e){1&t&&(X.Xb(0,"mat-header-cell"),X.Sc(1),X.kc(2,"translate"),X.Wb()),2&t&&(X.Fb(1),X.Tc(X.lc(2,1,"Comment")))}function tt(t,e){if(1&t&&(X.Xb(0,"mat-cell"),X.Sc(1),X.Wb()),2&t){var n=e.$implicit,o=X.jc();X.Fb(1),X.Tc(o.parseInformation(n))}}function et(t,e){1&t&&(X.Xb(0,"mat-header-cell"),X.Sc(1),X.kc(2,"translate"),X.Wb()),2&t&&(X.Fb(1),X.Tc(X.lc(2,1,"Changed by")))}function nt(t,e){if(1&t&&(X.Xb(0,"mat-cell"),X.Sc(1),X.Wb()),2&t){var n=e.$implicit,o=X.jc();X.Fb(1),X.Tc(o.getUserName(n))}}function ot(t,e){1&t&&X.Sb(0,"mat-header-row")}function it(t,e){if(1&t){var n=X.Yb();X.Xb(0,"mat-row",28),X.fc("click",(function(){X.Gc(n);var t=e.$implicit;return X.jc().onClickRow(t)})),X.Wb()}}var at,ct,rt,lt=[{path:"",component:(at=function(o){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&e(t,n)}(l,o);var c=n(l);function l(t,e,n,o,i,r,s,u,b,d,p,h,v){var g;return a(this,l),(g=c.call(this,t,e,n)).translate=e,g.viewModelStore=o,g.router=i,g.operator=r,g.timeTravelService=s,g.http=u,g.formBuilder=b,g.motionRepo=d,g.promptService=p,g.activatedRoute=h,g.collectionMapper=v,g.customTimestampChanged=new m.a,g.dataSource=new f.p,g.pageSizes=[50,100,150,200,250],g.currentCollection=I.a.COLLECTIONSTRING,g.modelSelectForm=g.formBuilder.group({model:[]}),g.collectionObserver=g.motionRepo.getViewModelListBehaviorSubject(),g.modelSelectForm.controls.model.valueChanges.subscribe((function(t){var e="".concat(g.currentCollection,":").concat(t);g.queryByElementId(e),g.router.navigate([],{relativeTo:g.activatedRoute,queryParams:{element:e},replaceUrl:!0})})),g}return r(l,[{key:"ngOnInit",value:function(){var e=this;t(i(l.prototype),"setTitle",this).call(this,"History"),this.dataSource.filterPredicate=function(t,n){return n=n?n.toLowerCase():"",!!t&&(e.getUserName(t).toLowerCase().indexOf(n)>=0||!!(e.getElementInfo(t)&&e.getElementInfo(t).toLowerCase().indexOf(n)>=0)||e.parseInformation(t).toLowerCase().indexOf(n)>=0)};var n=this.activatedRoute.snapshot.queryParams;this.collectionMapper.isElementIdValid(n.element)&&(this.queryByElementId(n.element),this.modelSelectForm.patchValue({model:parseInt(n.element.split(":")[1],10)},{emitEvent:!1}))}},{key:"getRowDef",value:function(){return["time","element","info","user"]}},{key:"getElementInfo",value:function(t){var e=this.viewModelStore.get(t.collectionString,t.modelId);return e?e.getListTitle():null}},{key:"onClickRow",value:function(t){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.operator.isSuperAdmin){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.timeTravelService.loadHistoryPoint(t);case 4:(n=this.viewModelStore.get(t.collectionString,t.modelId))&&Object(w.a)(n)?this.router.navigate([n.getDetailStateURL()]):(o=this.translate.instant("Cannot navigate to the selected history element."),this.raiseError(o));case 6:case"end":return e.stop()}}),e,this)})))}},{key:"getTimestamp",value:function(t){return t.getLocaleString(Object(x.a)(this.translate.currentLang))}},{key:"clearHistory",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.translate.instant("Are you sure you want delete the whole history?"),t.next=3,this.promptService.open(e);case 3:if(!t.sent){t.next=13;break}return t.prev=4,t.next=7,this.http.delete(d.a.urlPrefix+"/core/history/information/");case 7:this.refresh(),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(4),this.raiseError(t.t0);case 13:case"end":return t.stop()}}),t,this,[[4,10]])})))}},{key:"refresh",value:function(){this.currentCollection&&this.currentModelId&&this.queryByElementId("".concat(this.currentCollection,":").concat(this.currentModelId))}},{key:"parseInformation",value:function(t){if(!t.information||!t.information.length)return"";var e,n=this.translate.instant(t.information[0]);return t.information.length>1&&(e=this.translate.instant(t.information[1])),n.replace(/{arg1}/g,e)}},{key:"getUserName",value:function(t){var e=this.viewModelStore.get(W.b,t.user_id);return e?e.full_name:""}},{key:"applySearch",value:function(t){this.dataSource.filter=t}},{key:"queryByElementId",value:function(t){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.http.get(d.a.urlPrefix+"/core/history/information/",null,{type:"element",value:t});case 3:n=e.sent,this.dataSource.data=n.map((function(t){return new M(t)})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.raiseError(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})))}},{key:"currentModelId",get:function(){return this.modelSelectForm.controls.model.value}}]),l}(E.a),at.\u0275fac=function(t){return new(t||at)(X.Rb(R.c),X.Rb(T.k),X.Rb(F.a),X.Rb(y.a),X.Rb(u.f),X.Rb(v.a),X.Rb(g.a),X.Rb(h.a),X.Rb(j.g),X.Rb(S.a),X.Rb(k.a),X.Rb(u.a),X.Rb(p.a))},at.\u0275cmp=X.Lb({type:at,selectors:[["os-history-list"]],features:[X.Cb],decls:45,vars:21,consts:[[1,"title-slot"],[1,"menu-slot"],["type","button","mat-icon-button","",3,"matMenuTriggerFor",4,"osIsSuperAdmin"],[1,"os-card","spacer-bottom-60"],[1,"history-table-header"],[3,"formGroup"],["formControlName","model",3,"multiple","includeNone","placeholder","inputListValues"],[1,"spacer-left-20"],["mat-button","",3,"click",4,"ngIf"],["matInput","",3,"placeholder","keyup"],["matSuffix",""],["matSort","",1,"os-headed-listview-table",3,"dataSource"],["matColumnDef","time"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","element"],["matColumnDef","info"],["matColumnDef","user"],[4,"matHeaderRowDef"],[3,"click",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],["historyMenu","matMenu"],["mat-menu-item","",1,"red-warning-text",3,"click"],["type","button","mat-icon-button","",3,"matMenuTriggerFor"],["mat-button","",3,"click"],[4,"ngIf"],["class","no-info",3,"matTooltip",4,"ngIf"],[1,"no-info",3,"matTooltip"],[3,"click"]],template:function(t,e){1&t&&(X.Xb(0,"os-head-bar"),X.Xb(1,"div",0),X.Sc(2),X.kc(3,"translate"),X.Wb(),X.Xb(4,"div",1),X.Qc(5,N,3,1,"button",2),X.Wb(),X.Wb(),X.Xb(6,"mat-card",3),X.Xb(7,"div",4),X.Xb(8,"div"),X.Xb(9,"span",5),X.Xb(10,"mat-form-field"),X.Sb(11,"os-search-value-selector",6),X.kc(12,"translate"),X.Wb(),X.Wb(),X.Xb(13,"span",7),X.Qc(14,Y,6,3,"button",8),X.Wb(),X.Wb(),X.Xb(15,"div"),X.Xb(16,"mat-form-field"),X.Xb(17,"input",9),X.fc("keyup",(function(t){return e.applySearch(t.target.value)})),X.kc(18,"translate"),X.Wb(),X.Xb(19,"mat-icon",10),X.Sc(20,"search"),X.Wb(),X.Wb(),X.Wb(),X.Wb(),X.Xb(21,"mat-table",11),X.Vb(22,12),X.Qc(23,J,3,3,"mat-header-cell",13),X.Qc(24,q,2,1,"mat-cell",14),X.Ub(),X.Vb(25,15),X.Qc(26,z,3,3,"mat-header-cell",13),X.Qc(27,Z,3,2,"mat-cell",14),X.Ub(),X.Vb(28,16),X.Qc(29,K,3,3,"mat-header-cell",13),X.Qc(30,tt,2,1,"mat-cell",14),X.Ub(),X.Vb(31,17),X.Qc(32,et,3,3,"mat-header-cell",13),X.Qc(33,nt,2,1,"mat-cell",14),X.Ub(),X.Qc(34,ot,1,0,"mat-header-row",18),X.Qc(35,it,1,0,"mat-row",19),X.Wb(),X.Sb(36,"mat-paginator",20),X.Wb(),X.Xb(37,"mat-menu",null,21),X.Xb(39,"button",22),X.fc("click",(function(){return e.clearHistory()})),X.Xb(40,"mat-icon"),X.Sc(41,"delete"),X.Wb(),X.Xb(42,"span"),X.Sc(43),X.kc(44,"translate"),X.Wb(),X.Wb(),X.Wb()),2&t&&(X.Fb(2),X.Tc(X.lc(3,13,"History")),X.Fb(7),X.rc("formGroup",e.modelSelectForm),X.Fb(2),X.sc("placeholder",X.lc(12,15,"Motion")),X.rc("multiple",!1)("includeNone",!1)("inputListValues",e.collectionObserver),X.Fb(3),X.rc("ngIf",e.currentModelId),X.Fb(3),X.sc("placeholder",X.lc(18,17,"Search")),X.Fb(4),X.rc("dataSource",e.dataSource),X.Fb(13),X.rc("matHeaderRowDef",e.getRowDef()),X.Fb(1),X.rc("matRowDefColumns",e.getRowDef()),X.Fb(1),X.rc("pageSizeOptions",e.pageSizes),X.Fb(7),X.Tc(X.lc(44,19,"Delete whole history")))},directives:[B.a,O.a,C.a,j.u,j.l,Q.c,D.a,j.t,j.j,s.t,L.b,P.a,Q.j,f.o,_.a,f.c,f.i,f.b,f.k,f.n,U.a,H.f,H.c,G.b,H.e,f.h,f.a,V.c,f.j,f.m],pipes:[T.j],styles:[".no-info[_ngcontent-%COMP%]{font-style:italic}.history-table-header[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.os-headed-listview-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%], .os-headed-listview-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px}"]}),at),pathMatch:"full"}],st=((ct=function t(){a(this,t)}).\u0275mod=X.Pb({type:ct}),ct.\u0275inj=X.Ob({factory:function(t){return new(t||ct)},imports:[[u.j.forChild(lt)],u.j]}),ct),ut=l("PCNd"),bt=((rt=function t(){a(this,t)}).\u0275mod=X.Pb({type:rt}),rt.\u0275inj=X.Ob({factory:function(t){return new(t||rt)},imports:[[s.c,st,ut.a]]}),rt)}}])}();