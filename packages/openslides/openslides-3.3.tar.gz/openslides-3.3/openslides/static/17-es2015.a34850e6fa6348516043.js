(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"5go9":function(t,e,n){"use strict";n.d(e,"a",(function(){return K}));var o=n("mrSG"),s=n("OwvW"),i=n("tCBf"),l=n("F48D"),c=n("M0z7"),a=n("HRp2"),r=n("qnZ9"),b=n("Xqcw"),u=n("avkN"),g=n("8Y7J"),p=n("cUpR"),d=n("TSSN"),h=n("zHaW"),f=n("SVse"),m=n("BSbQ"),v=n("Dxy4"),F=n("Tj54"),_=n("pu8Q");const C=function(t){return{delegation:t}};function P(t,e){if(1&t&&(g.Xb(0,"div",6),g.Sb(1,"mat-divider"),g.Tb(2,7),g.Wb()),2&t){const t=e.$implicit;g.jc(3);const n=g.Cc(2);g.Fb(2),g.rc("ngTemplateOutlet",n)("ngTemplateOutletContext",g.xc(2,C,t))}}function O(t,e){if(1&t&&(g.Vb(0),g.Qc(1,P,3,4,"div",5),g.Ub()),2&t){const t=g.jc(2);g.Fb(1),g.rc("ngForOf",t.delegations)}}function V(t,e){if(1&t&&(g.Vb(0),g.Tb(1,4),g.Qc(2,O,2,1,"ng-container",0),g.Ub()),2&t){const t=g.jc(),e=g.Cc(2);g.Fb(1),g.rc("ngTemplateOutlet",e),g.Fb(1),g.rc("ngIf",t.user.is_present)}}function S(t,e){if(1&t&&(g.Xb(0,"h4",10),g.Xb(1,"span"),g.Sc(2),g.kc(3,"translate"),g.Wb(),g.Xb(4,"span"),g.Sc(5),g.Wb(),g.Wb()),2&t){const t=g.jc().delegation;g.Fb(2),g.Tc(g.lc(3,2,"Voting right for")),g.Fb(3),g.Uc("\xa0",t.getFullName(),"")}}function W(t,e){if(1&t&&(g.Xb(0,"p"),g.Xb(1,"i"),g.Sc(2),g.Wb(),g.Wb()),2&t){const t=g.jc(3);g.Fb(2),g.Tc(t.pollHint)}}function k(t,e){if(1&t&&(g.Xb(0,"h4"),g.Sc(1),g.kc(2,"translate"),g.Xb(3,"b"),g.Sc(4),g.Wb(),g.Wb()),2&t){const t=g.jc(2).delegation,e=g.jc();g.Fb(1),g.Uc(" ",g.lc(2,3,"Available votes"),": "),g.Fb(3),g.Vc(" ",e.getVotesAvailable(t),"/",e.poll.votes_amount," ")}}function X(t,e){if(1&t&&(g.Xb(0,"div",15),g.Sc(1),g.Wb()),2&t){const t=g.jc(3).$implicit;g.Fb(1),g.Uc(" ",t.user.getLevelAndNumber()," ")}}function M(t,e){if(1&t&&(g.Xb(0,"span"),g.Xb(1,"span"),g.Sc(2),g.Wb(),g.Qc(3,X,2,1,"div",14),g.Wb()),2&t){const t=g.jc(2).$implicit;g.Fb(2),g.Tc(t.user.short_name),g.Fb(1),g.rc("ngIf",t.user.getLevelAndNumber())}}function j(t,e){if(1&t&&(g.Xb(0,"i"),g.Sc(1),g.kc(2,"translate"),g.Wb()),2&t){const t=g.jc(5);g.Fb(1),g.Tc(g.lc(2,1,t.unknownUserLabel))}}function y(t,e){if(1&t&&(g.Xb(0,"span",18),g.Sc(1),g.kc(2,"translate"),g.Wb()),2&t){const t=g.jc().$implicit;g.Fb(1),g.Uc(" ",g.lc(2,1,t.label)," ")}}function w(t,e){if(1&t){const t=g.Yb();g.Xb(0,"div"),g.Xb(1,"button",16),g.fc("click",(function(){g.Gc(t);const n=e.$implicit,o=g.jc(2).$implicit,s=g.jc(2).delegation;return g.jc().saveSingleVote(o.id,n.vote,s)})),g.Xb(2,"mat-icon"),g.Sc(3),g.Wb(),g.Wb(),g.Qc(4,y,3,3,"span",17),g.Wb()}if(2&t){const t=e.$implicit,n=g.jc(2).$implicit,o=g.jc(2).delegation,s=g.jc();g.Fb(1),g.rc("disabled",s.isDeliveringVote(o))("ngClass",s.getActionButtonClass(t,n,o)),g.Fb(2),g.Uc(" ",t.icon,""),g.Fb(1),g.rc("ngIf",s.poll.isMethodYN||s.poll.isMethodYNA)}}function I(t,e){1&t&&g.Sb(0,"mat-divider")}const R=function(t,e,n){return{"yna-grid":t,"yn-grid":e,"single-vote-grid":n}};function Q(t,e){if(1&t&&(g.Xb(0,"div"),g.Xb(1,"div",12),g.Xb(2,"div",13),g.Qc(3,M,4,2,"span",0),g.Qc(4,j,3,3,"i",0),g.Wb(),g.Qc(5,w,5,4,"div",11),g.Wb(),g.Qc(6,I,1,0,"mat-divider",0),g.Wb()),2&t){const t=g.jc(),e=t.$implicit,n=t.index,o=g.jc(3);g.Fb(1),g.rc("ngClass",g.zc(5,R,o.poll.isMethodYNA,o.poll.isMethodYN,o.poll.isMethodY||o.poll.isMethodN)),g.Fb(2),g.rc("ngIf",e.user),g.Fb(1),g.rc("ngIf",!e.user),g.Fb(1),g.rc("ngForOf",o.voteActions),g.Fb(1),g.rc("ngIf",o.poll.options.length-1>n)}}function N(t,e){if(1&t&&(g.Xb(0,"div"),g.Qc(1,Q,7,9,"div",0),g.Wb()),2&t){const t=e.$implicit,n=g.jc(3);g.Fb(1),g.rc("ngIf",n.poll.type!==n.PollType.Pseudoanonymous||!t.user_has_voted)}}function D(t,e){if(1&t){const t=g.Yb();g.Xb(0,"div"),g.Xb(1,"button",20),g.fc("click",(function(){g.Gc(t);const e=g.jc(3).delegation;return g.jc().saveGlobalVote("Y",e)})),g.Xb(2,"mat-icon"),g.Sc(3,"thumb_up"),g.Wb(),g.Wb(),g.Xb(4,"span",18),g.Sc(5),g.kc(6,"translate"),g.Wb(),g.Wb()}if(2&t){const t=g.jc(3).delegation,e=g.jc();g.Fb(1),g.rc("ngClass",e.getGlobalYesClass(t))("disabled",e.isDeliveringVote(t)),g.Fb(4),g.Uc(" ",g.lc(6,3,e.PollPropertyVerbose.global_yes)," ")}}function T(t,e){if(1&t){const t=g.Yb();g.Xb(0,"div"),g.Xb(1,"button",20),g.fc("click",(function(){g.Gc(t);const e=g.jc(3).delegation;return g.jc().saveGlobalVote("N",e)})),g.Xb(2,"mat-icon"),g.Sc(3,"thumb_down"),g.Wb(),g.Wb(),g.Xb(4,"span",18),g.Sc(5),g.kc(6,"translate"),g.Wb(),g.Wb()}if(2&t){const t=g.jc(3).delegation,e=g.jc();g.Fb(1),g.rc("ngClass",e.getGlobalNoClass(t))("disabled",e.isDeliveringVote(t)),g.Fb(4),g.Uc(" ",g.lc(6,3,e.PollPropertyVerbose.global_no)," ")}}function x(t,e){if(1&t){const t=g.Yb();g.Xb(0,"div"),g.Xb(1,"button",20),g.fc("click",(function(){g.Gc(t);const e=g.jc(3).delegation;return g.jc().saveGlobalVote("A",e)})),g.Xb(2,"mat-icon"),g.Sc(3,"trip_origin"),g.Wb(),g.Wb(),g.Xb(4,"span",18),g.Sc(5),g.kc(6,"translate"),g.Wb(),g.Wb()}if(2&t){const t=g.jc(3).delegation,e=g.jc();g.Fb(1),g.rc("ngClass",e.getGlobalAbstainClass(t))("disabled",e.isDeliveringVote(t)),g.Fb(4),g.Uc(" ",g.lc(6,3,e.PollPropertyVerbose.global_abstain)," ")}}function A(t,e){if(1&t&&(g.Vb(0),g.Sb(1,"mat-divider"),g.Xb(2,"div",19),g.Qc(3,D,7,5,"div",0),g.Qc(4,T,7,5,"div",0),g.Qc(5,x,7,5,"div",0),g.Wb(),g.Ub()),2&t){const t=g.jc(3);g.Fb(3),g.rc("ngIf",t.poll.global_yes),g.Fb(1),g.rc("ngIf",t.poll.global_no),g.Fb(1),g.rc("ngIf",t.poll.global_abstain)}}function Y(t,e){if(1&t&&(g.Vb(0),g.Qc(1,W,3,1,"p",0),g.Qc(2,k,5,5,"h4",0),g.Qc(3,N,2,1,"div",11),g.Qc(4,A,6,3,"ng-container",0),g.Tb(5,7),g.Ub()),2&t){const t=g.jc().delegation,e=g.jc(),n=g.Cc(6);g.Fb(1),g.rc("ngIf",e.pollHint),g.Fb(1),g.rc("ngIf",(e.poll.isMethodY||e.poll.isMethodN)&&e.poll.votes_amount>1),g.Fb(1),g.rc("ngForOf",e.poll.options),g.Fb(1),g.rc("ngIf",(e.poll.isMethodY||e.poll.isMethodN)&&(e.poll.global_yes||e.poll.global_no||e.poll.global_abstain)),g.Fb(1),g.rc("ngTemplateOutlet",n)("ngTemplateOutletContext",g.xc(6,C,t))}}function U(t,e){if(1&t&&g.Tb(0,7),2&t){const t=g.jc().delegation;g.jc();const e=g.Cc(4);g.rc("ngTemplateOutlet",e)("ngTemplateOutletContext",g.xc(2,C,t))}}function L(t,e){if(1&t&&(g.Qc(0,S,6,4,"h4",8),g.Qc(1,Y,6,8,"ng-container",0),g.Qc(2,U,1,4,"ng-container",9)),2&t){const t=e.delegation,n=g.jc();g.rc("ngIf",t),g.Fb(1),g.rc("ngIf",n.canVote(t)),g.Fb(1),g.rc("ngIf",!n.canVote(t))}}function q(t,e){1&t&&(g.Xb(0,"div"),g.Xb(1,"mat-icon",23),g.Sc(2," check_circle "),g.Wb(),g.Sb(3,"br"),g.Xb(4,"span"),g.Sc(5),g.kc(6,"translate"),g.Wb(),g.Wb()),2&t&&(g.Fb(5),g.Tc(g.lc(6,1,"Voting successful.")))}function G(t,e){1&t&&(g.Xb(0,"div",24),g.Sb(1,"mat-spinner",25),g.Sb(2,"br"),g.Xb(3,"span"),g.Sc(4),g.kc(5,"translate"),g.Wb(),g.Wb()),2&t&&(g.Fb(4),g.Tc(g.lc(5,1,"Delivering vote... Please wait!")))}function H(t,e){if(1&t&&(g.Xb(0,"div"),g.Xb(1,"span"),g.Sc(2),g.kc(3,"translate"),g.Wb(),g.Wb()),2&t){const t=g.jc().delegation,e=g.jc();g.Fb(2),g.Tc(g.lc(3,1,e.getVotingError(t)))}}function $(t,e){if(1&t&&(g.Xb(0,"div",21),g.Qc(1,q,7,3,"div",0),g.Qc(2,G,6,3,"div",22),g.Qc(3,H,4,3,"div",0),g.Wb()),2&t){const t=e.delegation,n=g.jc();g.Fb(1),g.rc("ngIf",n.hasAlreadyVoted(t)&&!n.isDeliveringVote(t)),g.Fb(1),g.rc("ngIf",n.isDeliveringVote(t)),g.Fb(1),g.rc("ngIf",!n.hasAlreadyVoted(t)&&!n.isDeliveringVote(t))}}function E(t,e){if(1&t){const t=g.Yb();g.Xb(0,"div",21),g.Xb(1,"button",26),g.fc("click",(function(){g.Gc(t);const n=e.delegation;return g.jc().submitVote(n)})),g.Xb(2,"mat-icon"),g.Sc(3," how_to_vote "),g.Wb(),g.Xb(4,"span"),g.Sc(5),g.kc(6,"translate"),g.Wb(),g.Wb(),g.Wb()}if(2&t){const t=e.delegation,n=g.jc();g.Fb(1),g.rc("disabled",0==n.getVotesCount(t)),g.Fb(4),g.Uc(" ",g.lc(6,2,"Submit vote now")," ")}}const B={vote:"Y",css:"voted-yes",icon:"thumb_up",label:"Yes"},z={vote:"N",css:"voted-no",icon:"thumb_down",label:"No"},J={vote:"A",css:"voted-abstain",icon:"trip_origin",label:"Abstain"};let K=(()=>{class t extends b.a{constructor(t,e,n,o,s,i,l,c){super(t,e,n,o,s),this.translate=e,this.pollRepo=i,this.promptService=l,this.cd=c,this.unknownUserLabel=u.b,this.AssignmentPollMethod=a.b,this.PollType=r.f,this.voteActions=[],this.subscriptions.push(o.getViewUserObservable().subscribe(()=>{this.cd.markForCheck()}))}get pollHint(){return this.poll.assignment.default_poll_description}ngOnInit(){this.createVotingDataObjects(),this.defineVoteOptions(),this.cd.markForCheck()}getActionButtonClass(t,e,n=this.user){var o,s;return(null===(o=this.voteRequestData[n.id])||void 0===o?void 0:o.votes[e.id])===t.vote||1===(null===(s=this.voteRequestData[n.id])||void 0===s?void 0:s.votes[e.id])?t.css:""}getGlobalYesClass(t=this.user){var e;return"Y"===(null===(e=this.voteRequestData[t.id])||void 0===e?void 0:e.global)?"voted-yes":""}getGlobalAbstainClass(t=this.user){var e;return"A"===(null===(e=this.voteRequestData[t.id])||void 0===e?void 0:e.global)?"voted-abstain":""}getGlobalNoClass(t=this.user){var e;return"N"===(null===(e=this.voteRequestData[t.id])||void 0===e?void 0:e.global)?"voted-no":""}defineVoteOptions(){this.poll&&(this.poll.isMethodN?this.voteActions.push(z):(this.voteActions.push(B),this.poll.isMethodY||this.voteActions.push(z),this.poll.isMethodYNA&&this.voteActions.push(J)))}getVotesCount(t=this.user){if(this.voteRequestData[t.id])return Object.keys(this.voteRequestData[t.id].votes).filter(e=>this.voteRequestData[t.id].votes[e]).length}getVotesAvailable(t=this.user){return this.poll.votes_amount-this.getVotesCount(t)}isGlobalOptionSelected(t=this.user){var e;return!!(null===(e=this.voteRequestData[t.id])||void 0===e?void 0:e.global)}submitVote(t=this.user){return Object(o.a)(this,void 0,void 0,(function*(){const e=this.translate.instant("Submit selection now?"),n=this.translate.instant("Your decision cannot be changed afterwards.");(yield this.promptService.open(e,n))&&(this.deliveringVote[t.id]=!0,this.cd.markForCheck(),this.pollRepo.vote(this.voteRequestData[t.id],this.poll.id,t.id).then(()=>{this.alreadyVoted[t.id]=!0}).catch(this.raiseError).finally(()=>{this.deliveringVote[t.id]=!1}))}))}saveSingleVote(t,e,n=this.user){if(!this.voteRequestData[n.id])throw new Error("The user for your voting request does not exist");if(this.isGlobalOptionSelected(n)&&delete this.voteRequestData[n.id].global,this.poll.isMethodY||this.poll.isMethodN){const e=this.poll.votes_amount,o=this.poll.options.map(t=>t.id).reduce((o,s)=>(o[s]=0,1===e?s===t&&1!==this.voteRequestData[n.id].votes[s]&&(o[s]=1):s===t!=(1===this.voteRequestData[n.id].votes[s])&&(o[s]=1),o),{});Object.keys(o).filter(t=>o[t]).length<=e?(this.voteRequestData[n.id].votes=o,this.getVotesCount(n)===e&&this.submitVote(n)):this.raiseError(this.translate.instant("You reached the maximum amount of votes. Deselect somebody first."))}else this.voteRequestData[n.id].votes[t]&&this.voteRequestData[n.id].votes[t]===e?delete this.voteRequestData[n.id].votes[t]:this.voteRequestData[n.id].votes[t]=e,Object.keys(this.voteRequestData[n.id].votes).length===this.poll.options.length&&this.submitVote(n)}saveGlobalVote(t,e=this.user){this.voteRequestData[e.id].votes={},this.voteRequestData[e.id].global&&this.voteRequestData[e.id].global===t?delete this.voteRequestData[e.id].global:(this.voteRequestData[e.id].global=t,this.submitVote(e))}}return t.\u0275fac=function(e){return new(e||t)(g.Rb(p.c),g.Rb(d.k),g.Rb(h.a),g.Rb(s.a),g.Rb(c.b),g.Rb(i.a),g.Rb(l.a),g.Rb(g.h))},t.\u0275cmp=g.Lb({type:t,selectors:[["os-assignment-poll-vote"]],features:[g.Cb],decls:7,vars:1,consts:[[4,"ngIf"],["votingArea",""],["cannotVote",""],["sendNow",""],[3,"ngTemplateOutlet"],["class","assignment-vote-delegation",4,"ngFor","ngForOf"],[1,"assignment-vote-delegation"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","assignment-delegation-title",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[1,"assignment-delegation-title"],[4,"ngFor","ngForOf"],[3,"ngClass"],[1,"vote-candidate-name"],["class","user-subtitle",4,"ngIf"],[1,"user-subtitle"],["mat-raised-button","",1,"vote-button",3,"disabled","ngClass","click"],["class","vote-label",4,"ngIf"],[1,"vote-label"],[1,"global-option-grid"],["mat-raised-button","",1,"vote-button",3,"ngClass","disabled","click"],[1,"centered-button-wrapper"],["class","submit-vote-indicator",4,"ngIf"],[1,"vote-submitted"],[1,"submit-vote-indicator"],[1,"small-spinner"],["mat-flat-button","","color","accent",3,"disabled","click"]],template:function(t,e){1&t&&(g.Qc(0,V,3,2,"ng-container",0),g.Qc(1,L,3,3,"ng-template",null,1,g.Rc),g.Qc(3,$,4,3,"ng-template",null,2,g.Rc),g.Qc(5,E,7,4,"ng-template",null,3,g.Rc)),2&t&&g.rc("ngIf",e.poll)},directives:[f.t,f.A,f.s,m.a,f.q,v.b,F.a,_.c],pipes:[d.j],styles:['.yes[_ngcontent-%COMP%]{color:#4caf50}.no[_ngcontent-%COMP%]{color:#cc6c5b}.abstain[_ngcontent-%COMP%]{color:#a6a6a6}.voted-yes[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.voted-no[_ngcontent-%COMP%]{background-color:#cc6c5b;color:#fff}.voted-abstain[_ngcontent-%COMP%]{background-color:#a6a6a6;color:#fff}.start-poll-button[_ngcontent-%COMP%]{color:#4caf50}.stop-poll-button[_ngcontent-%COMP%]{color:#ff5252}.publish-poll-button[_ngcontent-%COMP%]{color:#e6b100}.global-option-grid[_ngcontent-%COMP%], .single-vote-grid[_ngcontent-%COMP%], .yn-grid[_ngcontent-%COMP%], .yna-grid[_ngcontent-%COMP%]{display:grid;grid-gap:10px;margin:20px 0}.assignment-vote-delegation[_ngcontent-%COMP%]{margin-top:1em}.assignment-vote-delegation[_ngcontent-%COMP%]   .assignment-delegation-title[_ngcontent-%COMP%]{font-weight:500}.yn-grid[_ngcontent-%COMP%]{grid-template-areas:"name name" "yes no"}.yna-grid[_ngcontent-%COMP%]{grid-template-areas:"name name name" "yes no abstain"}.single-vote-grid[_ngcontent-%COMP%]{grid-template-areas:"yes name";grid-template-columns:-webkit-min-content auto;grid-template-columns:min-content auto}.global-option-grid[_ngcontent-%COMP%]{grid-template-columns:auto auto}.vote-candidate-name[_ngcontent-%COMP%]{grid-area:name;display:-ms-flexbox;display:flex}.vote-candidate-name[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .vote-candidate-name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto}.centered-button-wrapper[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;text-align:center}.centered-button-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.centered-button-wrapper[_ngcontent-%COMP%]   .vote-submitted[_ngcontent-%COMP%]{color:#4caf50;font-size:200%}.vote-button[_ngcontent-%COMP%]{min-width:50px;min-height:50px}.vote-label[_ngcontent-%COMP%]{margin-left:10px}.mat-divider-horizontal[_ngcontent-%COMP%]{position:static}.submit-vote-indicator[_ngcontent-%COMP%]{text-align:center}.submit-vote-indicator[_ngcontent-%COMP%]   .mat-spinner[_ngcontent-%COMP%]{margin:auto}'],changeDetection:0}),t})()},"Cr6+":function(t,e,n){"use strict";n.d(e,"a",(function(){return x}));var o=n("TG9O"),s=n("DNKu"),i=n("s7LF"),l=n("iELJ"),c=n("Kj3r"),a=n("/uUt"),r=n("HRp2"),b=n("qnZ9"),u=n("YIhf"),g=n("aOHa"),p=n("b1ae"),d=n("5NaA"),h=n("8fOK"),f=n("avkN"),m=n("8Y7J"),v=n("cUpR"),F=n("TSSN"),_=n("zHaW"),C=n("SVse"),P=n("Dxy4"),O=n("pMoy"),V=n("acT5"),S=n("Q2Ze");const W=["pollForm"];function k(t,e){if(1&t&&(m.Xb(0,"span"),m.Sc(1),m.Wb()),2&t){const t=m.jc().$implicit;m.Fb(1),m.Tc(t.user.getFullName())}}function X(t,e){if(1&t&&(m.Xb(0,"i"),m.Sc(1),m.kc(2,"translate"),m.Wb()),2&t){const t=m.jc(3);m.Fb(1),m.Tc(m.lc(2,1,t.unknownUserLabel))}}function M(t,e){if(1&t&&(m.Xb(0,"div",16),m.Sb(1,"os-check-input",17),m.kc(2,"translate"),m.kc(3,"translate"),m.Wb()),2&t){const t=e.$implicit,n=m.jc().$implicit,o=m.jc(2);m.rc("formGroupName",n.user_id),m.Fb(1),m.rc("placeholder",m.lc(2,5,o.voteValueVerbose[t]))("checkboxValue",-1)("checkboxLabel",m.lc(3,7,"majority"))("formControlName",t)}}function j(t,e){if(1&t&&(m.Xb(0,"div",14),m.Xb(1,"div"),m.Qc(2,k,2,1,"span",2),m.Qc(3,X,3,3,"i",2),m.Wb(),m.Xb(4,"div"),m.Qc(5,M,4,9,"div",15),m.Wb(),m.Wb()),2&t){const t=e.$implicit,n=m.jc(2);m.Fb(2),m.rc("ngIf",t.user),m.Fb(1),m.rc("ngIf",!t.user),m.Fb(2),m.rc("ngForOf",n.analogPollValues)}}function y(t,e){if(1&t&&(m.Xb(0,"div",14),m.Sb(1,"div"),m.Sb(2,"os-check-input",17),m.kc(3,"translate"),m.kc(4,"translate"),m.Wb()),2&t){const t=e.$implicit,n=m.jc(2);m.Fb(2),m.rc("placeholder",m.lc(3,4,n.generalValueVerbose[t]))("checkboxValue",-1)("checkboxLabel",m.lc(4,6,"majority"))("formControlName",t)}}function w(t,e){if(1&t&&(m.Sb(0,"os-check-input",18),m.kc(1,"translate"),m.kc(2,"translate")),2&t){const t=m.jc(2);m.sc("placeholder",m.lc(1,3,t.PollPropertyVerbose.global_yes)),m.rc("checkboxValue",-1)("checkboxLabel",m.lc(2,5,"majority"))}}function I(t,e){if(1&t&&(m.Sb(0,"os-check-input",19),m.kc(1,"translate"),m.kc(2,"translate")),2&t){const t=m.jc(2);m.sc("placeholder",m.lc(1,3,t.PollPropertyVerbose.global_no)),m.rc("checkboxValue",-1)("checkboxLabel",m.lc(2,5,"majority"))}}function R(t,e){if(1&t&&(m.Sb(0,"os-check-input",20),m.kc(1,"translate"),m.kc(2,"translate")),2&t){const t=m.jc(2);m.sc("placeholder",m.lc(1,3,t.PollPropertyVerbose.global_abstain)),m.rc("checkboxValue",-1)("checkboxLabel",m.lc(2,5,"majority"))}}function Q(t,e){1&t&&(m.Xb(0,"mat-error"),m.Sc(1),m.kc(2,"translate"),m.Wb()),2&t&&(m.Fb(1),m.Uc(" ",m.lc(2,1,"Error in form field."),""))}function N(t,e){if(1&t){const t=m.Yb();m.Vb(0),m.Xb(1,"form",6),m.Xb(2,"div",7),m.Qc(3,j,6,3,"div",8),m.Wb(),m.Qc(4,y,5,8,"div",8),m.Xb(5,"div"),m.Qc(6,w,3,7,"os-check-input",9),m.Qc(7,I,3,7,"os-check-input",10),m.Qc(8,R,3,7,"os-check-input",11),m.Wb(),m.Wb(),m.Xb(9,"div",12),m.Xb(10,"mat-checkbox",13),m.fc("ngModelChange",(function(e){return m.Gc(t),m.jc().publishImmediately=e}))("change",(function(e){return m.Gc(t),m.jc().publishStateChanged(e.checked)})),m.Xb(11,"span"),m.Sc(12),m.kc(13,"translate"),m.Wb(),m.Wb(),m.Qc(14,Q,3,3,"mat-error",2),m.Wb(),m.Ub()}if(2&t){const t=m.jc();m.Fb(1),m.rc("formGroup",t.dialogVoteForm),m.Fb(2),m.rc("ngForOf",t.options),m.Fb(1),m.rc("ngForOf",t.sumValues),m.Fb(2),m.rc("ngIf",t.globalYesEnabled),m.Fb(1),m.rc("ngIf",t.globalNoEnabled),m.Fb(1),m.rc("ngIf",t.globalAbstainEnabled),m.Fb(2),m.rc("ngModel",t.publishImmediately),m.Fb(2),m.Tc(m.lc(13,9,"Publish immediately")),m.Fb(2),m.rc("ngIf",!t.dialogVoteForm.valid)}}function D(t,e){if(1&t){const t=m.Yb();m.Xb(0,"button",21),m.fc("click",(function(){return m.Gc(t),m.jc().submitPoll()})),m.Xb(1,"span"),m.Sc(2),m.kc(3,"translate"),m.Wb(),m.Wb()}if(2&t){const t=m.jc(),e=m.Cc(1);m.rc("disabled",e.contentForm.invalid||t.dialogVoteForm.invalid),m.Fb(2),m.Tc(m.lc(3,2,"Save"))}}let T=(()=>{class t extends p.a{constructor(t,e,n,o,s,i,l){super(e,n,o,s),this.fb=t,this.translate=n,this.dialogRef=s,this.assignmentPollService=i,this.pollData=l,this.unknownUserLabel=f.b,this.voteValueVerbose=u.c,this.generalValueVerbose=u.b,this.PollPropertyVerbose=h.d,this.AssignmentPollMethodVerbose=g.a,this.AssignmentPollPercentBaseVerbose=g.b}get sumValues(){return["votesvalid","votesinvalid","votescast"]}get isAnalogPoll(){return this.pollForm&&this.pollForm.contentForm&&this.pollForm.contentForm.get("type").value===b.f.Analog}ngOnInit(){this.pollData&&(this.pollData.options?this.options=this.pollData.options:this.pollData.assignment&&this.pollData.assignment.candidates&&this.pollData.assignment.candidates.length&&(this.options=this.pollData.assignment.candidates.map(t=>({user_id:t.id,user:t}),{}))),this.subscriptions.push(this.pollForm.contentForm.valueChanges.pipe(Object(c.a)(150),Object(a.a)()).subscribe(()=>{this.createDialog()}))}setAnalogPollValues(){const t=this.pollForm.contentForm.get("pollmethod").value;this.globalYesEnabled=this.pollForm.contentForm.get("global_yes").value,this.globalNoEnabled=this.pollForm.contentForm.get("global_no").value,this.globalAbstainEnabled=this.pollForm.contentForm.get("global_abstain").value;const e=[];t===r.b.N?e.push("N"):(e.push("Y"),t!==r.b.Y&&e.push("N"),t===r.b.YNA&&e.push("A")),this.analogPollValues=e}updateDialogVoteForm(t){const e={options:{},votesvalid:t.votesvalid,votesinvalid:t.votesinvalid,votescast:t.votescast,amount_global_yes:t.amount_global_yes,amount_global_no:t.amount_global_no,amount_global_abstain:t.amount_global_abstain};for(const n of t.options){const o={};o.Y=n.yes,t.pollmethod!==r.b.Y&&(o.N=n.no),t.pollmethod===r.b.YNA&&(o.A=n.abstain),e.options[n.user_id]=o}if(this.dialogVoteForm){const t=this.undoReplaceEmptyValues(e);this.dialogVoteForm.patchValue(t)}}createDialog(){this.setAnalogPollValues(),this.dialogVoteForm=this.fb.group(Object.assign({options:this.fb.group(this.options.mapToObject(t=>({[t.user_id]:this.fb.group(this.analogPollValues.mapToObject(t=>({[t]:["",[i.H.min(b.b)]]})))}))),amount_global_yes:["",[i.H.min(b.b)]],amount_global_no:["",[i.H.min(b.b)]],amount_global_abstain:["",[i.H.min(b.b)]]},this.sumValues.mapToObject(t=>({[t]:["",[i.H.min(b.b)]]})))),this.isAnalogPoll&&this.pollData.poll&&this.updateDialogVoteForm(this.pollData)}}return t.\u0275fac=function(e){return new(e||t)(m.Rb(i.g),m.Rb(v.c),m.Rb(F.k),m.Rb(_.a),m.Rb(l.h),m.Rb(f.a),m.Rb(l.a))},t.\u0275cmp=m.Lb({type:t,selectors:[["os-assignment-poll-dialog"]],viewQuery:function(t,e){var n;1&t&&m.Mc(W,!0),2&t&&m.Bc(n=m.gc())&&(e.pollForm=n.first)},features:[m.Cb],decls:9,vars:10,consts:[[3,"data","pollService","pollMethods","percentBases"],["pollForm",""],[4,"ngIf"],["mat-dialog-actions",""],["mat-button","",3,"disabled","click",4,"ngIf"],["mat-button","",3,"mat-dialog-close"],[3,"formGroup"],["formGroupName","options"],["class","votes-grid",4,"ngFor","ngForOf"],["inputType","number","formControlName","amount_global_yes",3,"placeholder","checkboxValue","checkboxLabel",4,"ngIf"],["inputType","number","formControlName","amount_global_no",3,"placeholder","checkboxValue","checkboxLabel",4,"ngIf"],["inputType","number","formControlName","amount_global_abstain",3,"placeholder","checkboxValue","checkboxLabel",4,"ngIf"],[1,"spacer-top-20"],[3,"ngModel","ngModelChange","change"],[1,"votes-grid"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"formGroupName"],["inputType","number",3,"placeholder","checkboxValue","checkboxLabel","formControlName"],["inputType","number","formControlName","amount_global_yes",3,"placeholder","checkboxValue","checkboxLabel"],["inputType","number","formControlName","amount_global_no",3,"placeholder","checkboxValue","checkboxLabel"],["inputType","number","formControlName","amount_global_abstain",3,"placeholder","checkboxValue","checkboxLabel"],["mat-button","",3,"disabled","click"]],template:function(t,e){if(1&t&&(m.Sb(0,"os-poll-form",0,1),m.Qc(2,N,15,11,"ng-container",2),m.Xb(3,"div",3),m.Qc(4,D,4,4,"button",4),m.Xb(5,"button",5),m.Xb(6,"span"),m.Sc(7),m.kc(8,"translate"),m.Wb(),m.Wb(),m.Wb()),2&t){const t=m.Cc(1);m.rc("data",e.pollData)("pollService",e.assignmentPollService)("pollMethods",e.AssignmentPollMethodVerbose)("percentBases",e.AssignmentPollPercentBaseVerbose),m.Fb(2),m.rc("ngIf",e.isAnalogPoll&&e.dialogVoteForm),m.Fb(2),m.rc("ngIf",t&&e.dialogVoteForm&&t.contentForm),m.Fb(1),m.rc("mat-dialog-close",!1),m.Fb(2),m.Tc(m.lc(8,8,"Cancel"))}},directives:[d.a,C.t,l.c,P.b,l.d,i.J,i.u,i.l,i.m,C.s,O.a,i.t,i.w,V.a,i.j,S.b],pipes:[F.j],styles:[".votes-grid[_ngcontent-%COMP%]{display:grid;grid-gap:5px;margin-bottom:10px;-ms-flex-align:baseline;align-items:baseline;grid-template-columns:auto -webkit-max-content;grid-template-columns:auto max-content}.votes-grid[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),t})(),x=(()=>{class t extends s.a{constructor(t,e){super(t,e),this.dialogComponent=T}}return t.\u0275fac=function(e){return new(e||t)(m.bc(l.b),m.bc(o.a))},t.\u0275prov=m.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},DGQJ:function(t,e,n){"use strict";n.d(e,"a",(function(){return w}));var o=n("w7eE"),s=n("OwvW"),i=n("HRp2"),l=n("qnZ9"),c=n("avkN"),a=n("8Y7J"),r=n("cUpR"),b=n("TSSN"),u=n("SVse"),g=n("6ako"),p=n("QUb3"),d=n("j7f2");function h(t,e){1&t&&(a.Xb(0,"span"),a.Sc(1),a.kc(2,"translate"),a.Wb()),2&t&&(a.Fb(1),a.Uc(" ",a.lc(2,1,"Yes")," "))}function f(t,e){1&t&&(a.Xb(0,"span"),a.Sc(1),a.kc(2,"translate"),a.Wb()),2&t&&(a.Fb(1),a.Uc(" ",a.lc(2,1,"Votes")," "))}function m(t,e){if(1&t&&(a.Xb(0,"th",8),a.Qc(1,h,3,3,"span",0),a.Qc(2,f,3,3,"span",0),a.Wb()),2&t){const t=a.jc(3);a.Fb(1),a.rc("ngIf",!t.isMethodY),a.Fb(1),a.rc("ngIf",t.isMethodY)}}function v(t,e){1&t&&(a.Xb(0,"span",12),a.Sc(1),a.kc(2,"translate"),a.Wb()),2&t&&(a.Fb(1),a.Uc(" ",a.lc(2,1,"No")," "))}function F(t,e){1&t&&(a.Xb(0,"span",13),a.Sc(1),a.kc(2,"translate"),a.Wb()),2&t&&(a.Fb(1),a.Uc(" ",a.lc(2,1,"Votes")," "))}function _(t,e){if(1&t&&(a.Xb(0,"th",9),a.Qc(1,v,3,3,"span",10),a.Qc(2,F,3,3,"span",11),a.Wb()),2&t){const t=a.jc(3);a.Fb(1),a.rc("ngIf",!t.isMethodN),a.Fb(1),a.rc("ngIf",t.isMethodN)}}function C(t,e){1&t&&(a.Xb(0,"th",14),a.Sc(1),a.kc(2,"translate"),a.Wb()),2&t&&(a.Fb(1),a.Tc(a.lc(2,1,"Abstain")))}function P(t,e){if(1&t&&(a.Xb(0,"span",17),a.Sb(1,"br"),a.Sc(2),a.Wb()),2&t){const t=a.jc().$implicit;a.Fb(2),a.Uc(" ",t.votingOptionSubtitle," ")}}function O(t,e){if(1&t&&(a.Xb(0,"span"),a.Sc(1),a.kc(2,"pollPercentBase"),a.Wb()),2&t){const t=a.jc().$implicit,e=a.jc().$implicit,n=a.jc(3);a.Fb(1),a.Uc(" ",a.nc(2,1,n.getVoteAmount(t,e),n.poll,"assignment")," ")}}function V(t,e){if(1&t&&(a.Xb(0,"span"),a.Sc(1),a.kc(2,"parsePollNumber"),a.Wb()),2&t){const t=a.jc().$implicit,e=a.jc().$implicit,n=a.jc(3);a.Fb(1),a.Uc(" ",a.lc(2,1,n.getVoteAmount(t,e))," ")}}function S(t,e){if(1&t&&(a.Xb(0,"span"),a.Sc(1),a.kc(2,"parsePollNumber"),a.Wb()),2&t){const t=a.jc().$implicit;a.Fb(1),a.Uc(" ",a.lc(2,1,t.amount)," ")}}function W(t,e){if(1&t&&(a.Xb(0,"td",9),a.Xb(1,"div",18),a.Xb(2,"span"),a.Qc(3,O,3,5,"span",0),a.Qc(4,V,3,3,"span",0),a.Qc(5,S,3,3,"span",0),a.Wb(),a.Wb(),a.Wb()),2&t){const t=e.$implicit,n=a.jc().$implicit,o=a.jc(3);a.Fb(1),a.rc("ngClass",o.getVoteClass(t)),a.Fb(2),a.rc("ngIf",t.showPercent),a.Fb(1),a.rc("ngIf","user"===n.class),a.Fb(1),a.rc("ngIf","user"!==n.class)}}function k(t,e){if(1&t&&(a.Xb(0,"tr"),a.Xb(1,"td",3),a.Xb(2,"div"),a.Xb(3,"span"),a.Sc(4),a.kc(5,"translate"),a.kc(6,"pollKeyVerbose"),a.Wb(),a.Qc(7,P,3,1,"span",15),a.Wb(),a.Wb(),a.Qc(8,W,6,4,"td",16),a.Wb()),2&t){const t=e.$implicit,n=a.jc(3);a.Hb(t.class),a.Fb(4),a.Uc(" ",a.lc(5,5,a.lc(6,7,t.votingOption))," "),a.Fb(3),a.rc("ngIf",t.votingOptionSubtitle),a.Fb(1),a.rc("ngForOf",n.filterRelevantResults(t.value))}}function X(t,e){if(1&t&&(a.Xb(0,"table",2),a.Xb(1,"tbody"),a.Xb(2,"tr"),a.Xb(3,"th",3),a.Sc(4),a.kc(5,"translate"),a.Wb(),a.Qc(6,m,3,2,"th",4),a.Qc(7,_,3,2,"th",5),a.Qc(8,C,3,3,"th",6),a.Wb(),a.Qc(9,k,9,9,"tr",7),a.Wb(),a.Wb()),2&t){const t=a.jc(2);a.Fb(4),a.Tc(a.lc(5,5,"Candidates")),a.Fb(2),a.rc("ngIf",t.showYHeader),a.Fb(1),a.rc("ngIf",t.showNHeader),a.Fb(1),a.rc("ngIf",t.isMethodYNA),a.Fb(1),a.rc("ngForOf",t.tableData)}}function M(t,e){1&t&&(a.Xb(0,"div"),a.Xb(1,"i"),a.Sc(2),a.kc(3,"translate"),a.Wb(),a.Wb()),2&t&&(a.Fb(2),a.Uc(" ",a.lc(3,1,"No results yet.")," "))}function j(t,e){1&t&&(a.Xb(0,"div"),a.Xb(1,"i"),a.Sc(2),a.kc(3,"translate"),a.Wb(),a.Wb()),2&t&&(a.Fb(2),a.Uc(" ",a.lc(3,1,"Counting of votes is in progress ...")," "))}function y(t,e){if(1&t&&(a.Xb(0,"div"),a.Qc(1,X,10,7,"table",1),a.Qc(2,M,4,3,"div",0),a.Qc(3,j,4,3,"div",0),a.Wb()),2&t){const t=a.jc();a.Fb(1),a.rc("ngIf",t.hasResults&&t.canSeeResults),a.Fb(1),a.rc("ngIf",!t.hasResults),a.Fb(1),a.rc("ngIf",t.hasResults&&!t.canSeeResults)}}let w=(()=>{class t extends o.a{constructor(t,e,n,o){super(t,e),this.pollService=n,this.operator=o}get method(){return this.poll.pollmethod}get state(){return this.poll.state}get showYHeader(){return this.isMethodY||this.isMethodYN||this.isMethodYNA}get showNHeader(){return this.isMethodN||this.isMethodYN||this.isMethodYNA}get isMethodY(){return this.method===i.b.Y}get isMethodN(){return this.method===i.b.N}get isMethodYN(){return this.method===i.b.YN}get isMethodYNA(){return this.method===i.b.YNA}get isFinished(){return this.state===l.e.Finished}get isPublished(){return this.state===l.e.Published}get tableData(){return this.pollService.generateTableData(this.poll)}get hasResults(){return this.isFinished||this.isPublished}get canSeeResults(){return this.operator.hasPerms(this.permission.assignmentsCanManage)||this.isPublished}getVoteClass(t){const e=t.vote;return this.isMethodN&&"no"===e?"yes":e}filterRelevantResults(t){return t.filter(t=>t&&this.voteFitsMethod(t))}getVoteAmount(t,e){return this.isMethodN&&"user"===e.class?t.amount<0?t.amount:this.poll.votesvalid-t.amount:t.amount}voteFitsMethod(t){return!t.vote||(this.isMethodY?"yes"===t.vote:this.isMethodN?"no"===t.vote:!this.isMethodYN||"abstain"!==t.vote)}}return t.\u0275fac=function(e){return new(e||t)(a.Rb(r.c),a.Rb(b.k),a.Rb(c.a),a.Rb(s.a))},t.\u0275cmp=a.Lb({type:t,selectors:[["os-assignment-poll-detail-content"]],inputs:{poll:"poll"},features:[a.Cb],decls:1,vars:1,consts:[[4,"ngIf"],["class","assignment-result-table",4,"ngIf"],[1,"assignment-result-table"],[1,"voting-option"],["class","result yes",4,"ngIf"],["class","result",4,"ngIf"],["class","result abstain",4,"ngIf"],[3,"class",4,"ngFor","ngForOf"],[1,"result","yes"],[1,"result"],["class","no",4,"ngIf"],["class","yes",4,"ngIf"],[1,"no"],[1,"yes"],[1,"result","abstain"],["class","user-subtitle",4,"ngIf"],["class","result",4,"ngFor","ngForOf"],[1,"user-subtitle"],[1,"single-result",3,"ngClass"]],template:function(t,e){1&t&&a.Qc(0,y,4,3,"div",0),2&t&&a.rc("ngIf",e.poll)},directives:[u.t,u.s,u.q],pipes:[b.j,g.a,p.a,d.a],styles:[".yes[_ngcontent-%COMP%]{color:#4caf50}.no[_ngcontent-%COMP%]{color:#cc6c5b}.abstain[_ngcontent-%COMP%]{color:#a6a6a6}.voted-yes[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.voted-no[_ngcontent-%COMP%]{background-color:#cc6c5b;color:#fff}.voted-abstain[_ngcontent-%COMP%]{background-color:#a6a6a6;color:#fff}.start-poll-button[_ngcontent-%COMP%]{color:#4caf50}.stop-poll-button[_ngcontent-%COMP%]{color:#ff5252}.publish-poll-button[_ngcontent-%COMP%]{color:#e6b100}.assignment-result-table[_ngcontent-%COMP%]{margin-top:2em;display:block;overflow-x:auto;border-collapse:collapse}.assignment-result-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:400}.assignment-result-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:48px}.assignment-result-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-right:1em}.assignment-result-table[_ngcontent-%COMP%]   tr.sums[_ngcontent-%COMP%]{border-bottom:none}.assignment-result-table[_ngcontent-%COMP%]   tr.sums[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-top:1em;padding-bottom:1em}.assignment-result-table[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]{text-align:right;padding-left:1em}.assignment-result-table[_ngcontent-%COMP%]   .voting-option[_ngcontent-%COMP%]{min-width:200px;width:100%;text-align:left}.assignment-result-table[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%] + .sums[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-top:2em}.assignment-result-table[_ngcontent-%COMP%]   .single-result[_ngcontent-%COMP%]{white-space:pre}"]}),t})()},Wqmm:function(t,e,n){"use strict";n.d(e,"a",(function(){return C})),n("aOHa");var o=n("avkN"),s=n("8fOK"),i=n("8Y7J"),l=n("SVse"),c=n("TSSN");function a(t,e){if(1&t&&(i.Xb(0,"li"),i.Sc(1),i.kc(2,"translate"),i.Wb()),2&t){const t=e.$implicit,n=i.jc(3);i.Fb(1),i.Tc(i.lc(2,1,n.getOptionTitle(t)))}}function r(t,e){if(1&t&&(i.Xb(0,"li"),i.Sc(1),i.kc(2,"translate"),i.Wb()),2&t){const t=i.jc(4);i.Fb(1),i.Tc(i.lc(2,1,t.pollPropertyVerbose.global_yes))}}function b(t,e){if(1&t&&(i.Xb(0,"li"),i.Sc(1),i.kc(2,"translate"),i.Wb()),2&t){const t=i.jc(4);i.Fb(1),i.Tc(i.lc(2,1,t.pollPropertyVerbose.global_no))}}function u(t,e){if(1&t&&(i.Xb(0,"li"),i.Sc(1),i.kc(2,"translate"),i.Wb()),2&t){const t=i.jc(4);i.Fb(1),i.Tc(i.lc(2,1,t.pollPropertyVerbose.global_abstain))}}function g(t,e){if(1&t&&(i.Xb(0,"div"),i.Sc(1),i.kc(2,"translate"),i.Xb(3,"ul"),i.Qc(4,r,3,3,"li",0),i.Qc(5,b,3,3,"li",0),i.Qc(6,u,3,3,"li",0),i.Wb(),i.Wb()),2&t){const t=i.jc(3);i.Fb(1),i.Uc(" ",i.lc(2,4,"Options"),": "),i.Fb(3),i.rc("ngIf",t.poll.global_yes),i.Fb(1),i.rc("ngIf",t.poll.global_no),i.Fb(1),i.rc("ngIf",t.poll.global_abstain)}}function p(t,e){if(1&t&&(i.Xb(0,"small",3),i.Xb(1,"div"),i.Sc(2),i.kc(3,"translate"),i.Xb(4,"ol"),i.Qc(5,a,3,3,"li",4),i.Wb(),i.Wb(),i.Qc(6,g,7,6,"div",0),i.Wb()),2&t){const t=i.jc(2);i.Fb(2),i.Uc(" ",i.lc(3,3,"Candidates"),": "),i.Fb(3),i.rc("ngForOf",t.poll.options),i.Fb(1),i.rc("ngIf",t.hasGlobalOption)}}function d(t,e){1&t&&(i.Xb(0,"span"),i.Sc(1,", "),i.Wb())}function h(t,e){if(1&t&&(i.Xb(0,"span"),i.Sc(1),i.kc(2,"translate"),i.Qc(3,d,2,0,"span",0),i.Wb()),2&t){const t=e.$implicit,n=e.index,o=i.jc(3);i.Fb(1),i.Uc(" ",i.lc(2,2,t.getTitle()),""),i.Fb(2),i.rc("ngIf",n<o.poll.groups.length-1)}}function f(t,e){if(1&t&&(i.Xb(0,"small"),i.Sc(1),i.kc(2,"translate"),i.Qc(3,h,4,4,"span",4),i.Sb(4,"br"),i.Wb()),2&t){const t=i.jc(2);i.Fb(1),i.Uc(" ",i.lc(2,2,"Entitled to vote"),": "),i.Fb(2),i.rc("ngForOf",t.poll.groups)}}function m(t,e){if(1&t&&(i.Xb(0,"span"),i.Sc(1),i.kc(2,"translate"),i.Wb()),2&t){const t=i.jc(3);i.Fb(1),i.Vc(" (",t.poll.votes_amount," ",i.lc(2,2,"Votes"),")")}}function v(t,e){if(1&t&&(i.Xb(0,"small"),i.Xb(1,"span"),i.Sc(2),i.kc(3,"translate"),i.kc(4,"translate"),i.Wb(),i.Qc(5,m,3,4,"span",0),i.Sb(6,"br"),i.Wb()),2&t){const t=i.jc(2);i.Fb(2),i.Vc(" ",i.lc(3,3,"Voting method"),": ",i.lc(4,5,t.poll.pollmethodVerbose)," "),i.Fb(3),i.rc("ngIf",t.poll.votes_amount>1)}}function F(t,e){if(1&t&&(i.Xb(0,"small"),i.Sc(1),i.kc(2,"translate"),i.kc(3,"translate"),i.Wb()),2&t){const t=i.jc(2);i.Fb(1),i.Vc(" ",i.lc(2,2,"100% base"),": ",i.lc(3,4,t.poll.percentBaseVerbose)," ")}}function _(t,e){if(1&t&&(i.Vb(0),i.Qc(1,p,7,5,"small",1),i.Xb(2,"div",2),i.Qc(3,f,5,4,"small",0),i.Qc(4,v,7,7,"small",0),i.Qc(5,F,4,6,"small",0),i.Wb(),i.Ub()),2&t){const t=i.jc();i.Fb(1),i.rc("ngIf",(null==t.poll.options?null:t.poll.options.length)&&t.showCandidates),i.Fb(2),i.rc("ngIf",t.poll.groups&&t.poll.type&&"analog"!==t.poll.type),i.Fb(1),i.rc("ngIf",t.poll.pollmethod),i.Fb(1),i.rc("ngIf",t.poll.onehundred_percent_base)}}let C=(()=>{class t{constructor(){this.pollPropertyVerbose=s.d,this.unknownUserLabel=o.b,this.showCandidates=!0}get hasGlobalOption(){return this.poll.hasGlobalOption}userCanVoe(){return!0}getOptionTitle(t){var e,n;return null!==(n=null===(e=t.user)||void 0===e?void 0:e.getShortName().trim())&&void 0!==n?n:this.unknownUserLabel}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Lb({type:t,selectors:[["os-assignment-poll-meta-info"]],inputs:{poll:"poll",showCandidates:"showCandidates"},decls:1,vars:1,consts:[[4,"ngIf"],["class","meta-info-left subtitle",4,"ngIf"],[1,"meta-info-right","subtitle"],[1,"meta-info-left","subtitle"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&i.Qc(0,_,6,4,"ng-container",0),2&t&&i.rc("ngIf",e.poll)},directives:[l.t,l.s],pipes:[c.j],styles:["[_nghost-%COMP%]{width:100%;padding-top:20px;display:grid;grid-template-columns:2fr auto}.meta-info-left[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%], .meta-info-left[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:2em}.meta-info-left[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{margin-top:1em}.meta-info-right[_ngcontent-%COMP%]{text-align:right;-ms-flex-item-align:end;align-self:flex-end}"]}),t})()},Xqcw:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var o=n("OwvW"),s=n("M0z7"),i=n("mV3u"),l=n("8fOK"),c=n("8Y7J"),a=n("cUpR"),r=n("TSSN"),b=n("zHaW");let u=(()=>{class t extends i.a{constructor(t,e,n,o,i){super(t,e,n),this.votingService=i,this.votingErrors=s.a,this.voteRequestData={},this.alreadyVoted={},this.deliveringVote={},this.PollPropertyVerbose=l.d,this.subscriptions.push(o.getViewUserObservable().subscribe(t=>{t&&(this.user=t,this.delegations=t.voteDelegationsFrom)}))}createVotingDataObjects(){if(this.user&&(this.voteRequestData[this.user.id]={votes:{}},this.alreadyVoted[this.user.id]=this.poll.user_has_voted,this.deliveringVote[this.user.id]=!1),this.delegations)for(const t of this.delegations)this.voteRequestData[t.id]={votes:{}},this.alreadyVoted[t.id]=this.poll.hasVotedId(t.id),this.deliveringVote[t.id]=!1}isDeliveringVote(t=this.user){return!0===this.deliveringVote[t.id]}hasAlreadyVoted(t=this.user){return!0===this.alreadyVoted[t.id]}canVote(t=this.user){return this.votingService.canVote(this.poll,t)&&!this.isDeliveringVote(t)&&!this.hasAlreadyVoted(t)}getVotingError(t=this.user){return console.log("Cannot vote because:",this.votingService.getVotePermissionErrorVerbose(this.poll,t)),this.votingService.getVotePermissionErrorVerbose(this.poll,t)}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(a.c),c.Rb(r.k),c.Rb(b.a),c.Rb(o.a),c.Rb(s.b))},t.\u0275dir=c.Mb({type:t,inputs:{poll:"poll"},features:[c.Cb]}),t})()},iMzm:function(t,e,n){"use strict";n.r(e),n.d(e,"AssignmentPollModule",(function(){return it}));var o=n("SVse"),s=n("PCNd"),i=n("bVYn"),l=n("iInd"),c=n("OwvW"),a=n("tCBf"),r=n("TZkb"),b=n("R+Vs"),u=n("+KbT"),g=n("F48D"),p=n("g4jF"),d=n("Cr6+"),h=n("avkN"),f=n("8Y7J"),m=n("cUpR"),v=n("TSSN"),F=n("zHaW"),_=n("mksl"),C=n("3Xi6"),P=n("PDjf"),O=n("rJgo"),V=n("BSbQ"),S=n("Dxy4"),W=n("Tj54"),k=n("Wqmm"),X=n("DGQJ"),M=n("iCsr"),j=n("0Obk"),y=n("4LpT"),w=n("Tp2j");function I(t,e){if(1&t&&(f.Xb(0,"h2"),f.Sc(1),f.Wb()),2&t){const t=f.jc();f.Fb(1),f.Tc(t.poll.title)}}function R(t,e){if(1&t&&(f.Xb(0,"div",11),f.Xb(1,"button",12),f.Xb(2,"mat-icon"),f.Sc(3,"more_vert"),f.Wb(),f.Wb(),f.Wb()),2&t){f.jc();const t=f.Cc(9);f.Fb(1),f.rc("matMenuTriggerFor",t)}}function Q(t,e){if(1&t&&(f.Xb(0,"span"),f.Sc(1),f.kc(2,"translate"),f.Wb()),2&t){const t=f.jc(3);f.Fb(1),f.Uc(" ",f.lc(2,1,t.poll.typeVerbose)," \xb7 ")}}function N(t,e){if(1&t&&(f.Xb(0,"div",19),f.Sb(1,"os-charts",20),f.Wb()),2&t){const t=f.jc(4);f.Fb(1),f.rc("labels",t.candidatesLabels)("data",t.chartData)}}function D(t,e){if(1&t&&(f.Xb(0,"div"),f.Sc(1),f.kc(2,"translate"),f.Wb()),2&t){const t=e.col;f.Fb(1),f.Uc(" ",f.lc(2,1,t.label)," ")}}function T(t,e){if(1&t&&(f.Xb(0,"div"),f.Sc(1),f.kc(2,"translate"),f.Wb()),2&t){const t=e.col;f.Fb(1),f.Uc(" ",f.lc(2,1,t.label)," ")}}function x(t,e){if(1&t&&(f.Xb(0,"div"),f.Sc(1),f.Wb()),2&t){const t=f.jc(2).row;f.Fb(1),f.Uc(" ",t.user.getLevelAndNumber()," ")}}function A(t,e){if(1&t&&(f.Xb(0,"div"),f.Sc(1),f.kc(2,"translate"),f.Wb()),2&t){const t=f.jc(2).row;f.Fb(1),f.Vc(" ",f.lc(2,2,"Vote weight"),": ",t.user.vote_weight," ")}}function Y(t,e){if(1&t&&(f.Xb(0,"div"),f.Xb(1,"span"),f.Sc(2),f.kc(3,"translate"),f.Wb(),f.Wb()),2&t){const t=f.jc(2).row,e=f.jc(6);f.Fb(2),f.Vc(" (",f.lc(3,2,"represented by")," ",e.getUsersVoteDelegation(t.user).getShortName().trim(),") ")}}function U(t,e){if(1&t&&(f.Xb(0,"div"),f.Sc(1),f.Xb(2,"div",26),f.Qc(3,x,2,1,"div",2),f.Qc(4,A,3,4,"div",2),f.Qc(5,Y,4,4,"div",2),f.Wb(),f.Wb()),2&t){const t=f.jc().row,e=f.jc(6);f.Fb(1),f.Uc(" ",t.user.getShortName()," "),f.Fb(2),f.rc("ngIf",t.user.getLevelAndNumber()),f.Fb(1),f.rc("ngIf",e.isVoteWeightActive),f.Fb(1),f.rc("ngIf",e.userHasVoteDelegation(t.user))}}function L(t,e){1&t&&(f.Xb(0,"div"),f.Sc(1),f.kc(2,"translate"),f.Wb()),2&t&&(f.Fb(1),f.Uc(" ",f.lc(2,1,"Anonymous")," "))}function q(t,e){if(1&t&&(f.Xb(0,"div"),f.Qc(1,U,6,4,"div",2),f.Qc(2,L,3,3,"div",2),f.Wb()),2&t){const t=e.row;f.Fb(1),f.rc("ngIf",t.user),f.Fb(1),f.rc("ngIf",!t.user)}}function G(t,e){if(1&t&&(f.Xb(0,"div",28),f.Sc(1),f.Wb()),2&t){const t=e.$implicit;f.Fb(1),f.Tc(t)}}function H(t,e){if(1&t&&(f.Xb(0,"div"),f.Qc(1,G,2,1,"div",27),f.Wb()),2&t){const t=e.row;f.Fb(1),f.rc("ngForOf",t.votes)}}function $(t,e){if(1&t&&(f.Xb(0,"os-list-view-table",23),f.Qc(1,D,3,3,"div",24),f.Qc(2,T,3,3,"div",24),f.Qc(3,q,3,2,"div",25),f.Qc(4,H,2,1,"div",25),f.Wb()),2&t){const t=f.jc(5);f.rc("listObservable",t.votesDataObservable)("columns",t.columnDefinitionSingleVotes)("filterProps",t.filterProps)("allowProjector",!1)("fullScreen",!1)("vScrollFixed",-1)("showListOfSpeakers",!1)("showMenu",!1),f.Fb(1),f.rc("pblNgridHeaderCellDef","user"),f.Fb(1),f.rc("pblNgridHeaderCellDef","votes"),f.Fb(1),f.rc("pblNgridCellDef","user"),f.Fb(1),f.rc("pblNgridCellDef","votes")}}function E(t,e){1&t&&(f.Xb(0,"div"),f.Sc(1),f.kc(2,"translate"),f.Wb()),2&t&&(f.Fb(1),f.Uc(" ",f.lc(2,1,"The individual votes were anonymized.")," "))}function B(t,e){if(1&t&&(f.Xb(0,"div",21),f.Xb(1,"h3"),f.Sc(2),f.kc(3,"translate"),f.Wb(),f.Qc(4,$,5,12,"os-list-view-table",22),f.Qc(5,E,3,3,"div",2),f.Wb()),2&t){const t=f.jc(4);f.Fb(2),f.Tc(f.lc(3,3,"Single votes")),f.Fb(2),f.rc("ngIf",t.votesDataObservable),f.Fb(1),f.rc("ngIf",!t.votesDataObservable)}}function z(t,e){if(1&t&&(f.Xb(0,"div",15),f.Sb(1,"os-assignment-poll-detail-content",16),f.Qc(2,N,2,2,"div",17),f.Qc(3,B,6,5,"div",18),f.Wb()),2&t){const t=f.jc(3);f.Fb(1),f.rc("poll",t.poll),f.Fb(1),f.rc("ngIf",t.showResults&&t.poll.stateHasVotes),f.Fb(1),f.rc("ngIf",t.showResults&&t.poll.stateHasVotes&&"named"===t.poll.type)}}function J(t,e){if(1&t&&(f.Xb(0,"div"),f.Xb(1,"h1"),f.Sc(2),f.Wb(),f.Xb(3,"div"),f.Qc(4,Q,3,3,"span",2),f.Xb(5,"span"),f.Sc(6),f.kc(7,"translate"),f.Wb(),f.Wb(),f.Qc(8,z,4,3,"div",14),f.Wb()),2&t){const t=f.jc(2);f.Fb(2),f.Tc(t.poll.title),f.Fb(2),f.rc("ngIf","analog"!==t.poll.type),f.Fb(2),f.Uc(" ",f.lc(7,4,t.poll.stateVerbose)," "),f.Fb(2),f.rc("ngIf",t.poll)}}function K(t,e){if(1&t&&(f.Qc(0,J,9,6,"div",2),f.Sb(1,"os-assignment-poll-meta-info",13)),2&t){const t=f.jc();f.rc("ngIf",t.isReady),f.Fb(1),f.rc("poll",t.poll)("showCandidates",t.showCandidatesInMetaInfo)}}function Z(t,e){if(1&t&&f.Sb(0,"os-projector-button",29),2&t){const t=f.jc();f.rc("menuItem",!0)("object",t.poll)}}function tt(t,e){if(1&t){const t=f.Yb();f.Xb(0,"button",30),f.fc("click",(function(){f.Gc(t);const e=f.jc();return e.openDialog(e.poll)})),f.Xb(1,"mat-icon"),f.Sc(2,"edit"),f.Wb(),f.Xb(3,"span"),f.Sc(4),f.kc(5,"translate"),f.Wb(),f.Wb()}2&t&&(f.Fb(4),f.Tc(f.lc(5,1,"Edit")))}function et(t,e){if(1&t){const t=f.Yb();f.Xb(0,"button",30),f.fc("click",(function(){return f.Gc(t),f.jc().pseudoanonymizePoll()})),f.Xb(1,"mat-icon"),f.Sc(2,"warning"),f.Wb(),f.Xb(3,"span"),f.Sc(4),f.kc(5,"translate"),f.Wb(),f.Wb()}2&t&&(f.Fb(4),f.Tc(f.lc(5,1,"Anonymize votes")))}function nt(t,e){if(1&t){const t=f.Yb();f.Xb(0,"button",30),f.fc("click",(function(){return f.Gc(t),f.jc().deletePoll()})),f.Xb(1,"mat-icon",31),f.Sc(2,"delete"),f.Wb(),f.Xb(3,"span"),f.Sc(4),f.kc(5,"translate"),f.Wb(),f.Wb()}2&t&&(f.Fb(4),f.Tc(f.lc(5,1,"Delete")))}const ot=[{path:":id",component:(()=>{class t extends p.a{constructor(t,e,n,o,s,i,l,c,a,r,b,u,g,p){super(t,e,n,o,s,i,l,c,r,b,u,p),this.pollService=r,this.operator=u,this.router=g,this.cd=p,this.filterProps=["user.getFullName"],this.isReady=!1,this.candidatesLabels=[],a.get("users_activate_vote_weight").subscribe(t=>this.isVoteWeightActive=t)}get showResults(){return this.hasPerms()||this.poll.isPublished}get chartData(){return this.pollService.generateChartData(this.poll)}createVotesData(){const t={};let e=!0;for(const n of this.poll.options)for(const o of n.votes){const s=o.user_id;s&&(e=!1,t[s]||(t[s]={user:o.user,votes:[]}),o.weight>0&&t[s].votes.push(this.poll.isMethodY?"Y"===o.value?n.user.getFullName():this.voteValueToLabel(o.value):`${n.user.getShortName()}: ${this.voteValueToLabel(o.value)}`))}if(!e)for(const n of this.poll.voted)t[n.id]||(t[n.id]={user:n,votes:[this.translate.instant("empty vote")]});this.setVotesData(Object.values(t)),this.candidatesLabels=this.pollService.getChartLabels(this.poll),this.columnDefinitionSingleVotes=[{prop:"user",label:"Participant",width:"40%",minWidth:300},{prop:"votes",label:"Votes",width:"60%",minWidth:300}],this.isReady=!0}voteValueToLabel(t){if("Y"===t)return this.translate.instant("Yes");if("N"===t)return this.translate.instant("No");if("A"===t)return this.translate.instant("Abstain");throw new Error("voteValueToLabel received illegal arguments: "+t)}hasPerms(){return this.operator.hasPerms(c.b.assignmentsCanManage)}onDeleted(){this.router.navigate(["assignments",this.poll.assignment_id])}}return t.\u0275fac=function(e){return new(e||t)(f.Rb(m.c),f.Rb(v.k),f.Rb(F.a),f.Rb(a.a),f.Rb(l.a),f.Rb(b.a),f.Rb(g.a),f.Rb(d.a),f.Rb(u.a),f.Rb(h.a),f.Rb(r.a),f.Rb(c.a),f.Rb(l.f),f.Rb(f.h))},t.\u0275cmp=f.Lb({type:t,selectors:[["os-assignment-poll-detail"]],features:[f.Cb],decls:15,vars:10,consts:[[3,"goBack","nav"],[1,"title-slot"],[4,"ngIf"],["class","menu-slot",4,"osPerms"],[1,"os-card","spacer-bottom-60"],[3,"ngTemplateOutlet"],["viewTemplate",""],["pollDetailMenu","matMenu"],[3,"menuItem","object",4,"osPerms"],["mat-menu-item","",3,"click",4,"osPerms"],["mat-menu-item","",3,"click",4,"osPerms","osPermsAnd"],[1,"menu-slot"],["type","button","mat-icon-button","",3,"matMenuTriggerFor"],[3,"poll","showCandidates"],["class","assignment-result-wrapper",4,"ngIf"],[1,"assignment-result-wrapper"],[3,"poll"],["class","chart-wrapper",4,"ngIf"],["class","named-result-table",4,"ngIf"],[1,"chart-wrapper"],[1,"assignment-result-chart",3,"labels","data"],[1,"named-result-table"],["class","single-votes-table","listStorageKey","assignment-poll-vote",3,"listObservable","columns","filterProps","allowProjector","fullScreen","vScrollFixed","showListOfSpeakers","showMenu",4,"ngIf"],["listStorageKey","assignment-poll-vote",1,"single-votes-table",3,"listObservable","columns","filterProps","allowProjector","fullScreen","vScrollFixed","showListOfSpeakers","showMenu"],[4,"pblNgridHeaderCellDef"],[4,"pblNgridCellDef"],[1,"user-subtitle"],["class","single-vote-result",4,"ngFor","ngForOf"],[1,"single-vote-result"],[3,"menuItem","object"],["mat-menu-item","",3,"click"],["color","warn"]],template:function(t,e){if(1&t&&(f.Xb(0,"os-head-bar",0),f.Xb(1,"div",1),f.Qc(2,I,2,1,"h2",2),f.Wb(),f.Qc(3,R,4,1,"div",3),f.Wb(),f.Xb(4,"mat-card",4),f.Tb(5,5),f.Wb(),f.Qc(6,K,2,3,"ng-template",null,6,f.Rc),f.Xb(8,"mat-menu",null,7),f.Qc(10,Z,1,2,"os-projector-button",8),f.Qc(11,tt,6,3,"button",9),f.Qc(12,et,6,3,"button",10),f.Sb(13,"mat-divider"),f.Qc(14,nt,6,3,"button",9),f.Wb()),2&t){const t=f.Cc(7);f.rc("goBack",!0)("nav",!1),f.Fb(2),f.rc("ngIf",!!e.poll),f.Fb(1),f.rc("osPerms","assignments.can_manage"),f.Fb(2),f.rc("ngTemplateOutlet",t),f.Fb(5),f.rc("osPerms","core.can_manage_projector"),f.Fb(1),f.rc("osPerms","assignments.can_manage"),f.Fb(1),f.rc("osPerms","assignments.can_manage")("osPermsAnd",e.poll&&"named"===e.poll.type),f.Fb(2),f.rc("osPerms","assignments.can_manage")}},directives:[_.a,o.t,C.a,P.a,o.A,O.f,V.a,S.b,O.e,W.a,k.a,X.a,M.a,j.a,y.g,y.b,o.s,w.a,O.c],pipes:[v.j],styles:['.assignment-result-wrapper .chart-wrapper{margin-top:2em}.assignment-result-wrapper .named-result-table .mat-form-field{font-size:14px;width:100%}.assignment-result-wrapper .named-result-table .single-votes-table{display:block;height:500px}.assignment-result-wrapper .named-result-table .single-votes-table .list-view-frame{height:100%}.assignment-result-wrapper .named-result-table .single-votes-table .single-vote-result+.single-vote-result{margin-top:1em}.assignment-result-wrapper .named-result-table .vote-field{text-align:center;width:100%;padding-right:12px}.openslides-theme .pbl-ngrid-no-data{top:10%}.openslides-theme .pbl-ngrid-header-cell:first-child{overflow:visible}.openslides-theme .pbl-ngrid-header-cell:first-child:after{content:"";display:block;position:absolute;top:0;right:-1px;height:100%}'],encapsulation:2,changeDetection:0}),t})()}];let st=(()=>{class t{}return t.\u0275mod=f.Pb({type:t}),t.\u0275inj=f.Ob({factory:function(e){return new(e||t)},imports:[[l.j.forChild(ot)],l.j]}),t})(),it=(()=>{class t{}return t.\u0275mod=f.Pb({type:t}),t.\u0275inj=f.Ob({factory:function(e){return new(e||t)},imports:[[o.c,st,s.a,i.PollsModule]]}),t})()},pA48:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var o=n("lJxs"),s=n("OwvW"),i=n("ZDbo"),l=n("mV3u"),c=n("8fOK"),a=n("8Y7J"),r=n("cUpR"),b=n("TSSN"),u=n("zHaW"),g=n("SVse"),p=n("BTe0");function d(t,e){if(1&t&&(a.Xb(0,"div",1),a.Xb(1,"div",2),a.Xb(2,"span"),a.Sc(3),a.Wb(),a.Wb(),a.Xb(4,"span"),a.Sc(5),a.kc(6,"translate"),a.Wb(),a.Sb(7,"mat-progress-bar",3),a.Wb()),2&t){const t=a.jc();a.Fb(3),a.Vc("",t.votescast," / ",t.max,""),a.Fb(2),a.Tc(a.lc(6,4,"Received votes")),a.Fb(2),a.rc("value",t.valueInPercent)}}let h=(()=>{class t extends l.a{constructor(t,e,n,o,s){super(t,e,n),this.translate=e,this.userRepo=o,this.operator=s}get votescast(){var t;return(null===(t=this.poll)||void 0===t?void 0:t.votescast)||0}get canSeeProgressBar(){var t,e;let n=!1;return(null===(t=this.poll)||void 0===t?void 0:t.pollClassType)===c.c.Motion?n=this.operator.hasPerms(this.permission.motionsCanManagePolls):(null===(e=this.poll)||void 0===e?void 0:e.pollClassType)===c.c.Assignment&&(n=this.operator.hasPerms(this.permission.assignmentsCanManage)),n&&this.operator.hasPerms(this.permission.usersCanSeeName)}ngOnInit(){this.poll&&this.subscriptions.push(this.userRepo.getViewModelListObservable().pipe(Object(o.a)(t=>t.filter(t=>{var e;return(t.is_present&&!t.isVoteRightDelegated||(null===(e=t.voteDelegatedTo)||void 0===e?void 0:e.is_present))&&this.poll.groups_id.intersect(t.groups_id).length}))).subscribe(t=>{this.max=t.length}))}get valueInPercent(){return this.votescast/this.max*100}}return t.\u0275fac=function(e){return new(e||t)(a.Rb(r.c),a.Rb(b.k),a.Rb(u.a),a.Rb(i.a),a.Rb(s.a))},t.\u0275cmp=a.Lb({type:t,selectors:[["os-poll-progress"]],inputs:{poll:"poll"},features:[a.Cb],decls:1,vars:1,consts:[["class","poll-progress-wrapper",4,"ngIf"],[1,"poll-progress-wrapper"],[1,"vote-number"],[1,"voting-progress-bar",3,"value"]],template:function(t,e){1&t&&a.Qc(0,d,8,6,"div",0),2&t&&a.rc("ngIf",e.canSeeProgressBar)},directives:[g.t,p.a],pipes:[b.j],styles:[".poll-progress-wrapper[_ngcontent-%COMP%]{margin:1em 0 2em}.poll-progress-wrapper[_ngcontent-%COMP%]   .vote-number[_ngcontent-%COMP%]{text-align:center;font-size:150%}"]}),t})()}}]);