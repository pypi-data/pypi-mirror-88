(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{Bnfq:function(t,e,n){"use strict";n.r(e),n.d(e,"MotionListModule",(function(){return ae}));var i=n("SVse"),o=n("PCNd"),c=n("iInd"),a=n("mrSG"),l=n("OwvW"),s=n("AqIO"),b=n("iTQr"),r=n("D5Qf"),m=n("dOok"),g=n("s3dr"),d=n("lv9T"),f=n("+KbT"),u=n("7dBR"),p=n("KL36"),h=n("Izkr"),W=n("wL0i"),v=n("f3I0"),X=n("zyuw"),S=n("Q5D0"),M=n("d4fM"),w=n("T9hM"),k=n("TzFX"),F=n("8Y7J"),_=n("cUpR"),C=n("TSSN"),T=n("zHaW"),O=n("iELJ"),I=n("mksl"),y=n("Dxy4"),P=n("rJgo"),j=n("Tj54"),Q=n("ZFy/"),R=n("0Obk"),x=n("4LpT"),A=n("f44v"),D=n("vYAO"),L=n("Tp2j"),V=n("40uZ"),E=n("m1Ob"),B=n("ycpk"),G=n("8Qe2"),U=n("3Xi6"),z=n("BSbQ"),Y=n("pcP9"),N=n("Q2Ze"),$=n("ZTz/"),q=n("s7LF"),H=n("UhP/");const J=["motionInfoDialog"];function K(t,e){if(1&t){const t=F.Yb();F.Xb(0,"button",16),F.fc("click",(function(){return F.Gc(t),F.jc(2).onChangeView("tiles")})),F.kc(1,"translate"),F.Xb(2,"mat-icon"),F.Sc(3,"view_module"),F.Wb(),F.Wb()}2&t&&F.sc("matTooltip",F.lc(1,1,"Tile view"))}function Z(t,e){if(1&t){const t=F.Yb();F.Xb(0,"button",16),F.fc("click",(function(){return F.Gc(t),F.jc(2).onChangeView("list")})),F.kc(1,"translate"),F.Xb(2,"mat-icon"),F.Sc(3,"view_headline"),F.Wb(),F.Wb()}2&t&&F.sc("matTooltip",F.lc(1,1,"List view"))}function tt(t,e){if(1&t&&(F.Xb(0,"div"),F.Qc(1,K,4,3,"button",15),F.Qc(2,Z,4,3,"button",15),F.Wb()),2&t){const t=F.jc();F.Fb(1),F.rc("ngIf","tiles"!==t.selectedView),F.Fb(1),F.rc("ngIf","list"!==t.selectedView)}}function et(t,e){1&t&&F.Tb(0)}function nt(t,e){if(1&t&&F.Sb(0,"a",23),2&t){const t=F.jc().row;F.rc("routerLink",t.id)}}function it(t,e){if(1&t&&(F.Xb(0,"div",20),F.Qc(1,nt,1,1,"a",21),F.Xb(2,"div",22),F.Sc(3),F.Wb(),F.Wb()),2&t){const t=e.row,n=F.jc(2);F.Fb(1),F.rc("ngIf",!n.isMultiSelect),F.Fb(2),F.Uc(" ",t.identifier," ")}}function ot(t,e){if(1&t&&F.Sb(0,"a",23),2&t){const t=F.jc().row;F.rc("routerLink",t.id)}}function ct(t,e){1&t&&(F.Xb(0,"span",32),F.Xb(1,"mat-icon",33),F.Sc(2,"star"),F.Wb(),F.Wb())}function at(t,e){1&t&&(F.Xb(0,"span",34),F.Xb(1,"mat-icon"),F.Sc(2,"attach_file"),F.Wb(),F.Wb())}function lt(t,e){if(1&t&&(F.Xb(0,"span"),F.Sc(1),F.Xb(2,"span"),F.Sc(3,"\xb7"),F.Wb(),F.Wb()),2&t){const t=F.jc().row;F.Fb(1),F.Uc(" ",t.identifier," ")}}function st(t,e){if(1&t&&(F.Xb(0,"span"),F.Xb(1,"span"),F.Sc(2),F.kc(3,"translate"),F.Wb(),F.Sc(4),F.Wb()),2&t){const t=F.jc().row;F.Fb(2),F.Tc(F.lc(3,2,"by")),F.Fb(2),F.Uc(" ",t.submitters," ")}}function bt(t,e){1&t&&(F.Xb(0,"span"),F.Sc(1," \xb7 "),F.Wb())}function rt(t,e){if(1&t&&(F.Xb(0,"span"),F.Qc(1,bt,2,0,"span",7),F.Xb(2,"span"),F.Sc(3),F.kc(4,"translate"),F.Wb(),F.Sc(5),F.Wb()),2&t){const t=F.jc().row;F.Fb(1),F.rc("ngIf",t.submitters.length),F.Fb(2),F.Tc(F.lc(4,3,"Sequential number")),F.Fb(2),F.Uc(" ",t.id," ")}}function mt(t,e){if(1&t&&(F.Xb(0,"mat-basic-chip",35),F.Sc(1),F.Wb()),2&t){const t=F.jc().row,e=F.jc(2);F.rc("ngClass",t.stateCssColor)("disabled",!0),F.Fb(1),F.Uc(" ",e.motionRepo.getExtendedStateLabel(t)," ")}}function gt(t,e){if(1&t&&(F.Xb(0,"div",36),F.Xb(1,"mat-basic-chip",37),F.Sc(2),F.Wb(),F.Wb()),2&t){const t=F.jc().row,e=F.jc(2);F.Fb(1),F.rc("disabled",!0),F.Fb(1),F.Uc(" ",e.motionRepo.getExtendedRecommendationLabel(t)," ")}}function dt(t,e){if(1&t&&(F.Xb(0,"div",20),F.Qc(1,ot,1,1,"a",21),F.Xb(2,"div",24),F.Xb(3,"div",25),F.Qc(4,ct,3,0,"span",26),F.Qc(5,at,3,0,"span",27),F.Xb(6,"span"),F.Qc(7,lt,4,1,"span",7),F.Sc(8),F.Wb(),F.Wb(),F.Xb(9,"div",28),F.Qc(10,st,5,4,"span",7),F.Qc(11,rt,6,5,"span",7),F.Wb(),F.Xb(12,"div",29),F.Qc(13,mt,2,3,"mat-basic-chip",30),F.Wb(),F.Qc(14,gt,3,2,"div",31),F.Wb(),F.Wb()),2&t){const t=e.row,n=F.jc(2);F.Fb(1),F.rc("ngIf",!n.isMultiSelect),F.Fb(3),F.rc("ngIf",t.star),F.Fb(1),F.rc("ngIf",t.hasAttachments()),F.Fb(2),F.rc("ngIf",n.vp.isMobile&&t.identifier),F.Fb(1),F.Uc(" ",t.title," "),F.Fb(2),F.rc("ngIf",t.submitters.length),F.Fb(1),F.rc("ngIf",n.showSequential),F.Fb(2),F.rc("ngIf",t.state),F.Fb(1),F.rc("ngIf",t.recommendation&&t.state.next_states_id.length>0)}}function ft(t,e){if(1&t&&(F.Xb(0,"div",42),F.Xb(1,"os-icon-container",43),F.Sc(2),F.Wb(),F.Wb()),2&t){const t=F.jc().row;F.Fb(2),F.Uc(" ",t.category.nameWithParentAbove," ")}}function ut(t,e){if(1&t&&(F.Xb(0,"div",44),F.Xb(1,"os-icon-container",45),F.Sc(2),F.Wb(),F.Wb()),2&t){const t=F.jc().row;F.Fb(2),F.Tc(t.motion_block.title)}}function pt(t,e){1&t&&(F.Xb(0,"span"),F.Sc(1,",\xa0"),F.Wb())}function ht(t,e){if(1&t&&(F.Xb(0,"span"),F.Sc(1),F.Qc(2,pt,2,0,"span",7),F.Wb()),2&t){const t=e.$implicit,n=e.last;F.Fb(1),F.Uc(" ",t.getTitle()," "),F.Fb(1),F.rc("ngIf",!n)}}function Wt(t,e){if(1&t&&(F.Xb(0,"div",44),F.Xb(1,"os-icon-container",46),F.Qc(2,ht,3,2,"span",47),F.Wb(),F.Wb()),2&t){const t=F.jc().row;F.Fb(2),F.rc("ngForOf",t.tags)}}function vt(t,e){if(1&t){const t=F.Yb();F.Xb(0,"div",38),F.fc("click",(function(){F.Gc(t);const n=e.row;return F.jc(2).openEditInfo(n)})),F.Xb(1,"div",39),F.Qc(2,ft,3,1,"div",40),F.Qc(3,ut,3,1,"div",41),F.Qc(4,Wt,3,1,"div",41),F.Wb(),F.Wb()}if(2&t){const t=e.row,n=F.jc(2);F.rc("ngClass",n.isMultiSelect?"":"clickable"),F.Fb(2),F.rc("ngIf",t.category),F.Fb(1),F.rc("ngIf",t.motion_block),F.Fb(1),F.rc("ngIf",t.tags&&t.tags.length)}}const Xt=function(t){return{motion:t}};function St(t,e){if(1&t){const t=F.Yb();F.Xb(0,"div",20),F.Xb(1,"button",48),F.fc("click",(function(e){return F.Gc(t),e.stopPropagation()})),F.Xb(2,"mat-icon"),F.Sc(3,"more_vert"),F.Wb(),F.Wb(),F.Wb()}if(2&t){const t=e.row,n=F.jc(2),i=F.Cc(24);F.Fb(1),F.rc("disabled",n.isMultiSelect)("matMenuTriggerFor",i)("matMenuTriggerData",F.xc(3,Xt,t))}}function Mt(t,e){if(1&t){const t=F.Yb();F.Xb(0,"os-list-view-table",17),F.fc("selectedRowsChange",(function(e){return F.Gc(t),F.jc().selectedRows=e}))("dataSourceChange",(function(e){return F.Gc(t),F.jc().onDataSourceChange(e)})),F.Qc(1,it,4,2,"div",18),F.Qc(2,dt,15,9,"div",18),F.Qc(3,vt,5,4,"div",19),F.Qc(4,St,4,5,"div",18),F.Wb()}if(2&t){const t=F.jc();F.rc("listObservableProvider",t.motionRepo)("filterService",t.filterService)("sortService",t.sortService)("columns",t.tableColumnDefinition)("multiSelect",t.isMultiSelect)("filterProps",t.filterProps)("hiddenInMobile",t.getColumnsHiddenInMobile())("selectedRows",t.selectedRows),F.Fb(1),F.rc("pblNgridCellDef","identifier"),F.Fb(1),F.rc("pblNgridCellDef","title"),F.Fb(1),F.rc("pblNgridCellDef","state"),F.Fb(1),F.rc("pblNgridCellDef","menu")}}function wt(t,e){if(1&t&&(F.Sb(0,"os-projector-button",49),F.Sb(1,"os-speaker-button",49)),2&t){const t=e.motion;F.rc("object",t)("menuItem",!0),F.Fb(1),F.rc("object",t)("menuItem",!0)}}function kt(t,e){1&t&&(F.Xb(0,"span"),F.Xb(1,"mat-icon"),F.Sc(2,"star"),F.Wb(),F.Wb())}function Ft(t,e){1&t&&(F.Xb(0,"span"),F.Xb(1,"mat-icon"),F.Sc(2,"block"),F.Wb(),F.Wb())}function _t(t,e){1&t&&(F.Xb(0,"span"),F.Xb(1,"mat-icon"),F.Sc(2,"speaker_notes"),F.Wb(),F.Wb())}function Ct(t,e){if(1&t&&(F.Xb(0,"span"),F.Sc(1),F.Wb()),2&t){const t=F.jc(2).$implicit;F.Fb(1),F.Uc(" ",t.prefix," ")}}function Tt(t,e){1&t&&(F.Xb(0,"span"),F.Xb(1,"mat-icon"),F.Sc(2,"category"),F.Wb(),F.Wb())}function Ot(t,e){if(1&t&&(F.Xb(0,"span"),F.Qc(1,Ct,2,1,"span",7),F.Qc(2,Tt,3,0,"span",7),F.Wb()),2&t){const t=F.jc().$implicit;F.Fb(1),F.rc("ngIf",t.prefix),F.Fb(1),F.rc("ngIf",!t.prefix)}}function It(t,e){if(1&t){const t=F.Yb();F.Xb(0,"os-block-tile",51),F.fc("clicked",(function(){F.Gc(t);const n=e.$implicit;return F.jc(2).changeToViewWithTileCategory(n)})),F.kc(1,"translate"),F.Vb(2,52),F.Xb(3,"table",53),F.kc(4,"translate"),F.kc(5,"translate"),F.Xb(6,"tbody"),F.Xb(7,"tr"),F.Xb(8,"td"),F.Xb(9,"span",54),F.Qc(10,kt,3,0,"span",55),F.Qc(11,Ft,3,0,"span",55),F.Qc(12,_t,3,0,"span",55),F.Qc(13,Ot,3,2,"span",56),F.Wb(),F.Wb(),F.Wb(),F.Wb(),F.Wb(),F.Ub(),F.Wb()}if(2&t){const t=e.$implicit;F.sc("title",F.lc(1,14,t.name)),F.rc("orientation","horizontal")("only","title")("blockType","node")("data",t),F.Fb(3),F.vc("matTooltip","",t.amountOfMotions," ",F.lc(4,16,"Motions")," \u2013 ",F.lc(5,18,t.name),""),F.Fb(6),F.rc("matBadge",t.amountOfMotions)("matBadgeColor","accent")("ngSwitch",t.name),F.Fb(1),F.rc("ngSwitchCase","Favorites"),F.Fb(1),F.rc("ngSwitchCase","No category"),F.Fb(1),F.rc("ngSwitchCase","Personal notes")}}function yt(t,e){if(1&t&&(F.Xb(0,"os-grid-layout"),F.Qc(1,It,14,20,"os-block-tile",50),F.Wb()),2&t){const t=F.jc();F.Fb(1),F.rc("ngForOf",t.listTiles)}}function Pt(t,e){if(1&t){const t=F.Yb();F.Xb(0,"div"),F.Xb(1,"button",59),F.fc("click",(function(){return F.Gc(t),F.jc(2).toggleMultiSelect()})),F.Xb(2,"mat-icon"),F.Sc(3,"library_add"),F.Wb(),F.Xb(4,"span"),F.Sc(5),F.kc(6,"translate"),F.Wb(),F.Wb(),F.Sb(7,"mat-divider"),F.Wb()}2&t&&(F.Fb(5),F.Tc(F.lc(6,1,"Multiselect")))}function jt(t,e){1&t&&(F.Xb(0,"div"),F.Xb(1,"button",60),F.Xb(2,"mat-icon"),F.Sc(3,"color_lens"),F.Wb(),F.Xb(4,"span"),F.Sc(5),F.kc(6,"translate"),F.Wb(),F.Wb(),F.Wb()),2&t&&(F.Fb(5),F.Tc(F.lc(6,1,"Amendments")))}function Qt(t,e){1&t&&(F.Xb(0,"div"),F.Xb(1,"button",61),F.Xb(2,"mat-icon"),F.Sc(3,"category"),F.Wb(),F.Xb(4,"span"),F.Sc(5),F.kc(6,"translate"),F.Wb(),F.Wb(),F.Wb()),2&t&&(F.Fb(5),F.Tc(F.lc(6,1,"Categories")))}function Rt(t,e){1&t&&(F.Xb(0,"div"),F.Xb(1,"button",62),F.Xb(2,"mat-icon"),F.Sc(3,"widgets"),F.Wb(),F.Xb(4,"span"),F.Sc(5),F.kc(6,"translate"),F.Wb(),F.Wb(),F.Wb()),2&t&&(F.Fb(5),F.Tc(F.lc(6,1,"Motion blocks")))}function xt(t,e){1&t&&F.Sb(0,"mat-divider")}function At(t,e){1&t&&(F.Xb(0,"button",68),F.Xb(1,"mat-icon"),F.Sc(2,"account_balance"),F.Wb(),F.Xb(3,"span"),F.Sc(4),F.kc(5,"translate"),F.Wb(),F.Wb()),2&t&&(F.Fb(4),F.Tc(F.lc(5,1,"Statute")))}function Dt(t,e){1&t&&(F.Xb(0,"button",69),F.Xb(1,"mat-icon"),F.Sc(2,"local_offer"),F.Wb(),F.Xb(3,"span"),F.Sc(4),F.kc(5,"translate"),F.Wb(),F.Wb()),2&t&&(F.Fb(4),F.Tc(F.lc(5,1,"Tags")))}function Lt(t,e){if(1&t&&(F.Xb(0,"div"),F.Xb(1,"button",63),F.Xb(2,"mat-icon"),F.Sc(3,"sort"),F.Wb(),F.Xb(4,"span"),F.Sc(5),F.kc(6,"translate"),F.Wb(),F.Wb(),F.Qc(7,At,6,3,"button",64),F.Xb(8,"button",65),F.Xb(9,"mat-icon"),F.Sc(10,"speaker_notes"),F.Wb(),F.Xb(11,"span"),F.Sc(12),F.kc(13,"translate"),F.Wb(),F.Wb(),F.Xb(14,"button",66),F.Xb(15,"mat-icon"),F.Sc(16,"build"),F.Wb(),F.Xb(17,"span"),F.Sc(18),F.kc(19,"translate"),F.Wb(),F.Wb(),F.Qc(20,Dt,6,3,"button",67),F.Sb(21,"mat-divider"),F.Wb()),2&t){const t=F.jc(2);F.Fb(5),F.Tc(F.lc(6,5,"Call list")),F.Fb(2),F.rc("ngIf",t.statutesEnabled),F.Fb(5),F.Tc(F.lc(13,7,"Comment fields")),F.Fb(6),F.Tc(F.lc(19,9,"Workflows")),F.Fb(2),F.rc("osPerms","core.can_manage_tags")}}function Vt(t,e){if(1&t){const t=F.Yb();F.Xb(0,"button",59),F.fc("click",(function(){return F.Gc(t),F.jc(2).openExportDialog()})),F.Xb(1,"mat-icon"),F.Sc(2,"archive"),F.Wb(),F.Xb(3,"span"),F.Sc(4),F.kc(5,"translate"),F.Wb(),F.Wb()}2&t&&(F.Fb(4),F.Tc(F.lc(5,1,"Export")))}function Et(t,e){1&t&&(F.Xb(0,"div"),F.Xb(1,"button",70),F.Xb(2,"mat-icon"),F.Sc(3,"cloud_upload"),F.Wb(),F.Xb(4,"span"),F.Sc(5),F.kc(6,"translate"),F.Wb(),F.Wb(),F.Wb()),2&t&&(F.Fb(5),F.Tc(F.lc(6,1,"Import")))}function Bt(t,e){1&t&&(F.Xb(0,"div"),F.Sb(1,"mat-divider"),F.Xb(2,"button",71),F.Xb(3,"mat-icon"),F.Sc(4,"settings"),F.Wb(),F.Xb(5,"span"),F.Sc(6),F.kc(7,"translate"),F.Wb(),F.Wb(),F.Wb()),2&t&&(F.Fb(6),F.Tc(F.lc(7,1,"Settings")))}function Gt(t,e){if(1&t&&(F.Xb(0,"div"),F.Qc(1,Pt,8,3,"div",7),F.Qc(2,jt,7,3,"div",7),F.Qc(3,Qt,7,3,"div",7),F.Qc(4,Rt,7,3,"div",7),F.Qc(5,xt,1,0,"mat-divider",7),F.Qc(6,Lt,22,11,"div",7),F.Qc(7,Vt,6,3,"button",57),F.Qc(8,Et,7,3,"div",7),F.Qc(9,Bt,8,3,"div",58),F.Wb()),2&t){const t=F.jc();F.Fb(1),F.rc("ngIf",t.perms.isAllowed("change_metadata")&&"list"===t.selectedView),F.Fb(1),F.rc("ngIf",t.amendmentsEnabled&&(t.perms.isAllowed("manage")||t.hasAmendments())),F.Fb(1),F.rc("ngIf",t.perms.isAllowed("manage")||t.categories.length),F.Fb(1),F.rc("ngIf",t.perms.isAllowed("manage")||t.motionBlocks.length),F.Fb(1),F.rc("ngIf",(t.categories.length||t.motionBlocks.length||t.hasAmendments()||t.perms.isAllowed("manage"))&&(t.perms.isAllowed("manage")||"list"===t.selectedView||t.perms.isAllowed("can_manage_config"))),F.Fb(1),F.rc("ngIf",t.perms.isAllowed("manage")),F.Fb(1),F.rc("ngIf","list"===t.selectedView),F.Fb(1),F.rc("ngIf",t.perms.isAllowed("manage")),F.Fb(1),F.rc("osPerms","core.can_manage_config")}}function Ut(t,e){if(1&t){const t=F.Yb();F.Vb(0),F.Sb(1,"mat-divider"),F.Xb(2,"os-motion-multiselect-actions",73),F.fc("action",(function(e){return F.Gc(t),F.jc(2).multiselectWrapper(e)})),F.Xb(3,"button",72),F.fc("click",(function(){F.Gc(t);const e=F.jc(2);return e.multiselectWrapper(e.multiselectService.moveToItem(e.selectedRows))})),F.Xb(4,"mat-icon"),F.Sc(5,"sort"),F.Wb(),F.Xb(6,"span"),F.Sc(7),F.kc(8,"translate"),F.Wb(),F.Wb(),F.Xb(9,"button",72),F.fc("click",(function(){F.Gc(t);const e=F.jc(2);return e.multiselectWrapper(e.multiselectService.bulkMoveItems(e.selectedRows))})),F.Xb(10,"mat-icon"),F.Sc(11,"format_indent_increase"),F.Wb(),F.Xb(12,"span"),F.Sc(13),F.kc(14,"translate"),F.Wb(),F.Wb(),F.Wb(),F.Ub()}if(2&t){const t=F.jc(2);F.Fb(2),F.rc("selectedMotions",t.selectedRows),F.Fb(1),F.rc("disabled",!t.selectedRows.length),F.Fb(4),F.Tc(F.lc(8,5,"Move to agenda item")),F.Fb(2),F.rc("disabled",!t.selectedRows.length),F.Fb(4),F.Tc(F.lc(14,7,"Move in call list"))}}function zt(t,e){if(1&t){const t=F.Yb();F.Xb(0,"div"),F.Xb(1,"button",59),F.fc("click",(function(){return F.Gc(t),F.jc().selectAll()})),F.Xb(2,"mat-icon"),F.Sc(3,"done_all"),F.Wb(),F.Xb(4,"span"),F.Sc(5),F.kc(6,"translate"),F.Wb(),F.Wb(),F.Xb(7,"button",72),F.fc("click",(function(){return F.Gc(t),F.jc().deselectAll()})),F.Xb(8,"mat-icon"),F.Sc(9,"clear"),F.Wb(),F.Xb(10,"span"),F.Sc(11),F.kc(12,"translate"),F.Wb(),F.Wb(),F.Qc(13,Ut,15,9,"ng-container",7),F.Wb()}if(2&t){const t=F.jc();F.Fb(5),F.Tc(F.lc(6,4,"Select all")),F.Fb(2),F.rc("disabled",!t.selectedRows.length),F.Fb(4),F.Tc(F.lc(12,6,"Deselect all")),F.Fb(2),F.rc("ngIf",t.perms.isAllowed("change_metadata"))}}function Yt(t,e){if(1&t&&(F.Xb(0,"mat-option",80),F.Sc(1),F.kc(2,"translate"),F.Wb()),2&t){const t=e.$implicit;F.rc("value",t.id),F.Fb(1),F.Uc(" ",F.lc(2,2,t.getTitle())," ")}}function Nt(t,e){if(1&t){const t=F.Yb();F.Xb(0,"mat-form-field"),F.Xb(1,"mat-select",79),F.fc("ngModelChange",(function(e){return F.Gc(t),F.jc(2).infoDialog.category_id=e})),F.kc(2,"translate"),F.Xb(3,"mat-option",80),F.Sc(4,"-"),F.Wb(),F.Qc(5,Yt,3,4,"mat-option",81),F.Wb(),F.Wb()}if(2&t){const t=F.jc(2);F.Fb(1),F.sc("placeholder",F.lc(2,4,"Category")),F.rc("ngModel",t.infoDialog.category_id),F.Fb(2),F.rc("value",null),F.Fb(2),F.rc("ngForOf",t.categories)}}function $t(t,e){if(1&t&&(F.Xb(0,"mat-option",80),F.Sc(1),F.kc(2,"translate"),F.Wb()),2&t){const t=e.$implicit;F.rc("value",t.id),F.Fb(1),F.Uc(" ",F.lc(2,2,t.getTitle())," ")}}function qt(t,e){if(1&t){const t=F.Yb();F.Xb(0,"mat-form-field"),F.Xb(1,"mat-select",79),F.fc("ngModelChange",(function(e){return F.Gc(t),F.jc(2).infoDialog.motion_block_id=e})),F.kc(2,"translate"),F.Xb(3,"mat-option",80),F.Sc(4,"-"),F.Wb(),F.Qc(5,$t,3,4,"mat-option",81),F.Wb(),F.Wb()}if(2&t){const t=F.jc(2);F.Fb(1),F.sc("placeholder",F.lc(2,4,"Motion block")),F.rc("ngModel",t.infoDialog.motion_block_id),F.Fb(2),F.rc("value",null),F.Fb(2),F.rc("ngForOf",t.motionBlocks)}}function Ht(t,e){if(1&t&&(F.Xb(0,"mat-option",80),F.Sc(1),F.kc(2,"translate"),F.Wb()),2&t){const t=e.$implicit;F.rc("value",t.id),F.Fb(1),F.Uc(" ",F.lc(2,2,t.getTitle())," ")}}function Jt(t,e){if(1&t){const t=F.Yb();F.Xb(0,"mat-form-field"),F.Xb(1,"mat-select",82),F.fc("ngModelChange",(function(e){return F.Gc(t),F.jc(2).infoDialog.tags_id=e})),F.kc(2,"translate"),F.Qc(3,Ht,3,4,"mat-option",81),F.Wb(),F.Wb()}if(2&t){const t=F.jc(2);F.Fb(1),F.sc("placeholder",F.lc(2,3,"Tags")),F.rc("ngModel",t.infoDialog.tags_id),F.Fb(2),F.rc("ngForOf",t.tags)}}function Kt(t,e){if(1&t&&(F.Xb(0,"mat-option",80),F.Sc(1),F.kc(2,"translate"),F.Wb()),2&t){const t=e.$implicit;F.rc("value",t.id),F.Fb(1),F.Uc(" ",F.lc(2,2,t.getTitle())," ")}}function Zt(t,e){if(1&t){const t=F.Yb();F.Xb(0,"mat-form-field"),F.Xb(1,"mat-select",79),F.fc("ngModelChange",(function(e){return F.Gc(t),F.jc(2).infoDialog.state_id=e})),F.kc(2,"translate"),F.Qc(3,Kt,3,4,"mat-option",81),F.Wb(),F.Wb()}if(2&t){const t=F.jc(2);F.Fb(1),F.sc("placeholder",F.lc(2,3,"State")),F.rc("ngModel",t.infoDialog.state_id),F.Fb(2),F.rc("ngForOf",t.selectedMotion.state.next_states)}}function te(t,e){if(1&t&&(F.Xb(0,"mat-option",80),F.Sc(1),F.kc(2,"translate"),F.Wb()),2&t){const t=e.$implicit;F.rc("value",t.id),F.Fb(1),F.Uc(" ",F.lc(2,2,t.recommendation_label)," ")}}function ee(t,e){if(1&t){const t=F.Yb();F.Xb(0,"mat-form-field"),F.Xb(1,"mat-select",79),F.fc("ngModelChange",(function(e){return F.Gc(t),F.jc(2).infoDialog.recommendation_id=e})),F.kc(2,"translate"),F.Qc(3,te,3,4,"mat-option",81),F.Wb(),F.Wb()}if(2&t){const t=F.jc(2);F.Fb(1),F.sc("placeholder",F.lc(2,3,"Recommendation")),F.rc("ngModel",t.infoDialog.recommendation_id),F.Fb(2),F.rc("ngForOf",t.selectedMotion.possibleRecommendations)}}function ne(t,e){if(1&t&&(F.Xb(0,"h1",74),F.Xb(1,"span"),F.Sc(2),F.kc(3,"translate"),F.Wb(),F.Wb(),F.Xb(4,"div",75),F.Qc(5,Nt,6,6,"mat-form-field",7),F.Qc(6,qt,6,6,"mat-form-field",7),F.Qc(7,Jt,4,5,"mat-form-field",7),F.Qc(8,Zt,4,5,"mat-form-field",7),F.Qc(9,ee,4,5,"mat-form-field",7),F.Wb(),F.Xb(10,"div",76),F.Xb(11,"button",77),F.Xb(12,"span"),F.Sc(13),F.kc(14,"translate"),F.Wb(),F.Wb(),F.Xb(15,"button",78),F.Xb(16,"span"),F.Sc(17),F.kc(18,"translate"),F.Wb(),F.Wb(),F.Wb()),2&t){const t=F.jc();F.Fb(2),F.Vc("",F.lc(3,11,"Edit details for")," ",t.infoDialog.title,""),F.Fb(3),F.rc("ngIf",t.isCategoryAvailable()),F.Fb(1),F.rc("ngIf",t.isMotionBlockAvailable()),F.Fb(1),F.rc("ngIf",t.isTagAvailable()),F.Fb(1),F.rc("ngIf",t.perms.isAllowed("change_state",t.selectedMotion)),F.Fb(1),F.rc("ngIf",t.perms.isAllowed("change_state",t.selectedMotion)),F.Fb(2),F.rc("mat-dialog-close",t.infoDialog),F.Fb(2),F.Tc(F.lc(14,13,"Save")),F.Fb(2),F.rc("mat-dialog-close",null),F.Fb(2),F.Tc(F.lc(18,15,"Cancel"))}}const ie=[{path:"",component:(()=>{class t extends W.a{constructor(t,e,n,i,o,c,a,l,s,b,r,m,g,d,f,u,p,h,W,v,X){super(t,e,n,o),this.translate=e,this.route=i,this.filterService=c,this.sortService=a,this.router=l,this.configService=s,this.tagRepo=b,this.motionBlockRepo=r,this.categoryRepo=m,this.workflowRepo=g,this.motionRepo=d,this.dialog=f,this.multiselectService=u,this.perms=p,this.motionExport=h,this.overlayService=W,this.vp=v,this.operator=X,this.selectedMotion=null,this.tableColumnDefinition=[{prop:"identifier"},{prop:"title",width:"auto"},{prop:"state",width:"20%",minWidth:160}],this.tags=[],this.workflows=[],this.categories=[],this.motionBlocks=[],this.filterProps=["submitters","motion_block","title","identifier"],this.motionTiles=[],this.categoryTiles=[],this.canMultiSelect=!0}ngOnInit(){const t=Object.create(null,{setTitle:{get:()=>super.setTitle}});return Object(a.a)(this,void 0,void 0,(function*(){t.setTitle.call(this,"Motions"),this.configService.get("motions_statutes_enabled").subscribe(t=>this.statutesEnabled=t),this.configService.get("motions_amendments_enabled").subscribe(t=>this.amendmentsEnabled=t),this.configService.get("motions_recommendations_by").subscribe(t=>{this.recommendationEnabled=!!t}),this.configService.get("motions_show_sequential_numbers").subscribe(t=>this.showSequential=t),this.motionBlockRepo.getViewModelListObservable().subscribe(t=>{this.motionBlocks=t}),this.categoryRepo.getViewModelListObservable().subscribe(t=>{this.categories=t,t.length>0?this.storage.get("motionListView").then(t=>{this.selectedView=t||"tiles"}):this.selectedView="list"}),this.tagRepo.getViewModelListObservable().subscribe(t=>{this.tags=t}),this.workflowRepo.getViewModelListObservable().subscribe(t=>this.workflows=t),this.motionRepo.getViewModelListObservable().subscribe(t=>{t&&t.length&&this.createMotionTiles(t)})}))}createTileList(){this.listTiles=this.categoryTiles.concat(this.motionTiles)}getColumnsHiddenInMobile(){const t=["identifier","state"];return this.perms.canAccessMobileDotMenu()||t.push("menu"),t}createCategoryTiles(t){this.categoryTiles=t.filter(t=>!t.parent_id&&!!t.totalAmountOfMotions).sort((t,e)=>t.weight-e.weight).map(t=>({filter:"category_id",name:t.name,condition:t.id,amountOfMotions:t.totalAmountOfMotions,prefix:t.prefix}))}createMotionTiles(t){this.motionTiles=[];let e=0,n=0,i=0;const o=new Set;for(const c of t)c.category?o.add(c.category.oldestParent):i++,e+=+this.motionHasProp(c,"star"),n+=+this.motionHasProp(c,"hasNotes");this.addToTileInfo("Favorites","star",!0,e),this.addToTileInfo("Personal notes","hasNotes",!0,n),this.addToTileInfo("No category","category_id",null,i),this.createCategoryTiles(Array.from(o)),this.createTileList()}motionHasProp(t,e,n=!0){return!!t[e]===n}addToTileInfo(t,e,n,i){i&&this.motionTiles.push({filter:e,name:t,condition:n,amountOfMotions:i})}onPlusButton(){this.router.navigate(["./new"],{relativeTo:this.route})}openExportDialog(){this.dialog.open(k.a,Object.assign(Object.assign({},h.b),{data:this.dataSource})).afterClosed().subscribe(t=>this.motionExport.evaluateExportRequest(t,this.isMultiSelect?this.selectedRows:this.dataSource.filteredData))}multiselectWrapper(t){return Object(a.a)(this,void 0,void 0,(function*(){t.then(()=>this.overlayService.hideSpinner(),this.raiseError)}))}onChangeView(t){this.selectedView=t,this.storage.set("motionListView",t)}changeToViewWithTileCategory(t){this.onChangeView("list"),this.filterService.clearAllFilters(),this.filterService.toggleFilterOption(t.filter,{label:t.name,condition:t.condition,isActive:!1})}openEditInfo(t){return Object(a.a)(this,void 0,void 0,(function*(){if(this.isMultiSelect||!this.perms.isAllowed("change_metadata"))return;this.selectedMotion=t,this.infoDialog={title:t.title,motion_block_id:t.motion_block_id,category_id:t.category_id,tags_id:t.tags_id,state_id:t.state_id,recommendation_id:t.recommendation_id};const e=this.dialog.open(this.motionInfoDialog,h.a);e.keydownEvents().subscribe(t=>{"Enter"===t.key&&t.shiftKey&&e.close(this.infoDialog)});const n=yield e.afterClosed().toPromise();if(n){delete n.title;try{yield this.motionRepo.patch(n,t),n.state_id!==t.state_id&&(yield this.motionRepo.setState(t,n.state_id)),n.recommendation_id!==t.recommendation_id&&(yield this.motionRepo.setRecommendation(t,n.recommendation_id))}catch(i){this.raiseError(i)}}this.selectedMotion=null}))}hasAmendments(){return!!this.motionRepo.getAllAmendmentsInstantly().length}isCategoryAvailable(){return!!this.categories&&this.categories.length>0}isTagAvailable(){return!!this.tags&&this.tags.length>0}isMotionBlockAvailable(){return!!this.motionBlocks&&this.motionBlocks.length>0}}return t.\u0275fac=function(e){return new(e||t)(F.Rb(_.c),F.Rb(C.k),F.Rb(T.a),F.Rb(c.a),F.Rb(s.a),F.Rb(S.a),F.Rb(w.a),F.Rb(c.f),F.Rb(f.a),F.Rb(d.a),F.Rb(r.a),F.Rb(b.a),F.Rb(g.a),F.Rb(m.a),F.Rb(O.b),F.Rb(M.a),F.Rb(v.a),F.Rb(X.a),F.Rb(u.a),F.Rb(p.a),F.Rb(l.a))},t.\u0275cmp=F.Lb({type:t,selectors:[["os-motion-list"]],viewQuery:function(t,e){var n;1&t&&F.Mc(J,!0),2&t&&F.Bc(n=F.gc())&&(e.motionInfoDialog=n.first)},features:[F.Cb],decls:34,vars:16,consts:[[3,"hasMainButton","multiSelectMode","mainEvent"],[1,"title-slot"],[1,"menu-slot"],["type","button","mat-icon-button","",3,"matMenuTriggerFor"],[1,"central-info-slot"],["mat-icon-button","",3,"click"],[1,"extra-controls-slot"],[4,"ngIf"],[4,"ngIf","ngIfThen","ngIfElse"],["list",""],["singleItemMenu","matMenu"],["matMenuContent",""],["tiles",""],["motionListMenu","matMenu"],["motionInfoDialog",""],["mat-button","",3,"matTooltip","click",4,"ngIf"],["mat-button","",3,"matTooltip","click"],["listStorageKey","motion",3,"listObservableProvider","filterService","sortService","columns","multiSelect","filterProps","hiddenInMobile","selectedRows","selectedRowsChange","dataSourceChange"],["class","cell-slot fill",4,"pblNgridCellDef"],["class","cell-slot fill",3,"ngClass","click",4,"pblNgridCellDef"],[1,"cell-slot","fill"],["class","detail-link",3,"routerLink",4,"ngIf"],[1,"column-identifier","innerTable"],[1,"detail-link",3,"routerLink"],[1,"column-title","innerTable"],[1,"title-line","ellipsis-overflow"],["class","favorite-star",4,"ngIf"],["class","icon-prefix",4,"ngIf"],[1,"submitters-line","ellipsis-overflow"],[1,"ellipsis-overflow","white"],[3,"ngClass","disabled",4,"ngIf"],["class","ellipsis-overflow white spacer-top-3",4,"ngIf"],[1,"favorite-star"],["inline",""],[1,"icon-prefix"],[3,"ngClass","disabled"],[1,"ellipsis-overflow","white","spacer-top-3"],[1,"bluegrey",3,"disabled"],[1,"cell-slot","fill",3,"ngClass","click"],[1,"column-state","innerTable"],["class","ellipsis-overflow",4,"ngIf"],["class","ellipsis-overflow spacer-top-5",4,"ngIf"],[1,"ellipsis-overflow"],["icon","category"],[1,"ellipsis-overflow","spacer-top-5"],["icon","widgets"],["icon","local_offer"],[4,"ngFor","ngForOf"],["mat-icon-button","",3,"disabled","matMenuTriggerFor","matMenuTriggerData","click"],[3,"object","menuItem"],[3,"orientation","only","blockType","data","title","clicked",4,"ngFor","ngForOf"],[3,"orientation","only","blockType","data","title","clicked"],[1,"block-node"],[3,"matTooltip"],[1,"tile-block-title",3,"matBadge","matBadgeColor","ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["mat-menu-item","",3,"click",4,"ngIf"],[4,"osPerms"],["mat-menu-item","",3,"click"],["mat-menu-item","","routerLink","amendments"],["mat-menu-item","","routerLink","category"],["mat-menu-item","","routerLink","blocks"],["mat-menu-item","","routerLink","call-list"],["mat-menu-item","","routerLink","statute-paragraphs",4,"ngIf"],["mat-menu-item","","routerLink","comment-section"],["mat-menu-item","","routerLink","workflow"],["mat-menu-item","","routerLink","/tags",4,"osPerms"],["mat-menu-item","","routerLink","statute-paragraphs"],["mat-menu-item","","routerLink","/tags"],["mat-menu-item","","routerLink","import"],["mat-menu-item","","routerLink","/settings/motions"],["mat-menu-item","",3,"disabled","click"],[3,"selectedMotions","action"],["mat-dialog-title",""],["mat-dialog-content","",1,"os-form-card-mobile"],["mat-dialog-actions",""],["type","submit","mat-button","","color","accent",3,"mat-dialog-close"],["type","button","mat-button","",3,"mat-dialog-close"],[3,"placeholder","ngModel","ngModelChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["multiple","",3,"placeholder","ngModel","ngModelChange"]],template:function(t,e){if(1&t&&(F.Xb(0,"os-head-bar",0),F.fc("mainEvent",(function(){return e.onPlusButton()})),F.Xb(1,"div",1),F.Xb(2,"h2"),F.Sc(3),F.kc(4,"translate"),F.Wb(),F.Wb(),F.Xb(5,"div",2),F.Xb(6,"button",3),F.Xb(7,"mat-icon"),F.Sc(8,"more_vert"),F.Wb(),F.Wb(),F.Wb(),F.Xb(9,"div",4),F.Xb(10,"button",5),F.fc("click",(function(){return e.toggleMultiSelect()})),F.Xb(11,"mat-icon"),F.Sc(12,"arrow_back"),F.Wb(),F.Wb(),F.Xb(13,"span"),F.Sc(14),F.Wb(),F.Xb(15,"span"),F.Sc(16),F.kc(17,"translate"),F.Wb(),F.Wb(),F.Xb(18,"div",6),F.Qc(19,tt,3,2,"div",7),F.Wb(),F.Wb(),F.Qc(20,et,1,0,"ng-container",8),F.Qc(21,Mt,5,12,"ng-template",null,9,F.Rc),F.Xb(23,"mat-menu",null,10),F.Qc(25,wt,2,4,"ng-template",11),F.Wb(),F.Qc(26,yt,2,1,"ng-template",null,12,F.Rc),F.Xb(28,"mat-menu",null,13),F.Qc(30,Gt,10,9,"div",7),F.Qc(31,zt,14,8,"div",7),F.Wb(),F.Qc(32,ne,19,17,"ng-template",null,14,F.Rc)),2&t){const t=F.Cc(22),n=F.Cc(27),i=F.Cc(29);F.rc("hasMainButton",e.perms.isAllowed("create"))("multiSelectMode",e.isMultiSelect),F.Fb(3),F.Tc(F.lc(4,12,"Motions")),F.Fb(3),F.rc("matMenuTriggerFor",i),F.Fb(8),F.Uc("",e.selectedRows.length,"\xa0"),F.Fb(2),F.Tc(F.lc(17,14,"selected")),F.Fb(3),F.rc("ngIf",e.isCategoryAvailable()&&!e.isMultiSelect),F.Fb(1),F.rc("ngIf","tiles"===e.selectedView)("ngIfThen",n)("ngIfElse",t),F.Fb(10),F.rc("ngIf",!e.isMultiSelect),F.Fb(1),F.rc("ngIf",e.isMultiSelect)}},directives:[I.a,y.b,P.e,j.a,i.t,P.f,P.b,Q.c,R.a,x.b,c.i,A.a,i.q,D.a,i.s,L.a,V.a,E.a,B.a,G.a,i.x,i.y,i.z,U.a,P.c,z.a,c.g,Y.a,O.i,O.f,O.c,O.d,N.c,$.a,q.t,q.w,H.n],pipes:[C.j],styles:[".title-line[_ngcontent-%COMP%]{font-weight:500;font-size:16px}.title-line[_ngcontent-%COMP%]   .icon-prefix[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle;font-size:16px;height:16px;width:16px}.title-line[_ngcontent-%COMP%]   .favorite-star[_ngcontent-%COMP%]{padding-right:3px}.mat-table[_ngcontent-%COMP%]{width:100%}.mat-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]   .mat-column-anchor[_ngcontent-%COMP%]{display:none}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{position:relative}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-column-anchor[_ngcontent-%COMP%]{position:absolute!important;top:0;right:0;bottom:0;left:0;opacity:.1;z-index:1}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-column-anchor[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;height:100%;width:100%}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{position:relative}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{position:absolute;display:inherit;height:100%;width:100%;line-height:0}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{z-index:2}.mat-table[_ngcontent-%COMP%]   .mat-table-sticky[_ngcontent-%COMP%]{z-index:3!important}.submitters-line[_ngcontent-%COMP%]{font-size:90%}.mat-button-toggle-group[_ngcontent-%COMP%]{line-height:normal;vertical-align:middle;box-shadow:none}.mat-button-toggle-group[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{vertical-align:middle;margin:0}.projector-button[_ngcontent-%COMP%]{margin:auto}.column-identifier[_ngcontent-%COMP%]{margin-top:10px;word-break:break-all}.column-state[_ngcontent-%COMP%], .column-title[_ngcontent-%COMP%]{margin-top:10px}.column-state[_ngcontent-%COMP%]{width:inherit}.column-state[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:150%}os-grid-layout[_ngcontent-%COMP%]   .color-select[_ngcontent-%COMP%]{width:100%;padding:0 8px}os-grid-layout[_ngcontent-%COMP%]   .tile-block-title[_ngcontent-%COMP%]{font-size:36px}os-grid-layout[_ngcontent-%COMP%]   .tile-block-title[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:36px;width:36px;height:36px}os-grid-layout[_ngcontent-%COMP%]   .tile-block-title[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{right:-22px;top:-11px;font-size:16px;width:30px;height:30px;line-height:30px}"],changeDetection:0}),t})(),pathMatch:"full"}];let oe=(()=>{class t{}return t.\u0275mod=F.Pb({type:t}),t.\u0275inj=F.Ob({factory:function(e){return new(e||t)},imports:[[c.j.forChild(ie)],c.j]}),t})();var ce=n("IItz");let ae=(()=>{class t{}return t.\u0275mod=F.Pb({type:t}),t.\u0275inj=F.Ob({factory:function(e){return new(e||t)},imports:[[i.c,oe,o.a,ce.a]]}),t})()}}]);