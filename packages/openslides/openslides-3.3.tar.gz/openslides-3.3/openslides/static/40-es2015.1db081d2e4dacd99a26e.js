(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{"9st3":function(t,n,e){"use strict";e.d(n,"a",(function(){return o})),e("Ri39");var s=e("8Y7J");let o=(()=>{class t{constructor(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=s.Mb({type:t,inputs:{data:"data",projector:"projector"}}),t})()},DGQJ:function(t,n,e){"use strict";e.d(n,"a",(function(){return Q}));var s=e("w7eE"),o=e("OwvW"),c=e("HRp2"),i=e("qnZ9"),a=e("avkN"),l=e("8Y7J"),r=e("cUpR"),b=e("TSSN"),u=e("SVse"),g=e("6ako"),d=e("QUb3"),p=e("j7f2");function f(t,n){1&t&&(l.Xb(0,"span"),l.Sc(1),l.kc(2,"translate"),l.Wb()),2&t&&(l.Fb(1),l.Uc(" ",l.lc(2,1,"Yes")," "))}function h(t,n){1&t&&(l.Xb(0,"span"),l.Sc(1),l.kc(2,"translate"),l.Wb()),2&t&&(l.Fb(1),l.Uc(" ",l.lc(2,1,"Votes")," "))}function m(t,n){if(1&t&&(l.Xb(0,"th",8),l.Qc(1,f,3,3,"span",0),l.Qc(2,h,3,3,"span",0),l.Wb()),2&t){const t=l.jc(3);l.Fb(1),l.rc("ngIf",!t.isMethodY),l.Fb(1),l.rc("ngIf",t.isMethodY)}}function M(t,n){1&t&&(l.Xb(0,"span",12),l.Sc(1),l.kc(2,"translate"),l.Wb()),2&t&&(l.Fb(1),l.Uc(" ",l.lc(2,1,"No")," "))}function P(t,n){1&t&&(l.Xb(0,"span",13),l.Sc(1),l.kc(2,"translate"),l.Wb()),2&t&&(l.Fb(1),l.Uc(" ",l.lc(2,1,"Votes")," "))}function v(t,n){if(1&t&&(l.Xb(0,"th",9),l.Qc(1,M,3,3,"span",10),l.Qc(2,P,3,3,"span",11),l.Wb()),2&t){const t=l.jc(3);l.Fb(1),l.rc("ngIf",!t.isMethodN),l.Fb(1),l.rc("ngIf",t.isMethodN)}}function F(t,n){1&t&&(l.Xb(0,"th",14),l.Sc(1),l.kc(2,"translate"),l.Wb()),2&t&&(l.Fb(1),l.Tc(l.lc(2,1,"Abstain")))}function C(t,n){if(1&t&&(l.Xb(0,"span",17),l.Sb(1,"br"),l.Sc(2),l.Wb()),2&t){const t=l.jc().$implicit;l.Fb(2),l.Uc(" ",t.votingOptionSubtitle," ")}}function O(t,n){if(1&t&&(l.Xb(0,"span"),l.Sc(1),l.kc(2,"pollPercentBase"),l.Wb()),2&t){const t=l.jc().$implicit,n=l.jc().$implicit,e=l.jc(3);l.Fb(1),l.Uc(" ",l.nc(2,1,e.getVoteAmount(t,n),e.poll,"assignment")," ")}}function _(t,n){if(1&t&&(l.Xb(0,"span"),l.Sc(1),l.kc(2,"parsePollNumber"),l.Wb()),2&t){const t=l.jc().$implicit,n=l.jc().$implicit,e=l.jc(3);l.Fb(1),l.Uc(" ",l.lc(2,1,e.getVoteAmount(t,n))," ")}}function S(t,n){if(1&t&&(l.Xb(0,"span"),l.Sc(1),l.kc(2,"parsePollNumber"),l.Wb()),2&t){const t=l.jc().$implicit;l.Fb(1),l.Uc(" ",l.lc(2,1,t.amount)," ")}}function W(t,n){if(1&t&&(l.Xb(0,"td",9),l.Xb(1,"div",18),l.Xb(2,"span"),l.Qc(3,O,3,5,"span",0),l.Qc(4,_,3,3,"span",0),l.Qc(5,S,3,3,"span",0),l.Wb(),l.Wb(),l.Wb()),2&t){const t=n.$implicit,e=l.jc().$implicit,s=l.jc(3);l.Fb(1),l.rc("ngClass",s.getVoteClass(t)),l.Fb(2),l.rc("ngIf",t.showPercent),l.Fb(1),l.rc("ngIf","user"===e.class),l.Fb(1),l.rc("ngIf","user"!==e.class)}}function X(t,n){if(1&t&&(l.Xb(0,"tr"),l.Xb(1,"td",3),l.Xb(2,"div"),l.Xb(3,"span"),l.Sc(4),l.kc(5,"translate"),l.kc(6,"pollKeyVerbose"),l.Wb(),l.Qc(7,C,3,1,"span",15),l.Wb(),l.Wb(),l.Qc(8,W,6,4,"td",16),l.Wb()),2&t){const t=n.$implicit,e=l.jc(3);l.Hb(t.class),l.Fb(4),l.Uc(" ",l.lc(5,5,l.lc(6,7,t.votingOption))," "),l.Fb(3),l.rc("ngIf",t.votingOptionSubtitle),l.Fb(1),l.rc("ngForOf",e.filterRelevantResults(t.value))}}function I(t,n){if(1&t&&(l.Xb(0,"table",2),l.Xb(1,"tbody"),l.Xb(2,"tr"),l.Xb(3,"th",3),l.Sc(4),l.kc(5,"translate"),l.Wb(),l.Qc(6,m,3,2,"th",4),l.Qc(7,v,3,2,"th",5),l.Qc(8,F,3,3,"th",6),l.Wb(),l.Qc(9,X,9,9,"tr",7),l.Wb(),l.Wb()),2&t){const t=l.jc(2);l.Fb(4),l.Tc(l.lc(5,5,"Candidates")),l.Fb(2),l.rc("ngIf",t.showYHeader),l.Fb(1),l.rc("ngIf",t.showNHeader),l.Fb(1),l.rc("ngIf",t.isMethodYNA),l.Fb(1),l.rc("ngForOf",t.tableData)}}function N(t,n){1&t&&(l.Xb(0,"div"),l.Xb(1,"i"),l.Sc(2),l.kc(3,"translate"),l.Wb(),l.Wb()),2&t&&(l.Fb(2),l.Uc(" ",l.lc(3,1,"No results yet.")," "))}function k(t,n){1&t&&(l.Xb(0,"div"),l.Xb(1,"i"),l.Sc(2),l.kc(3,"translate"),l.Wb(),l.Wb()),2&t&&(l.Fb(2),l.Uc(" ",l.lc(3,1,"Counting of votes is in progress ...")," "))}function j(t,n){if(1&t&&(l.Xb(0,"div"),l.Qc(1,I,10,7,"table",1),l.Qc(2,N,4,3,"div",0),l.Qc(3,k,4,3,"div",0),l.Wb()),2&t){const t=l.jc();l.Fb(1),l.rc("ngIf",t.hasResults&&t.canSeeResults),l.Fb(1),l.rc("ngIf",!t.hasResults),l.Fb(1),l.rc("ngIf",t.hasResults&&!t.canSeeResults)}}let Q=(()=>{class t extends s.a{constructor(t,n,e,s){super(t,n),this.pollService=e,this.operator=s}get method(){return this.poll.pollmethod}get state(){return this.poll.state}get showYHeader(){return this.isMethodY||this.isMethodYN||this.isMethodYNA}get showNHeader(){return this.isMethodN||this.isMethodYN||this.isMethodYNA}get isMethodY(){return this.method===c.b.Y}get isMethodN(){return this.method===c.b.N}get isMethodYN(){return this.method===c.b.YN}get isMethodYNA(){return this.method===c.b.YNA}get isFinished(){return this.state===i.e.Finished}get isPublished(){return this.state===i.e.Published}get tableData(){return this.pollService.generateTableData(this.poll)}get hasResults(){return this.isFinished||this.isPublished}get canSeeResults(){return this.operator.hasPerms(this.permission.assignmentsCanManage)||this.isPublished}getVoteClass(t){const n=t.vote;return this.isMethodN&&"no"===n?"yes":n}filterRelevantResults(t){return t.filter(t=>t&&this.voteFitsMethod(t))}getVoteAmount(t,n){return this.isMethodN&&"user"===n.class?t.amount<0?t.amount:this.poll.votesvalid-t.amount:t.amount}voteFitsMethod(t){return!t.vote||(this.isMethodY?"yes"===t.vote:this.isMethodN?"no"===t.vote:!this.isMethodYN||"abstain"!==t.vote)}}return t.\u0275fac=function(n){return new(n||t)(l.Rb(r.c),l.Rb(b.k),l.Rb(a.a),l.Rb(o.a))},t.\u0275cmp=l.Lb({type:t,selectors:[["os-assignment-poll-detail-content"]],inputs:{poll:"poll"},features:[l.Cb],decls:1,vars:1,consts:[[4,"ngIf"],["class","assignment-result-table",4,"ngIf"],[1,"assignment-result-table"],[1,"voting-option"],["class","result yes",4,"ngIf"],["class","result",4,"ngIf"],["class","result abstain",4,"ngIf"],[3,"class",4,"ngFor","ngForOf"],[1,"result","yes"],[1,"result"],["class","no",4,"ngIf"],["class","yes",4,"ngIf"],[1,"no"],[1,"yes"],[1,"result","abstain"],["class","user-subtitle",4,"ngIf"],["class","result",4,"ngFor","ngForOf"],[1,"user-subtitle"],[1,"single-result",3,"ngClass"]],template:function(t,n){1&t&&l.Qc(0,j,4,3,"div",0),2&t&&l.rc("ngIf",n.poll)},directives:[u.t,u.s,u.q],pipes:[b.j,g.a,d.a,p.a],styles:[".yes[_ngcontent-%COMP%]{color:#4caf50}.no[_ngcontent-%COMP%]{color:#cc6c5b}.abstain[_ngcontent-%COMP%]{color:#a6a6a6}.voted-yes[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.voted-no[_ngcontent-%COMP%]{background-color:#cc6c5b;color:#fff}.voted-abstain[_ngcontent-%COMP%]{background-color:#a6a6a6;color:#fff}.start-poll-button[_ngcontent-%COMP%]{color:#4caf50}.stop-poll-button[_ngcontent-%COMP%]{color:#ff5252}.publish-poll-button[_ngcontent-%COMP%]{color:#e6b100}.assignment-result-table[_ngcontent-%COMP%]{margin-top:2em;display:block;overflow-x:auto;border-collapse:collapse}.assignment-result-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:400}.assignment-result-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:48px}.assignment-result-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-right:1em}.assignment-result-table[_ngcontent-%COMP%]   tr.sums[_ngcontent-%COMP%]{border-bottom:none}.assignment-result-table[_ngcontent-%COMP%]   tr.sums[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-top:1em;padding-bottom:1em}.assignment-result-table[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]{text-align:right;padding-left:1em}.assignment-result-table[_ngcontent-%COMP%]   .voting-option[_ngcontent-%COMP%]{min-width:200px;width:100%;text-align:left}.assignment-result-table[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%] + .sums[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-top:2em}.assignment-result-table[_ngcontent-%COMP%]   .single-result[_ngcontent-%COMP%]{white-space:pre}"]}),t})()},DuaU:function(t,n,e){"use strict";e.r(n),e.d(n,"AssignmentPollSlideModule",(function(){return f}));var s=e("SVse"),o=e("PCNd"),c=e("DGVe"),i=e("HRp2"),a=e("qnZ9"),l=e("JTqh"),r=e("8Y7J"),b=e("DGQJ");function u(t,n){if(1&t&&(r.Xb(0,"div"),r.Sb(1,"os-assignment-poll-detail-content",4),r.Wb()),2&t){const t=r.jc(2);r.Fb(1),r.rc("poll",t.data.data.poll)}}function g(t,n){if(1&t&&(r.Vb(0),r.Xb(1,"div",1),r.Xb(2,"h1",2),r.Sc(3),r.Wb(),r.Xb(4,"h2",3),r.Sc(5),r.Wb(),r.Wb(),r.Qc(6,u,2,1,"div",0),r.Ub()),2&t){const t=r.jc();r.Fb(3),r.Tc(t.data.data.assignment.title),r.Fb(2),r.Tc(t.data.data.poll.title),r.Fb(1),r.rc("ngIf",t.data.data.poll.state===t.PollState.Published)}}let d=(()=>{class t extends l.a{constructor(){super(...arguments),this.PollState=a.e,this.options={maintainAspectRatio:!1,responsive:!0,legend:{position:"right"}}}getDecimalFields(){return i.a.DECIMAL_FIELDS}}return t.\u0275fac=function(n){return p(n||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["os-assignment-poll-slide"]],features:[r.Cb],decls:1,vars:1,consts:[[4,"ngIf"],[1,"slidetitle"],[1,"assignment-title"],[1,"poll-title"],[3,"poll"]],template:function(t,n){1&t&&r.Qc(0,g,7,3,"ng-container",0),2&t&&r.rc("ngIf",n.data&&n.data.data)},directives:[s.t,b.a],styles:[".assignment-title[_ngcontent-%COMP%]{margin:0 0 10px}.slidetitle[_ngcontent-%COMP%]{margin-bottom:15px}"]}),t})();const p=r.Zb(d);let f=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(n){return new(n||t)},providers:[{provide:c.a.token,useValue:d}],imports:[[s.c,o.a]]}),t})()}}]);