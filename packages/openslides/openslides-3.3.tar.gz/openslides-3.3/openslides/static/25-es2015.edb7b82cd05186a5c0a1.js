(window.webpackJsonp=window.webpackJsonp||[]).push([[25,42],{"6Ehv":function(t,e,o){"use strict";o.d(e,"a",(function(){return w}));var n=o("InfO"),i=o("+KbT"),c=o("+az0"),a=o("8Y7J"),s=o("3Xi6"),r=o("SVse"),l=o("s7LF"),b=o("pMoy"),m=o("Q2Ze"),d=o("ZTz/"),u=o("UhP/"),f=o("oqD5"),h=o("TSSN");function p(t,e){if(1&t&&(a.Xb(0,"mat-option",7),a.Xb(1,"span"),a.Sc(2),a.kc(3,"translate"),a.Wb(),a.Wb()),2&t){const t=e.$implicit;a.rc("value",t.key),a.Fb(2),a.Tc(a.lc(3,2,t.name))}}function g(t,e){if(1&t&&(a.Xb(0,"div",2),a.Xb(1,"mat-form-field"),a.Sb(2,"os-search-value-selector",8),a.kc(3,"translate"),a.Wb(),a.Wb()),2&t){const t=a.jc(4);a.rc("formGroup",t.form),a.Fb(2),a.sc("placeholder",a.lc(3,5,"Parent agenda item")),a.rc("multiple",!1)("includeNone",!0)("inputListValues",t.itemObserver)}}function k(t,e){if(1&t&&(a.Vb(0),a.Xb(1,"div"),a.Xb(2,"mat-form-field",2),a.Xb(3,"mat-select",4),a.kc(4,"translate"),a.Qc(5,p,4,4,"mat-option",5),a.Wb(),a.Wb(),a.Wb(),a.Qc(6,g,4,7,"div",6),a.Ub()),2&t){const t=a.jc(3);a.Fb(2),a.rc("formGroup",t.form),a.Fb(1),a.sc("placeholder",a.lc(4,4,"Agenda visibility")),a.Fb(2),a.rc("ngForOf",t.ItemVisibilityChoices),a.Fb(1),a.rc("ngIf",t.itemObserver.value.length>0)}}function v(t,e){if(1&t&&(a.Vb(0),a.Xb(1,"div",2),a.Xb(2,"p"),a.Xb(3,"mat-checkbox",3),a.Xb(4,"span"),a.Sc(5),a.kc(6,"translate"),a.Wb(),a.Wb(),a.Wb(),a.Wb(),a.Qc(7,k,7,6,"ng-container",1),a.Ub()),2&t){const t=a.jc(2);a.Fb(1),a.rc("formGroup",t.form),a.Fb(4),a.Tc(a.lc(6,3,"Add to agenda")),a.Fb(2),a.rc("ngIf",!!t.checkbox.value)}}function F(t,e){if(1&t&&(a.Vb(0),a.Qc(1,v,8,5,"ng-container",1),a.Ub()),2&t){const t=a.jc();a.Fb(1),a.rc("ngIf",t.showForm)}}let w=(()=>{class t{constructor(t,e){this.configService=t,this.itemRepo=e,this.showForm=!1,this.ItemVisibilityChoices=c.b}ngOnInit(){this.checkbox=this.form.controls.agenda_create,this.configService.get("agenda_item_creation").subscribe(t=>{if("always"===t)this.showForm=!0,this.checkbox.disable(),this.form.patchValue({agenda_create:!0});else if("never"===t)this.showForm=!1,this.checkbox.disable(),this.form.patchValue({agenda_create:!1});else{const e="default_yes"===t;this.showForm=!0,this.checkbox.enable(),this.form.patchValue({agenda_create:e})}}),this.configService.get("agenda_new_items_default_visibility").subscribe(t=>{this.form.get("agenda_type").setValue(+t)}),this.itemObserver=this.itemRepo.getViewModelListBehaviorSubject()}}return t.\u0275fac=function(e){return new(e||t)(a.Rb(i.a),a.Rb(n.a))},t.\u0275cmp=a.Lb({type:t,selectors:[["os-agenda-content-object-form"]],inputs:{form:"form"},decls:1,vars:1,consts:[[4,"osPerms"],[4,"ngIf"],[3,"formGroup"],["formControlName","agenda_create"],["formControlName","agenda_type",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[3,"formGroup",4,"ngIf"],[3,"value"],["formControlName","agenda_parent_id",3,"multiple","includeNone","placeholder","inputListValues"]],template:function(t,e){1&t&&a.Qc(0,F,2,1,"ng-container",0),2&t&&a.rc("osPerms","agenda.can_manage")},directives:[s.a,r.t,l.u,l.l,b.a,l.t,l.j,m.c,d.a,r.s,u.n,f.a],pipes:[h.j],styles:[""]}),t})()},F48D:function(t,e,o){"use strict";o.d(e,"a",(function(){return s}));var n=o("mrSG"),i=o("LBBb"),c=o("8Y7J"),a=o("iELJ");let s=(()=>{class t{constructor(t){this.dialog=t}open(t,e=""){return Object(n.a)(this,void 0,void 0,(function*(){return this.dialog.open(i.a,{width:"290px",data:{title:t,content:e}}).afterClosed().toPromise()}))}}return t.\u0275fac=function(e){return new(e||t)(c.bc(a.b))},t.\u0275prov=c.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},FWGL:function(t,e,o){"use strict";o.r(e),o.d(e,"MotionBlockModule",(function(){return Lt}));var n=o("SVse"),i=o("PCNd"),c=o("iInd"),a=o("mrSG"),s=o("s7LF"),r=o("OwvW"),l=o("AqIO"),b=o("InfO"),m=o("D5Qf"),d=o("dOok"),u=o("+KbT"),f=o("F48D"),h=o("KL36"),p=o("Izkr"),g=o("wL0i"),k=o("D/ll"),v=o("iTQr"),F=o("+B0n"),w=o("s3dr"),S=o("lv9T"),W=o("Q5D0"),X=o("8Y7J"),M=o("TSSN");let y=(()=>{class t extends W.a{constructor(t,e,o,n,i,c,a,s,r,l){super(t,e,o,n,i,c,a,s,r,l)}set blockId(t){this._blockId=t}preFilter(t){return t.filter(t=>t.motion_block_id===this._blockId)}}return t.\u0275fac=function(e){return new(e||t)(X.bc(l.a),X.bc(k.a),X.bc(v.a),X.bc(m.a),X.bc(F.a),X.bc(S.a),X.bc(w.a),X.bc(M.k),X.bc(r.a),X.bc(u.a))},t.\u0275prov=X.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var _=o("cUpR"),C=o("zHaW"),I=o("iELJ"),O=o("mksl"),R=o("Dxy4"),T=o("rJgo"),P=o("Tj54"),j=o("0Obk"),B=o("4LpT"),x=o("40uZ"),D=o("3Xi6"),Q=o("vYAO"),L=o("f44v"),E=o("ZFy/"),N=o("Tp2j"),A=o("BSbQ"),G=o("Q2Ze"),V=o("e6WT"),z=o("IZUe"),U=o("pMoy");const Y=["blockEditForm"],q=["editDialog"];function K(t,e){if(1&t&&(X.Xb(0,"os-icon-container",16),X.kc(1,"translate"),X.Xb(2,"os-icon-container",17),X.kc(3,"translate"),X.Xb(4,"h2"),X.Sc(5),X.Wb(),X.Wb(),X.Wb()),2&t){const t=X.jc();X.rc("noWrap",!0)("showIcon",t.block.isFinished)("iconTooltip",X.lc(1,7,"Finished")),X.Fb(2),X.rc("noWrap",!0)("showIcon",t.block.internal)("iconTooltip",X.lc(3,9,"Internal")),X.Fb(3),X.Tc(t.block.title)}}function J(t,e){if(1&t){const t=X.Yb();X.Xb(0,"button",20),X.fc("click",(function(){return X.Gc(t),X.jc(2).onFollowRecButton()})),X.Xb(1,"os-icon-container",21),X.Xb(2,"span"),X.Sc(3),X.kc(4,"translate"),X.Wb(),X.Wb(),X.Wb()}if(2&t){const t=X.jc(2);X.rc("disabled",t.isFollowingProhibited()),X.Fb(3),X.Tc(X.lc(4,2,"Follow recommendations for all motions"))}}const H=function(){return["motions.can_manage","motions.can_manage_metadata"]};function Z(t,e){1&t&&(X.Xb(0,"div",18),X.Qc(1,J,5,4,"button",19),X.Wb()),2&t&&(X.Fb(1),X.rc("osPerms",X.wc(1,H)))}const $=function(){return{back:"true"}};function tt(t,e){if(1&t&&X.Sb(0,"a",31),2&t){const t=X.jc().row;X.rc("routerLink",t.getDetailStateURL())("state",X.wc(2,$))}}function et(t,e){1&t&&(X.Xb(0,"span",32),X.Xb(1,"mat-icon",33),X.Sc(2,"star"),X.Wb(),X.Wb())}function ot(t,e){1&t&&(X.Xb(0,"span",34),X.Xb(1,"mat-icon"),X.Sc(2,"attach_file"),X.Wb(),X.Wb())}function nt(t,e){if(1&t&&(X.Xb(0,"span"),X.Sc(1),X.Xb(2,"span"),X.Sc(3,"\xb7"),X.Wb(),X.Wb()),2&t){const t=X.jc().row;X.Fb(1),X.Uc(" ",t.identifier," ")}}function it(t,e){if(1&t&&(X.Xb(0,"span"),X.Xb(1,"span"),X.Sc(2),X.kc(3,"translate"),X.Wb(),X.Sc(4),X.Wb()),2&t){const t=X.jc().row;X.Fb(2),X.Tc(X.lc(3,2,"by")),X.Fb(2),X.Uc(" ",t.submitters," ")}}function ct(t,e){1&t&&(X.Xb(0,"span"),X.Sc(1," \xb7 "),X.Wb())}function at(t,e){if(1&t&&(X.Xb(0,"span"),X.Qc(1,ct,2,0,"span",11),X.Xb(2,"span"),X.Sc(3),X.kc(4,"translate"),X.Wb(),X.Sc(5),X.Wb()),2&t){const t=X.jc().row;X.Fb(1),X.rc("ngIf",t.submitters.length),X.Fb(2),X.Tc(X.lc(4,3,"Sequential number")),X.Fb(2),X.Uc(" ",t.id," ")}}function st(t,e){if(1&t&&(X.Xb(0,"mat-basic-chip",35),X.Sc(1),X.Wb()),2&t){const t=X.jc().row,e=X.jc();X.rc("ngClass",t.stateCssColor)("disabled",!0),X.Fb(1),X.Uc(" ",e.getStateLabel(t)," ")}}function rt(t,e){if(1&t&&(X.Xb(0,"div",22),X.Qc(1,tt,1,3,"a",23),X.Xb(2,"div",24),X.Xb(3,"div",25),X.Qc(4,et,3,0,"span",26),X.Qc(5,ot,3,0,"span",27),X.Xb(6,"span"),X.Qc(7,nt,4,1,"span",11),X.Sc(8),X.Wb(),X.Wb(),X.Xb(9,"div",28),X.Qc(10,it,5,4,"span",11),X.Qc(11,at,6,5,"span",11),X.Wb(),X.Xb(12,"div",29),X.Qc(13,st,2,3,"mat-basic-chip",30),X.Wb(),X.Wb(),X.Wb()),2&t){const t=e.row,o=X.jc();X.Fb(1),X.rc("ngIf",!o.isMultiSelect),X.Fb(3),X.rc("ngIf",t.star),X.Fb(1),X.rc("ngIf",t.hasAttachments()),X.Fb(2),X.rc("ngIf",t.identifier),X.Fb(1),X.Uc(" ",t.title," "),X.Fb(2),X.rc("ngIf",t.submitters.length),X.Fb(1),X.rc("ngIf",o.showSequential),X.Fb(2),X.rc("ngIf",t.state)}}function lt(t,e){if(1&t&&(X.Xb(0,"mat-basic-chip",37),X.Sc(1),X.Wb()),2&t){const t=X.jc().row,e=X.jc();X.Fb(1),X.Uc(" ",e.getRecommendationLabel(t)," ")}}function bt(t,e){if(1&t&&(X.Xb(0,"div",22),X.Qc(1,lt,2,1,"mat-basic-chip",36),X.Wb()),2&t){const t=e.row;X.Fb(1),X.rc("ngIf",!!t.recommendation)}}function mt(t,e){if(1&t){const t=X.Yb();X.Xb(0,"div",22),X.Xb(1,"button",38),X.fc("click",(function(){X.Gc(t);const o=e.row;return X.jc().onRemoveMotionButton(o)})),X.kc(2,"translate"),X.Xb(3,"mat-icon"),X.Sc(4,"close"),X.Wb(),X.Wb(),X.Wb()}2&t&&(X.Fb(1),X.sc("matTooltip",X.lc(2,1,"Remove from motion block")))}const dt=function(t){return{motion:t}};function ut(t,e){if(1&t){const t=X.Yb();X.Xb(0,"div",22),X.Xb(1,"button",39),X.fc("click",(function(e){return X.Gc(t),e.stopPropagation()})),X.Xb(2,"mat-icon"),X.Sc(3,"more_vert"),X.Wb(),X.Wb(),X.Wb()}if(2&t){const t=e.row,o=X.jc(),n=X.Cc(14);X.Fb(1),X.rc("disabled",o.isMultiSelect)("matMenuTriggerFor",n)("matMenuTriggerData",X.xc(3,dt,t))}}function ft(t,e){if(1&t){const t=X.Yb();X.Sb(0,"os-projector-button",40),X.Sb(1,"os-speaker-button",40),X.Xb(2,"button",41),X.fc("click",(function(){X.Gc(t);const o=e.motion;return X.jc().onRemoveMotionButton(o)})),X.Xb(3,"mat-icon"),X.Sc(4,"close"),X.Wb(),X.Xb(5,"span"),X.Sc(6),X.kc(7,"translate"),X.Wb(),X.Wb()}if(2&t){const t=e.motion;X.rc("object",t)("menuItem",!0),X.Fb(1),X.rc("object",t)("menuItem",!0),X.Fb(5),X.Tc(X.lc(7,5,"Remove from motion block"))}}function ht(t,e){if(1&t){const t=X.Yb();X.Xb(0,"button",43),X.fc("click",(function(){return X.Gc(t),X.jc(2).onFollowRecButton()})),X.Xb(1,"mat-icon"),X.Sc(2,"done_all"),X.Wb(),X.Xb(3,"span"),X.Sc(4),X.kc(5,"translate"),X.Wb(),X.Wb()}if(2&t){const t=X.jc(2);X.rc("disabled",t.isFollowingProhibited()),X.Fb(4),X.Tc(X.lc(5,2,"Follow recommendations for all motions"))}}function pt(t,e){1&t&&(X.Xb(0,"div"),X.Qc(1,ht,6,4,"button",42),X.Wb()),2&t&&(X.Fb(1),X.rc("osPerms",X.wc(1,H)))}function gt(t,e){if(1&t&&X.Sb(0,"os-projector-button",40),2&t){const t=X.jc();X.rc("object",t.block)("menuItem",!0)}}function kt(t,e){if(1&t){const t=X.Yb();X.Xb(0,"button",45),X.fc("click",(function(){return X.Gc(t),X.jc(2).addToAgenda()})),X.Xb(1,"mat-icon"),X.Sc(2,"add"),X.Wb(),X.Xb(3,"span"),X.Sc(4),X.kc(5,"translate"),X.Wb(),X.Wb()}2&t&&(X.Fb(4),X.Tc(X.lc(5,1,"Add to agenda")))}function vt(t,e){if(1&t){const t=X.Yb();X.Xb(0,"button",45),X.fc("click",(function(){return X.Gc(t),X.jc(2).removeFromAgenda()})),X.Xb(1,"mat-icon"),X.Sc(2,"remove"),X.Wb(),X.Xb(3,"span"),X.Sc(4),X.kc(5,"translate"),X.Wb(),X.Wb()}2&t&&(X.Fb(4),X.Tc(X.lc(5,1,"Remove from agenda")))}function Ft(t,e){if(1&t&&(X.Xb(0,"div"),X.Qc(1,kt,6,3,"button",44),X.Qc(2,vt,6,3,"button",44),X.Wb()),2&t){const t=X.jc();X.Fb(1),X.rc("ngIf",t.block&&!t.block.item),X.Fb(1),X.rc("ngIf",t.block&&t.block.item)}}function wt(t,e){if(1&t){const t=X.Yb();X.Xb(0,"div"),X.Xb(1,"button",45),X.fc("click",(function(){return X.Gc(t),X.jc().toggleEditMode()})),X.Xb(2,"mat-icon"),X.Sc(3,"edit"),X.Wb(),X.Xb(4,"span"),X.Sc(5),X.kc(6,"translate"),X.Wb(),X.Wb(),X.Sb(7,"mat-divider"),X.Xb(8,"button",41),X.fc("click",(function(){return X.Gc(t),X.jc().onDeleteBlockButton()})),X.Xb(9,"mat-icon"),X.Sc(10,"delete"),X.Wb(),X.Xb(11,"span"),X.Sc(12),X.kc(13,"translate"),X.Wb(),X.Wb(),X.Wb()}2&t&&(X.Fb(5),X.Tc(X.lc(6,2,"Edit")),X.Fb(7),X.Tc(X.lc(13,4,"Delete")))}function St(t,e){if(1&t){const t=X.Yb();X.Xb(0,"h1",46),X.Xb(1,"span"),X.Sc(2),X.kc(3,"translate"),X.Wb(),X.Wb(),X.Xb(4,"div",47),X.Xb(5,"form",48),X.fc("ngSubmit",(function(){return X.Gc(t),X.jc().saveBlock()}))("keydown",(function(e){return X.Gc(t),X.jc().onKeyDown(e)})),X.Xb(6,"mat-form-field"),X.Sb(7,"input",49),X.kc(8,"translate"),X.Wb(),X.Xb(9,"mat-checkbox",50),X.Sc(10,"Internal"),X.Wb(),X.Wb(),X.Wb(),X.Xb(11,"div",51),X.Xb(12,"button",52),X.fc("click",(function(){return X.Gc(t),X.jc().saveBlock()})),X.Xb(13,"span"),X.Sc(14),X.kc(15,"translate"),X.Wb(),X.Wb(),X.Xb(16,"button",53),X.Xb(17,"span"),X.Sc(18),X.kc(19,"translate"),X.Wb(),X.Wb(),X.Wb()}if(2&t){const t=X.jc();X.Fb(2),X.Vc("",X.lc(3,8,"Edit details for")," ",t.block.title,""),X.Fb(3),X.rc("formGroup",t.blockEditForm),X.Fb(2),X.sc("placeholder",X.lc(8,10,"Title")),X.Fb(5),X.rc("disabled",!t.blockEditForm.valid),X.Fb(2),X.Tc(X.lc(15,12,"Save")),X.Fb(2),X.rc("mat-dialog-close",null),X.Fb(2),X.Tc(X.lc(19,14,"Cancel"))}}const Wt=function(){return["remove"]};let Xt=(()=>{class t extends g.a{constructor(t,e,o,n,i,c,a,s,l,b,m,d,u,f,h){super(t,e,o,u),this.translate=e,this.configService=n,this.route=i,this.router=c,this.repo=a,this.motionRepo=s,this.promptService=l,this.fb=b,this.dialog=m,this.itemRepo=d,this.filterService=f,this.vp=h,this.filterProps=["submitters","title","identifier"],this.tableColumnDefinition=[{prop:"title",width:"auto"},{prop:"recommendation",label:this.translate.instant("Recommendation"),width:"30%",minWidth:60},{prop:"remove",label:"",width:"40px"}],this.restrictedColumns=[{columnName:"remove",permission:r.b.motionsCanManage}],this.blockId=parseInt(this.route.snapshot.params.id,10),this.filterService.blockId=this.blockId}ngOnInit(){this.subscriptions.push(this.repo.getViewModelObservable(this.blockId).subscribe(t=>{t&&(super.setTitle(`${this.translate.instant("Motion block")} - ${t.getTitle()}`),this.block=t)})),this.configService.get("motions_show_sequential_numbers").subscribe(t=>this.showSequential=t),window.comp=this}onFollowRecButton(){return Object(a.a)(this,void 0,void 0,(function*(){const t=this.translate.instant("Are you sure you want to override the state of all motions of this motion block?"),e=this.block.title;(yield this.promptService.open(t,e))&&this.repo.followRecommendation(this.block)}))}onDeleteBlockButton(){return Object(a.a)(this,void 0,void 0,(function*(){const t=this.translate.instant("Are you sure you want to delete this motion block?"),e=this.block.title;(yield this.promptService.open(t,e))&&(yield this.repo.delete(this.block),this.router.navigate(["../"],{relativeTo:this.route}))}))}onRemoveMotionButton(t){return Object(a.a)(this,void 0,void 0,(function*(){const e=this.translate.instant("Are you sure you want to remove this motion from motion block?"),o=t.getTitle();(yield this.promptService.open(e,o))&&this.repo.removeMotionFromBlock(t)}))}onKeyDown(t){"Escape"===t.key&&this.dialogRef.close()}isFollowingProhibited(){return!(!this.dataSource||!this.dataSource.source)&&this.dataSource.source.every(t=>t.isInFinalState()||!t.recommendation_id)}saveBlock(){this.repo.update(this.blockEditForm.value,this.block).then(()=>this.dialogRef.close()).catch(this.raiseError)}toggleEditMode(){this.blockEditForm=this.fb.group({title:[this.block.title,s.H.required],internal:[this.block.internal]}),this.dialogRef=this.dialog.open(this.editDialog,p.a),this.dialogRef.keydownEvents().subscribe(t=>{"Enter"===t.key&&t.shiftKey&&this.saveBlock()})}getRecommendationLabel(t){return this.motionRepo.getExtendedRecommendationLabel(t)}getStateLabel(t){return this.motionRepo.getExtendedStateLabel(t)}addToAgenda(){this.itemRepo.addItemToAgenda(this.block).catch(this.raiseError)}removeFromAgenda(){this.itemRepo.removeFromAgenda(this.block.item).catch(this.raiseError)}}return t.\u0275fac=function(e){return new(e||t)(X.Rb(_.c),X.Rb(M.k),X.Rb(C.a),X.Rb(u.a),X.Rb(c.a),X.Rb(c.f),X.Rb(m.a),X.Rb(d.a),X.Rb(f.a),X.Rb(s.g),X.Rb(I.b),X.Rb(b.a),X.Rb(l.a),X.Rb(y),X.Rb(h.a))},t.\u0275cmp=X.Lb({type:t,selectors:[["os-motion-block-detail"]],viewQuery:function(t,e){var o;1&t&&(X.Mc(Y,!0),X.Mc(q,!0)),2&t&&(X.Bc(o=X.gc())&&(e.blockEditForm=o.first),X.Bc(o=X.gc())&&(e.editDialog=o.first))},features:[X.Cb],decls:25,vars:22,consts:[[3,"nav"],[1,"title-slot"],["icon","check","size","large",3,"noWrap","showIcon","iconTooltip",4,"ngIf"],[1,"menu-slot"],["type","button","mat-icon-button","",3,"matMenuTriggerFor"],["class","extra-controls-slot",4,"ngIf"],[3,"listObservableProvider","filterService","columns","restricted","filterProps","hiddenInMobile","dataSourceChange"],["class","cell-slot fill",4,"pblNgridCellDef"],["singleItemMenu","matMenu"],["matMenuContent",""],["motionBlockMenu","matMenu"],[4,"ngIf"],[3,"menuItem","object"],[3,"object","menuItem",4,"ngIf"],[4,"osPerms"],["editDialog",""],["icon","check","size","large",3,"noWrap","showIcon","iconTooltip"],["icon","lock","size","large",3,"noWrap","showIcon","iconTooltip"],[1,"extra-controls-slot"],["mat-button","",3,"disabled","click",4,"osPerms"],["mat-button","",3,"disabled","click"],["icon","done_all"],[1,"cell-slot","fill"],["class","detail-link",3,"routerLink","state",4,"ngIf"],[1,"column-title","innerTable"],[1,"title-line","ellipsis-overflow"],["class","favorite-star",4,"ngIf"],["class","icon-prefix",4,"ngIf"],[1,"submitters-line","ellipsis-overflow"],[1,"ellipsis-overflow","white"],[3,"ngClass","disabled",4,"ngIf"],[1,"detail-link",3,"routerLink","state"],[1,"favorite-star"],["inline",""],[1,"icon-prefix"],[3,"ngClass","disabled"],["disableRipple","","class","bluegrey",4,"ngIf"],["disableRipple","",1,"bluegrey"],["type","button","mat-icon-button","","color","warn",3,"matTooltip","click"],["mat-icon-button","",3,"disabled","matMenuTriggerFor","matMenuTriggerData","click"],[3,"object","menuItem"],["mat-menu-item","",1,"red-warning-text",3,"click"],["mat-menu-item","",3,"disabled","click",4,"osPerms"],["mat-menu-item","",3,"disabled","click"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],["mat-dialog-title",""],["mat-dialog-content","",1,"os-form-card-mobile"],[1,"edit-form",3,"formGroup","ngSubmit","keydown"],["matInput","","osAutofocus","","formControlName","title","required","",3,"placeholder"],["formControlName","internal"],["mat-dialog-actions",""],["type","submit","mat-button","","color","accent",3,"disabled","click"],["type","button","mat-button","",3,"mat-dialog-close"]],template:function(t,e){if(1&t&&(X.Xb(0,"os-head-bar",0),X.Xb(1,"div",1),X.Qc(2,K,6,11,"os-icon-container",2),X.Wb(),X.Xb(3,"div",3),X.Xb(4,"button",4),X.Xb(5,"mat-icon"),X.Sc(6,"more_vert"),X.Wb(),X.Wb(),X.Wb(),X.Qc(7,Z,2,2,"div",5),X.Wb(),X.Xb(8,"os-list-view-table",6),X.fc("dataSourceChange",(function(t){return e.onDataSourceChange(t)})),X.Qc(9,rt,14,8,"div",7),X.Qc(10,bt,2,1,"div",7),X.Qc(11,mt,5,3,"div",7),X.Qc(12,ut,4,5,"div",7),X.Wb(),X.Xb(13,"mat-menu",null,8),X.Qc(15,ft,8,7,"ng-template",9),X.Wb(),X.Xb(16,"mat-menu",null,10),X.Qc(18,pt,2,2,"div",11),X.Sb(19,"os-speaker-button",12),X.Qc(20,gt,1,2,"os-projector-button",13),X.Qc(21,Ft,3,2,"div",14),X.Qc(22,wt,14,6,"div",14),X.Wb(),X.Qc(23,St,20,16,"ng-template",null,15,X.Rc)),2&t){const t=X.Cc(17);X.rc("nav",!1),X.Fb(2),X.rc("ngIf",e.block),X.Fb(2),X.rc("matMenuTriggerFor",t),X.Fb(3),X.rc("ngIf",!e.vp.isMobile),X.Fb(1),X.rc("listObservableProvider",e.motionRepo)("filterService",e.filterService)("columns",e.tableColumnDefinition)("restricted",e.restrictedColumns)("filterProps",e.filterProps)("hiddenInMobile",X.wc(20,Wt)),X.Fb(1),X.rc("pblNgridCellDef","title"),X.Fb(1),X.rc("pblNgridCellDef","recommendation"),X.Fb(1),X.rc("pblNgridCellDef","remove"),X.Fb(1),X.rc("pblNgridCellDef","menu"),X.Fb(6),X.rc("ngIf",e.vp.isMobile),X.Fb(1),X.rc("menuItem",!0)("object",e.block),X.Fb(1),X.rc("ngIf",e.block),X.Fb(1),X.rc("osPerms","agenda.can_manage"),X.Fb(1),X.rc("osPerms",X.wc(21,H))}},directives:[O.a,n.t,R.b,T.e,P.a,j.a,B.b,T.f,T.b,x.a,D.a,Q.a,c.i,L.a,n.q,E.c,N.a,T.c,A.a,I.i,I.f,s.J,s.u,s.l,G.c,V.b,s.d,z.a,s.t,s.j,s.E,U.a,I.c,I.d],pipes:[M.j],styles:[".title-line[_ngcontent-%COMP%]{font-weight:500;font-size:16px}.title-line[_ngcontent-%COMP%]   .icon-prefix[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle;font-size:16px;height:16px;width:16px}.title-line[_ngcontent-%COMP%]   .favorite-star[_ngcontent-%COMP%]{padding-right:3px}.mat-table[_ngcontent-%COMP%]{width:100%}.mat-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]   .mat-column-anchor[_ngcontent-%COMP%]{display:none}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{position:relative}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-column-anchor[_ngcontent-%COMP%]{position:absolute!important;top:0;right:0;bottom:0;left:0;opacity:.1;z-index:1}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-column-anchor[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;height:100%;width:100%}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{position:relative}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{position:absolute;display:inherit;height:100%;width:100%;line-height:0}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{z-index:2}.mat-table[_ngcontent-%COMP%]   .mat-table-sticky[_ngcontent-%COMP%]{z-index:3!important}.submitters-line[_ngcontent-%COMP%]{font-size:90%}.edit-form[_ngcontent-%COMP%]{overflow:hidden}"]}),t})();var Mt=o("A6Ob");let yt=(()=>{class t extends Mt.a{constructor(t,e,o){super(t,e,o),this.storageKey="MotionBlockList",this.MotionBlockSortOptions=[{property:"title"},{property:"motions",label:"Amount of motions",sortFn:(t,e,o)=>o?t.motions.length-e.motions.length:e.motions.length-t.motions.length}]}getSortOptions(){return this.MotionBlockSortOptions}getDefaultDefinition(){return Object(a.a)(this,void 0,void 0,(function*(){return{sortProperty:"title",sortAscending:!0}}))}}return t.\u0275fac=function(e){return new(e||t)(X.bc(M.k),X.bc(l.a),X.bc(k.a))},t.\u0275prov=X.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var _t=o("6Ehv");const Ct=["newMotionBlockDialog"];function It(t,e){if(1&t&&X.Sb(0,"a",13),2&t){const t=X.jc().row;X.rc("routerLink",t.id)}}function Ot(t,e){if(1&t&&(X.Xb(0,"div",7),X.Qc(1,It,1,1,"a",8),X.Xb(2,"div",9),X.Xb(3,"os-icon-container",10),X.kc(4,"translate"),X.Xb(5,"os-icon-container",11),X.kc(6,"translate"),X.Xb(7,"div",12),X.Sc(8),X.Wb(),X.Wb(),X.Wb(),X.Wb(),X.Wb()),2&t){const t=e.value,o=e.row,n=X.jc();X.Fb(1),X.rc("ngIf",!n.isMultiSelect),X.Fb(2),X.rc("noWrap",!0)("icon",o.isFinished?"check":o.internal?"lock":null)("iconTooltip",o.isFinished?"Finished":o.internal?"Internal":X.lc(4,8,"")),X.Fb(2),X.rc("noWrap",!0)("showIcon",o.isFinished&&o.internal)("iconTooltip",X.lc(6,10,"Internal")),X.Fb(3),X.Uc(" ",t," ")}}function Rt(t,e){if(1&t&&(X.Xb(0,"div",7),X.Xb(1,"span",14),X.kc(2,"translate"),X.Sc(3),X.Wb(),X.Wb()),2&t){const t=e.row;X.Fb(1),X.sc("matTooltip",X.lc(2,2,"Motions")),X.Fb(2),X.Tc(t.motions.length)}}const Tt=function(t){return{block:t}};function Pt(t,e){if(1&t){const t=X.Yb();X.Xb(0,"div",7),X.Xb(1,"button",15),X.fc("click",(function(e){return X.Gc(t),e.stopPropagation()})),X.Xb(2,"mat-icon"),X.Sc(3,"more_vert"),X.Wb(),X.Wb(),X.Wb()}if(2&t){const t=e.row,o=X.jc(),n=X.Cc(10);X.Fb(1),X.rc("disabled",o.isMultiSelect)("matMenuTriggerFor",n)("matMenuTriggerData",X.xc(3,Tt,t))}}function jt(t,e){if(1&t&&(X.Sb(0,"os-projector-button",16),X.Sb(1,"os-speaker-button",16)),2&t){const t=e.block;X.rc("object",t)("menuItem",!0),X.Fb(1),X.rc("object",t)("menuItem",!0)}}function Bt(t,e){1&t&&(X.Xb(0,"mat-error"),X.Sc(1),X.kc(2,"translate"),X.Wb()),2&t&&(X.Fb(1),X.Uc(" ",X.lc(2,1,"A title is required")," "))}function xt(t,e){if(1&t){const t=X.Yb();X.Xb(0,"h1",17),X.Xb(1,"span"),X.Sc(2),X.kc(3,"translate"),X.Wb(),X.Wb(),X.Xb(4,"form",18),X.fc("keydown",(function(e){return X.Gc(t),X.jc().onKeyDown(e)})),X.Xb(5,"div",19),X.Xb(6,"mat-form-field"),X.Sb(7,"input",20),X.kc(8,"translate"),X.Qc(9,Bt,3,3,"mat-error",21),X.Wb(),X.Xb(10,"p"),X.Xb(11,"mat-checkbox",22),X.Xb(12,"span"),X.Sc(13),X.kc(14,"translate"),X.Wb(),X.Wb(),X.Wb(),X.Sb(15,"os-agenda-content-object-form",23),X.Wb(),X.Wb(),X.Xb(16,"div",24),X.Xb(17,"button",25),X.Xb(18,"span"),X.Sc(19),X.kc(20,"translate"),X.Wb(),X.Wb(),X.Xb(21,"button",26),X.Xb(22,"span"),X.Sc(23),X.kc(24,"translate"),X.Wb(),X.Wb(),X.Wb()}if(2&t){const t=X.jc();X.Fb(2),X.Tc(X.lc(3,11,"New motion block")),X.Fb(2),X.rc("formGroup",t.createBlockForm),X.Fb(3),X.sc("placeholder",X.lc(8,13,"Title")),X.Fb(2),X.rc("ngIf",t.createBlockForm.get("title").hasError("required")),X.Fb(4),X.Tc(X.lc(14,15,"Internal")),X.Fb(2),X.rc("form",t.createBlockForm),X.Fb(2),X.rc("disabled",!t.createBlockForm.valid)("mat-dialog-close",!0),X.Fb(2),X.Tc(X.lc(20,17,"Save")),X.Fb(2),X.rc("mat-dialog-close",!1),X.Fb(2),X.Tc(X.lc(24,19,"Cancel"))}}const Dt=[{path:"",component:(()=>{class t extends g.a{constructor(t,e,o,n,i,c,a,r,l,b){super(t,e,o,n),this.repo=i,this.formBuilder=c,this.itemRepo=a,this.operator=r,this.dialog=l,this.sortService=b,this.filterProps=["title"],this.tableColumnDefinition=[{prop:"title",label:this.translate.instant("Title"),width:"auto"},{prop:"amount",label:this.translate.instant("Motions"),width:"40px"}],this.createBlockForm=this.formBuilder.group({title:["",s.H.required],agenda_create:[""],agenda_parent_id:[],agenda_type:[""],internal:[!1]})}get canEdit(){return this.operator.hasPerms(r.b.motionsCanManage,r.b.motionsCanManageMetadata)}ngOnInit(){super.setTitle("Motion blocks"),this.items=this.itemRepo.getViewModelListBehaviorSubject()}resetForm(){this.createBlockForm.reset(),this.createBlockForm.get("agenda_type").setValue(this.defaultVisibility)}onPlusButton(){this.resetForm(),this.dialogRef=this.dialog.open(this.newMotionBlockDialog,p.a),this.dialogRef.afterClosed().subscribe(t=>{t&&this.save()})}save(){if(this.createBlockForm.valid){const t=this.createBlockForm.value;t.agenda_parent_id||delete t.agenda_parent_id,this.repo.create(t).catch(this.raiseError),this.resetForm()}}onKeyDown(t){"Enter"===t.key&&t.shiftKey&&(this.save(),this.dialogRef.close()),"Escape"===t.key&&(this.resetForm(),this.dialogRef.close())}}return t.\u0275fac=function(e){return new(e||t)(X.Rb(_.c),X.Rb(M.k),X.Rb(C.a),X.Rb(l.a),X.Rb(m.a),X.Rb(s.g),X.Rb(b.a),X.Rb(r.a),X.Rb(I.b),X.Rb(yt))},t.\u0275cmp=X.Lb({type:t,selectors:[["os-motion-block-list"]],viewQuery:function(t,e){var o;1&t&&X.Mc(Ct,!0),2&t&&X.Bc(o=X.gc())&&(e.newMotionBlockDialog=o.first)},features:[X.Cb],decls:14,vars:16,consts:[["prevUrl","../..",3,"nav","hasMainButton","mainEvent"],[1,"title-slot"],["listStorageKey","motionBlock",3,"vScrollFixed","listObservableProvider","showFilterBar","columns","sortService","multiSelect","selectedRows","filterProps","selectedRowsChange","dataSourceChange"],["class","cell-slot fill",4,"pblNgridCellDef"],["singleItemMenu","matMenu"],["matMenuContent",""],["newMotionBlockDialog",""],[1,"cell-slot","fill"],["class","detail-link",3,"routerLink",4,"ngIf"],[1,"innerTable"],["size","large",3,"noWrap","icon","iconTooltip"],["icon","lock","size","large",3,"noWrap","showIcon","iconTooltip"],[1,"ellipsis-overflow"],[1,"detail-link",3,"routerLink"],[1,"os-amount-chip",3,"matTooltip"],["mat-icon-button","",3,"disabled","matMenuTriggerFor","matMenuTriggerData","click"],[3,"object","menuItem"],["mat-dialog-title",""],[3,"formGroup","keydown"],["mat-dialog-content",""],["formControlName","title","matInput","","required","",3,"placeholder"],[4,"ngIf"],["formControlName","internal"],[3,"form"],["mat-dialog-actions",""],["mat-button","",3,"disabled","mat-dialog-close"],["mat-button","",3,"mat-dialog-close"]],template:function(t,e){1&t&&(X.Xb(0,"os-head-bar",0),X.fc("mainEvent",(function(){return e.onPlusButton()})),X.Xb(1,"div",1),X.Xb(2,"h2"),X.Sc(3),X.kc(4,"translate"),X.Wb(),X.Wb(),X.Wb(),X.Xb(5,"os-list-view-table",2),X.fc("selectedRowsChange",(function(t){return e.selectedRows=t}))("dataSourceChange",(function(t){return e.onDataSourceChange(t)})),X.Qc(6,Ot,9,12,"div",3),X.Qc(7,Rt,4,4,"div",3),X.Qc(8,Pt,4,5,"div",3),X.Wb(),X.Xb(9,"mat-menu",null,4),X.Qc(11,jt,2,4,"ng-template",5),X.Wb(),X.Qc(12,xt,25,21,"ng-template",null,6,X.Rc)),2&t&&(X.rc("nav",!1)("hasMainButton",e.canEdit),X.Fb(3),X.Tc(X.lc(4,14,"Motion blocks")),X.Fb(2),X.rc("vScrollFixed",64)("listObservableProvider",e.repo)("showFilterBar",!0)("columns",e.tableColumnDefinition)("sortService",e.sortService)("multiSelect",e.isMultiSelect)("selectedRows",e.selectedRows)("filterProps",e.filterProps),X.Fb(1),X.rc("pblNgridCellDef","title"),X.Fb(1),X.rc("pblNgridCellDef","amount"),X.Fb(1),X.rc("pblNgridCellDef","menu"))},directives:[O.a,j.a,B.b,T.f,T.b,n.t,Q.a,c.i,E.c,R.b,T.e,P.a,N.a,x.a,I.i,s.J,s.u,s.l,I.f,G.c,s.d,V.b,s.t,s.j,s.E,U.a,_t.a,I.c,I.d,G.b],pipes:[M.j],styles:[".title-line{font-weight:500;font-size:16px}.title-line .icon-prefix .mat-icon{display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle;font-size:16px;height:16px;width:16px}.title-line .favorite-star{padding-right:3px}.mat-table{width:100%}.mat-table .mat-header-row .mat-column-anchor{display:none}.mat-table .mat-row{position:relative}.mat-table .mat-row .mat-column-anchor{position:absolute!important;top:0;right:0;bottom:0;left:0;opacity:.1;z-index:1}.mat-table .mat-row .mat-column-anchor a{display:block;height:100%;width:100%}.mat-table .mat-cell{position:relative}.mat-table .mat-cell .fill{position:absolute;display:inherit;height:100%;width:100%;line-height:0}.mat-table .mat-cell .fill *{margin-top:auto;margin-bottom:auto}.mat-table .mat-cell>*{z-index:2}.mat-table .mat-table-sticky{z-index:3!important}.mat-dialog-container .mat-dialog-title{margin:0}.mat-dialog-container .mat-form-field{width:100%}"],encapsulation:2}),t})(),pathMatch:"full"},{path:":id",component:Xt}];let Qt=(()=>{class t{}return t.\u0275mod=X.Pb({type:t}),t.\u0275inj=X.Ob({factory:function(e){return new(e||t)},imports:[[c.j.forChild(Dt)],c.j]}),t})(),Lt=(()=>{class t{}return t.\u0275mod=X.Pb({type:t}),t.\u0275inj=X.Ob({factory:function(e){return new(e||t)},imports:[[n.c,Qt,i.a]]}),t})()},LBBb:function(t,e,o){"use strict";o.d(e,"a",(function(){return l}));var n=o("iELJ"),i=o("8Y7J"),c=o("SVse"),a=o("Dxy4"),s=o("TSSN");function r(t,e){if(1&t&&(i.Xb(0,"div"),i.Xb(1,"h2",1),i.Sc(2),i.Wb(),i.Sb(3,"mat-dialog-content",2),i.Xb(4,"mat-dialog-actions"),i.Xb(5,"button",3),i.Sc(6),i.kc(7,"translate"),i.Wb(),i.Xb(8,"button",4),i.Sc(9),i.kc(10,"translate"),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.jc();i.Fb(2),i.Tc(t.data.title),i.Fb(1),i.rc("innerHTML",t.data.content,i.Hc),i.Fb(2),i.rc("mat-dialog-close",!0),i.Fb(1),i.Tc(i.lc(7,6,"OK")),i.Fb(2),i.rc("mat-dialog-close",!1),i.Fb(1),i.Tc(i.lc(10,8,"Cancel"))}}let l=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(n.h),i.Rb(n.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["os-prompt-dialog"]],decls:1,vars:1,consts:[[4,"ngIf"],["mat-dialog-title",""],[3,"innerHTML"],["mat-button","","color","warn",3,"mat-dialog-close"],["mat-button","",3,"mat-dialog-close"]],template:function(t,e){1&t&&i.Qc(0,r,11,10,"div",0),2&t&&i.rc("ngIf",e.data)},directives:[c.t,n.i,n.f,n.c,a.b,n.d],pipes:[s.j],encapsulation:2}),t})()},Q5D0:function(t,e,o){"use strict";o.d(e,"a",(function(){return g}));var n=o("D/ll"),i=o("OwvW"),c=o("AqIO"),a=o("iTQr"),s=o("D5Qf"),r=o("+B0n"),l=o("s3dr"),b=o("lv9T"),m=o("+8Rz"),d=o("+KbT"),u=o("gtli"),f=o("3Y4h"),h=o("8Y7J"),p=o("TSSN");let g=(()=>{class t extends m.a{constructor(t,e,o,n,i,c,a,s,r,l){super(t,e),this.workflowRepo=a,this.translate=s,this.operator=r,this.config=l,this.storageKey="MotionList",this.enabledWorkflows={statuteEnabled:!1,statute:null,motion:null,amendment:null},this.stateFilterOptions={property:"state_id",label:"State",options:[]},this.categoryFilterOptions={property:"category_id",label:"Category",options:[]},this.motionBlockFilterOptions={property:"motion_block_id",label:"Motion block",options:[]},this.motionCommentFilterOptions={property:"commentSectionIds",label:"Comment",options:[]},this.recommendationFilterOptions={property:"recommendation_id",label:"Recommendation",options:[]},this.tagFilterOptions={property:"tags_id",label:"Tags",options:[]},this.hasSpeakerOptions={property:"hasSpeakers",label:"Speakers",options:[{condition:!0,label:this.translate.instant("Has speakers")},{condition:!1,label:this.translate.instant("Has no speakers")}]},this.AmendmentFilterOption={property:"amendmentType",label:"Amendment",options:[{condition:f.a.Amendment,label:this.translate.instant("Is amendment")},{condition:f.a.Parent,label:this.translate.instant("Has amendments")},{condition:f.a.Lead,label:this.translate.instant("Is no amendment and has no amendments")}]},this.personalNoteFilterOptions=[{property:"star",label:this.translate.instant("Favorites"),options:[{condition:!0,label:this.translate.instant("Is favorite")},{condition:!1,label:this.translate.instant("Is not favorite")}]},{property:"hasNotes",label:this.translate.instant("Personal notes"),options:[{condition:!0,label:this.translate.instant("Has notes")},{condition:!1,label:this.translate.instant("Does not have notes")}]}],this.getWorkflowConfig(),this.getShowAmendmentConfig(),this.updateFilterForRepo(o,this.categoryFilterOptions,this.translate.instant("No category set")),this.updateFilterForRepo(n,this.motionBlockFilterOptions,this.translate.instant("No motion block set")),this.updateFilterForRepo(i,this.motionCommentFilterOptions,this.translate.instant("No comment")),this.updateFilterForRepo(c,this.tagFilterOptions,this.translate.instant("No tags")),this.subscribeWorkflows(),this.operator.getUserObservable().subscribe(()=>{this.setFilterDefinitions()})}preFilter(t){if(!this.showAmendmentsInMainTable)return t.filter(t=>!t.parent_id)}getShowAmendmentConfig(){this.config.get("motions_amendments_main_table").subscribe(t=>{this.showAmendmentsInMainTable=t})}getWorkflowConfig(){this.config.get("motions_statute_amendments_workflow").subscribe(t=>{this.enabledWorkflows.statute=+t}),this.config.get("motions_workflow").subscribe(t=>{this.enabledWorkflows.motion=+t}),this.config.get("motions_amendments_workflow").subscribe(t=>{this.enabledWorkflows.amendment=+t}),this.config.get("motions_statutes_enabled").subscribe(t=>{this.enabledWorkflows.statuteEnabled=t})}getFilterDefinitions(){let t=[this.stateFilterOptions,this.categoryFilterOptions,this.motionBlockFilterOptions,this.recommendationFilterOptions,this.motionCommentFilterOptions,this.tagFilterOptions];return this.operator.hasPerms(i.b.agendaCanSeeListOfSpeakers)&&t.push(this.hasSpeakerOptions),this.showAmendmentsInMainTable&&t.push(this.AmendmentFilterOption),this.operator.isAnonymous||(t=t.concat(this.personalNoteFilterOptions)),t}subscribeWorkflows(){this.workflowRepo.getViewModelListObservable().subscribe(t=>{if(t&&t.length){const e=[],o=[],n=[],i=[];for(const c of t)if(this.isWorkflowEnabled(c.id)){e.push({name:c.name,filter:[]}),o.push({name:c.name,filter:[]});for(const t of c.states){const c=t.restriction.filter(t=>t!==u.b.motionsIsSubmitter);c.length&&!this.operator.hasPerms(...c)||(t.isFinalState?n.push(t.id):i.push(t.id),e[e.length-1].filter.push({condition:t.id,label:t.name}),t.recommendation_label&&o[e.length-1].filter.push({condition:t.id,label:t.recommendation_label}))}}if(e&&e.length){let t=[];t.push({label:"Done",condition:n}),t.push({label:this.translate.instant("Undone"),condition:i}),t.push("-");for(const o of e)t.push(o.name),t=t.concat(o.filter);this.stateFilterOptions.options=t}if(o&&o.length){let t=[];for(const e of o)t.push(e.name),t=t.concat(e.filter);t.push("-"),t.push({label:this.translate.instant("No recommendation"),condition:null}),this.recommendationFilterOptions.options=t}this.setFilterDefinitions()}})}isWorkflowEnabled(t){return t===this.enabledWorkflows.motion||this.enabledWorkflows.statuteEnabled&&t===this.enabledWorkflows.statute}}return t.\u0275fac=function(e){return new(e||t)(h.bc(c.a),h.bc(n.a),h.bc(a.a),h.bc(s.a),h.bc(r.a),h.bc(b.a),h.bc(l.a),h.bc(p.k),h.bc(i.a),h.bc(d.a))},t.\u0275prov=h.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},wL0i:function(t,e,o){"use strict";o.d(e,"a",(function(){return i}));var n=o("mV3u");class i extends n.a{constructor(t,e,o,n){super(t,e,o),this.storage=n,this.canMultiSelect=!1,this._multiSelectMode=!1,this.singleButtonWidth="40px",this.badgeButtonWidth="45px",this.selectedRows=[]}onDataSourceChange(t){this.dataSource=t}toggleMultiSelect(){!this.canMultiSelect||this.isMultiSelect?(this._multiSelectMode=!1,this.deselectAll()):this._multiSelectMode=!0}selectAll(){this.dataSource.selection.select(...this.dataSource.filteredData)}deselectAll(){this.dataSource&&this.dataSource.selection.clear()}get isMultiSelect(){return this._multiSelectMode}}}}]);