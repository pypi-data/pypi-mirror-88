!function(t,o){"use strict";t(document).ready(function(){t("body").append("<div id='divSmallBoxes'></div>").append("<div id='divMiniIcons'></div>").append("<div id='divBigBoxes'></div>")});var i,e=0,a=0,s=0,n=0,l=0,c=o.MyAMS;c.notify={messageBox:function(i,s){var n,l,d=c.browser.isIE8orlower(),r={title:"",content:"",status:"",NormalButton:void 0,ActiveButton:void 0,buttons:void 0,input:void 0,placeholder:"",options:void 0,sound:void 0},u=t.extend({},r,i);if(u.sound&&0===d){var v=document.createElement("audio");navigator.userAgent.match("Firefox/")?v.setAttribute("src",c.baseURL+"../sound/message.ogg"):v.setAttribute("src",c.baseURL+"../sound/message.mp3"),t.get(),v.addEventListener("load",function(){v.play()},!0),v.pause(),v.play()}a+=1,0===e&&(e=1,n="<div class='MessageBox animated fadeIn fast' id='MsgBoxBack'></div>",t("body").append(n),1===c.browser.isIE8orlower()&&t("#MsgBoxBack").addClass("MessageIE"));var m,h="",p=0,f="",b=0;if(void 0!==u.input)switch(p=1,u.input=u.input.toLowerCase(),u.input){case"text":case"password":h="<input class='form-control' type='"+u.input+"' id='txt"+a+"' placeholder='"+u.placeholder+"'/><br/><br/>";break;case"select":if(void 0===u.options)o.alert&&o.alert("For this type of input, the options parameter is required.");else{for(h="<select class='form-control' id='txt"+a+"'>",m=0;m<=u.options.length-1;m++)"["===u.options[m]?f="":"]"===u.options[m]?(b+=1,h+=f="<option>"+f+"</option>"):f+=u.options[m];h+="</select>"}break;default:o.alert&&o.alert("That type of input is not handled yet")}for(l="<div class='MessageBoxContainer "+u.status+" animated fadeIn fast' id='Msg"+a+"'>",l+="<div class='MessageBoxMiddle'>",l+="<span class='MsgTitle'>"+u.title+"</span class='MsgTitle'>",l+="<p class='pText'>"+u.content+"</p>",l+=h,l+="<div class='MessageBoxButtonSection'>",void 0===u.buttons&&(u.buttons="[Accept]"),u.buttons=t.trim(u.buttons),u.buttons=u.buttons.split(""),void 0===u.NormalButton&&(u.NormalButton="#232323"),void 0===u.ActiveButton&&(u.ActiveButton="#ed145b"),m=0;m<=u.buttons.length-1;m++)"["===u.buttons[m]?f="":"]"===u.buttons[m]?l+=f="<button id='bot"+(b+=1)+"-Msg"+a+"' class='btn "+(1===b?"btn-primary":"btn-default")+" btn-sm botTempo'> "+f+"</button>":f+=u.buttons[m];l+="</div>",l+="</div>",l+="</div>",a>1&&(t(".MessageBoxContainer").hide(),t(".MessageBoxContainer").css("z-index",99999)),t(".MessageBox").append(l),1===p&&t("#txt"+a).focus(),t(".botTempo").hover(function(){t(this).attr("id")},function(){t(this).attr("id")}),t(".botTempo").click(function(){var o=t(this).attr("id"),i=o.substr(o.indexOf("-")+1),n=t.trim(t(this).text());if(1===p){if("function"==typeof s){var l=i.replace("Msg",""),c=t("#txt"+l).val();s&&s(n,c)}}else"function"==typeof s&&s&&s(n);t("#"+i).addClass("animated fadeOut fast"),0===(a-=1)&&t("#MsgBoxBack").removeClass("fadeIn").addClass("fadeOut").delay(300).queue(function(){e=0,t(this).remove()})})},bigBox:function(o,i){var e;if(!0===(o=t.extend({title:"",content:"",icon:void 0,number:void 0,color:void 0,sound:!0,timeout:void 0,colortime:1500,colors:void 0},o)).sound&&0===c.browser.isIE8orlower()){var a=document.createElement("audio");navigator.userAgent.match("Firefox/")?a.setAttribute("src",c.baseURL+"../snd/bigbox.ogg"):a.setAttribute("src",c.baseURL+"../snd/bigbox.mp3"),t.get(),a.addEventListener("load",function(){a.play()},!0),a.pause(),a.play()}e="<div id='bigBox"+(s+=1)+"' class='BigBox animated fadeIn fast'><div id='bigBoxColor"+s+"'><i class='btnClose fa fa-times' id='btnClose"+s+"'></i>",void 0===o.icon&&(o.icon="fa fa-cloud"),e+="<span><i class='"+o.icon+"'></i>&nbsp; "+o.title+"</span>",e+="<p>"+o.content+"</p>",e+="<div class='bigboxnumber'>",void 0!==o.number&&(e+=o.number),e+="</div></div>",e+="</div>",t("#divBigBoxes").append(e),void 0===o.color&&(o.color="#004d60"),t("#bigBox"+s).css("background-color",o.color),t("#divMiniIcons").append("<div id='miniIcon"+s+"' class='cajita animated fadeIn' style='background-color: "+o.color+";'><i class='"+o.icon+"'/></i></div>"),t("#miniIcon"+s).bind("click",function(){var o=t(this).attr("id"),i=o.replace("miniIcon","bigBox"),e=o.replace("miniIcon","bigBoxColor");t(".cajita").each(function(o){var i=t(this).attr("id").replace("miniIcon","bigBox");t("#"+i).css("z-index",9998)}),t("#"+i).css("z-index",9999),t("#"+e).removeClass("animated fadeIn").delay(1).queue(function(){t(this).show(),t(this).addClass("animated fadeIn"),t(this).clearQueue()})});var n,l=t("#btnClose"+s),d=t("#bigBox"+s),r=t("#miniIcon"+s);if(void 0!==o.colors&&o.colors.length>0&&(l.attr("colorcount","0"),n=setInterval(function(){var t=l.attr("colorcount");l.animate({backgroundColor:o.colors[t].color}),d.animate({backgroundColor:o.colors[t].color}),r.animate({backgroundColor:o.colors[t].color}),t<o.colors.length-1?l.attr("colorcount",1*t+1):l.attr("colorcount",0)},o.colortime)),l.bind("click",function(){clearInterval(n),"function"==typeof i&&i&&i();var o=t(this).attr("id"),e=o.replace("btnClose","bigBox"),a=o.replace("btnClose","miniIcon");t("#"+e).removeClass("fadeIn fast"),t("#"+e).addClass("fadeOut fast").delay(300).queue(function(){t(this).clearQueue(),t(this).remove()}),t("#"+a).removeClass("fadeIn fast"),t("#"+a).addClass("fadeOut fast").delay(300).queue(function(){t(this).clearQueue(),t(this).remove()})}),void 0!==o.timeout){var u=s;setTimeout(function(){clearInterval(n);var o=t("#bigBox"+u);o.removeClass("fadeIn fast"),o.addClass("fadeOut fast").delay(300).queue(function(){t(this).clearQueue(),t(this).remove()});var i=t("#miniIcon"+u);i.removeClass("fadeIn fast"),i.addClass("fadeOut fast").delay(300).queue(function(){t(this).clearQueue(),t(this).remove()})},o.timeout)}},smallBox:function(o,e){var a;if(!0===(o=t.extend({title:"",content:"",icon:void 0,iconSmall:void 0,sound:!0,color:void 0,timeout:void 0,colortime:1500,colors:void 0},o)).sound&&0===c.browser.isIE8orlower()){var s=document.createElement("audio");navigator.userAgent.match("Firefox/")?s.setAttribute("src",c.baseURL+"../snd/smallbox.ogg"):s.setAttribute("src",c.baseURL+"../snd/smallbox.mp3"),t.get(),s.addEventListener("load",function(){s.play()},!0),s.pause(),s.play()}a="";var d="",r="smallbox"+(n+=1);d=void 0===o.iconSmall?"<div class='miniIcon'></div>":"<div class='miniIcon'><i class='miniPic "+o.iconSmall+"'></i></div>",a=void 0===o.icon?"<div id='smallbox"+n+"' class='SmallBox animated fadeInRight fast'><div class='textoFull'><span>"+o.title+"</span><p>"+o.content+"</p></div>"+d+"</div>":"<div id='smallbox"+n+"' class='SmallBox animated fadeInRight fast'><div class='foto'><i class='"+o.icon+"'></i></div><div class='textoFoto'><span>"+o.title+"</span><p>"+o.content+"</p></div>"+d+"</div>",1===n?(t("#divSmallBoxes").append(a),l=t("#smallbox"+n).height()+40):0===t(".SmallBox").size()?(t("#divSmallBoxes").append(a),l=t("#smallbox"+n).height()+40):(t("#divSmallBoxes").append(a),t("#smallbox"+n).css("top",l),l=l+t("#smallbox"+n).height()+20,t(".SmallBox").each(function(o){0===o?(t(this).css("top",20),i=t(this).height()+40,l=t(this).height()+40):(t(this).css("top",i),i=i+t(this).height()+20,l=l+t(this).height()+20)}));var u=t("#smallbox"+n);void 0===o.color?u.css("background-color","#004d60"):u.css("background-color",o.color);var v;void 0!==o.colors&&o.colors.length>0&&(u.attr("colorcount","0"),v=setInterval(function(){var t=u.attr("colorcount");u.animate({backgroundColor:o.colors[t].color}),t<o.colors.length-1?u.attr("colorcount",1*t+1):u.attr("colorcount",0)},o.colortime)),void 0!==o.timeout&&setTimeout(function(){clearInterval(v);var o=t(this).height()+20;t("#"+r).css("top");0!==t("#"+r+":hover").length?t("#"+r).on("mouseleave",function(){l-=o,t("#"+r).remove(),"function"==typeof e&&e&&e();var i=0;t(".SmallBox").each(function(o){0===o?(t(this).animate({top:20},300),i=t(this).height()+40,l=t(this).height()+40):(t(this).animate({top:i},350),i=i+t(this).height()+20,l=l+t(this).height()+20)})}):(clearInterval(v),l-=o,"function"==typeof e&&e&&e(),t("#"+r).removeClass().addClass("SmallBox").animate({opacity:0},300,function(){t(this).remove();var o=0;t(".SmallBox").each(function(i){0===i?(t(this).animate({top:20},300),o=t(this).height()+40,l=t(this).height()+40):(t(this).animate({top:o}),o=o+t(this).height()+20,l=l+t(this).height()+20)})}))},o.timeout),t("#smallbox"+n).bind("click",function(){clearInterval(v),"function"==typeof e&&e&&e();var o=t(this).height()+20;t(this).attr("id"),t(this).css("top");l-=o,t(this).removeClass().addClass("SmallBox").animate({opacity:0},300,function(){t(this).remove();var o=0;t(".SmallBox").each(function(i){0===i?(t(this).animate({top:20},300),o=t(this).height()+40,l=t(this).height()+40):(t(this).animate({top:o},350),o=o+t(this).height()+20,l=l+t(this).height()+20)})})})}}}(jQuery,this);
