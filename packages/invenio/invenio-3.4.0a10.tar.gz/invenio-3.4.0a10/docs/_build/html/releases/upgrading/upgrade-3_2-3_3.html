
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Upgrading from Invenio v3.2 to v3.3 &#8212; Invenio 3.4.0a8 documentation</title>
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Upgrading from Invenio v3.1 to v3.2" href="upgrade-3_1-3_2.html" />
    <link rel="prev" title="Upgrading" href="index.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="upgrading-from-invenio-v3-2-to-v3-3">
<span id="upgrade-3-1-3-2"></span><h1>Upgrading from Invenio v3.2 to v3.3<a class="headerlink" href="#upgrading-from-invenio-v3-2-to-v3-3" title="Permalink to this headline">¶</a></h1>
<p>If you have your instance of Invenio v3.2 already up and running and
you would like to upgrade to version v3.3 you don’t need to set up your
project from scratch. The goal of this guide is to show the steps to upgrade
your project without losing any of your work.</p>
<div class="section" id="pipfile-modifications">
<h2>Pipfile modifications<a class="headerlink" href="#pipfile-modifications" title="Permalink to this headline">¶</a></h2>
<p>The most important changes that you will have to make are in <code class="docutils literal notranslate"><span class="pre">Pipfile</span></code>.</p>
<ol class="arabic simple">
<li><p>Change the Invenio version:</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">invenio</span> <span class="o">=</span> <span class="p">{</span> <span class="n">version</span> <span class="o">=</span> <span class="s2">&quot;&gt;=3.3.0,&lt;3.4.0&quot;</span><span class="p">,</span> <span class="n">extras</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;base&quot;</span><span class="p">,</span> <span class="s2">&quot;auth&quot;</span><span class="p">,</span> <span class="s2">&quot;metadata&quot;</span><span class="p">,</span> <span class="s2">&quot;files&quot;</span><span class="p">,</span> <span class="s2">&quot;postgresql&quot;</span><span class="p">,</span> <span class="s2">&quot;elasticsearch7&quot;</span> <span class="p">]}</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Make sure that your database and Elasticsearch version matches your
installation. In above example the database is <code class="docutils literal notranslate"><span class="pre">postgresql</span></code> and the
Elasticsearch version is <code class="docutils literal notranslate"><span class="pre">elasticsearch7</span></code>.</p></li>
<li><p>Remove the following line from Pipfile:</p></li>
</ol>
<div class="highlight-diff notranslate"><div class="highlight"><pre><span></span><span class="gd">- lxml = &quot;&gt;=3.5.0,&lt;4.2.6&quot;</span>
  marshmallow = &quot;&gt;=3.0.0,&lt;4.0.0&quot;
<span class="gd">- SQLAlchemy-Utils = &quot;&gt;=0.33.1,&lt;0.36&quot;</span>
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p>Install the new packages in <code class="docutils literal notranslate"><span class="pre">Pipfile</span></code> by running the following commands:</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Update Pipfile.lock</span>
pipenv lock --dev

<span class="c1"># Install packages specified in Pipfile.lock</span>
pipenv sync --dev

<span class="c1"># Install application code and entrypoints from &#39;setup.py&#39;</span>
pipenv run pip install -e .

<span class="c1"># Build assets</span>
pipenv run invenio collect -v
pipenv run invenio webpack buildall
</pre></div>
</div>
</div>
</div>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="index.html" title="Previous document">Upgrading</a>
        </li>
        <li>
          <a href="upgrade-3_1-3_2.html" title="Next document">Upgrading from Invenio v3.1 to v3.2</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../../index.html">
    <img class="logo" src="../../_static/logo-full.png" alt="Logo"/>
    
  </a>
</p>



<p class="blurb">Invenio Digital Library Framework.</p>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../getting-started/index.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/bootcamp.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../documentation/index.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../community/index.html">Community</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Releases</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../maintenance-policy.html">Maintenance Policy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../releases/index.html">Versions</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Upgrading</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Upgrading from Invenio v3.2 to v3.3</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pipfile-modifications">Pipfile modifications</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="upgrade-3_1-3_2.html">Upgrading from Invenio v3.1 to v3.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="upgrade-marshmallow.html">Marshmallow v2/v3 compatibility</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../migrating.html">Migrating to v3</a></li>
</ul>
</li>
</ul>


<hr />
<ul>
    
    <li class="toctree-l1"><a href="https://github.com/inveniosoftware/invenio">invenio@GitHub</a></li>
    
    <li class="toctree-l1"><a href="https://pypi.python.org/pypi/invenio/">invenio@PyPI</a></li>
    
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../index.html">Releases</a><ul>
  <li><a href="index.html">Upgrading</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">Upgrading</a></li>
      <li>Next: <a href="upgrade-3_1-3_2.html" title="next chapter">Upgrading from Invenio v3.1 to v3.2</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2015-2020, CERN.
      
      |
      <a href="../../_sources/releases/upgrading/upgrade-3_2-3_3.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/inveniosoftware/invenio" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>