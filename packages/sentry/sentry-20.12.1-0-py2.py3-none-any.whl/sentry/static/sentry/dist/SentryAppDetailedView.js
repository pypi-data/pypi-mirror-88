(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[187],{2050:function(t,e,n){"use strict";e.__esModule=!0;var r=n(2051);e.default=r.TextareaAutosize},2051:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n};e.__esModule=!0;var s=n(1),c=n(2),u=n(2052),l=n(2053),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={lineHeight:null},e.textarea=null,e.onResize=function(t){e.props.onResize&&e.props.onResize(t)},e.updateLineHeight=function(){e.textarea&&e.setState({lineHeight:l(e.textarea)})},e.onChange=function(t){var n=e.props.onChange;e.currentValue=t.currentTarget.value,n&&n(t)},e}return o(e,t),e.prototype.componentDidMount=function(){var t=this,e=this.props,n=e.maxRows,r=e.async;"number"==typeof n&&this.updateLineHeight(),"number"==typeof n||r?setTimeout((function(){return t.textarea&&u(t.textarea)})):this.textarea&&u(this.textarea),this.textarea&&this.textarea.addEventListener("autosize:resized",this.onResize)},e.prototype.componentWillUnmount=function(){this.textarea&&(this.textarea.removeEventListener("autosize:resized",this.onResize),u.destroy(this.textarea))},e.prototype.render=function(){var t=this,e=this.props,n=(e.onResize,e.maxRows),r=(e.onChange,e.style),o=(e.innerRef,e.children),c=i(e,["onResize","maxRows","onChange","style","innerRef","children"]),u=this.state.lineHeight,l=n&&u?u*n:null;return s.createElement("textarea",a({},c,{onChange:this.onChange,style:l?a({},r,{maxHeight:l}):r,ref:function(e){t.textarea=e,"function"==typeof t.props.innerRef?t.props.innerRef(e):t.props.innerRef&&(t.props.innerRef.current=e)}}),o)},e.prototype.componentDidUpdate=function(){this.textarea&&u.update(this.textarea)},e.defaultProps={rows:1,async:!1},e.propTypes={rows:c.number,maxRows:c.number,onResize:c.func,innerRef:c.any,async:c.bool},e}(s.Component);e.TextareaAutosize=s.forwardRef((function(t,e){return s.createElement(p,a({},t,{innerRef:e}))}))},2052:function(t,e,n){var r,o,a;
/*!
	autosize 4.0.2
	license: MIT
	http://www.jacklmoore.com/autosize
*/o=[t,e],void 0===(a="function"==typeof(r=function(t,e){"use strict";var n,r,o="function"==typeof Map?new Map:(n=[],r=[],{has:function(t){return n.indexOf(t)>-1},get:function(t){return r[n.indexOf(t)]},set:function(t,e){-1===n.indexOf(t)&&(n.push(t),r.push(e))},delete:function(t){var e=n.indexOf(t);e>-1&&(n.splice(e,1),r.splice(e,1))}}),a=function(t){return new Event(t,{bubbles:!0})};try{new Event("test")}catch(t){a=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!1),e}}function i(t){if(t&&t.nodeName&&"TEXTAREA"===t.nodeName&&!o.has(t)){var e,n=null,r=null,i=null,s=function(){t.clientWidth!==r&&p()},c=function(e){window.removeEventListener("resize",s,!1),t.removeEventListener("input",p,!1),t.removeEventListener("keyup",p,!1),t.removeEventListener("autosize:destroy",c,!1),t.removeEventListener("autosize:update",p,!1),Object.keys(e).forEach((function(n){t.style[n]=e[n]})),o.delete(t)}.bind(t,{height:t.style.height,resize:t.style.resize,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener("autosize:destroy",c,!1),"onpropertychange"in t&&"oninput"in t&&t.addEventListener("keyup",p,!1),window.addEventListener("resize",s,!1),t.addEventListener("input",p,!1),t.addEventListener("autosize:update",p,!1),t.style.overflowX="hidden",t.style.wordWrap="break-word",o.set(t,{destroy:c,update:p}),"vertical"===(e=window.getComputedStyle(t,null)).resize?t.style.resize="none":"both"===e.resize&&(t.style.resize="horizontal"),n="content-box"===e.boxSizing?-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)):parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),isNaN(n)&&(n=0),p()}function u(e){var n=t.style.width;t.style.width="0px",t.offsetWidth,t.style.width=n,t.style.overflowY=e}function l(){if(0!==t.scrollHeight){var e=function(t){for(var e=[];t&&t.parentNode&&t.parentNode instanceof Element;)t.parentNode.scrollTop&&e.push({node:t.parentNode,scrollTop:t.parentNode.scrollTop}),t=t.parentNode;return e}(t),o=document.documentElement&&document.documentElement.scrollTop;t.style.height="",t.style.height=t.scrollHeight+n+"px",r=t.clientWidth,e.forEach((function(t){t.node.scrollTop=t.scrollTop})),o&&(document.documentElement.scrollTop=o)}}function p(){l();var e=Math.round(parseFloat(t.style.height)),n=window.getComputedStyle(t,null),r="content-box"===n.boxSizing?Math.round(parseFloat(n.height)):t.offsetHeight;if(r<e?"hidden"===n.overflowY&&(u("scroll"),l(),r="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight):"hidden"!==n.overflowY&&(u("hidden"),l(),r="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight),i!==r){i=r;var o=a("autosize:resized");try{t.dispatchEvent(o)}catch(t){}}}}function s(t){var e=o.get(t);e&&e.destroy()}function c(t){var e=o.get(t);e&&e.update()}var u=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((u=function(t){return t}).destroy=function(t){return t},u.update=function(t){return t}):((u=function(t,e){return t&&Array.prototype.forEach.call(t.length?t:[t],(function(t){return i(t)})),t}).destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],s),t},u.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],c),t}),e.default=u,t.exports=e.default})?r.apply(e,o):r)||(t.exports=a)},2053:function(t,e,n){var r=n(2054);t.exports=function(t){var e=r(t,"line-height"),n=parseFloat(e,10);if(e===n+""){var o=t.style.lineHeight;t.style.lineHeight=e+"em",e=r(t,"line-height"),n=parseFloat(e,10),o?t.style.lineHeight=o:delete t.style.lineHeight}if(-1!==e.indexOf("pt")?(n*=4,n/=3):-1!==e.indexOf("mm")?(n*=96,n/=25.4):-1!==e.indexOf("cm")?(n*=96,n/=2.54):-1!==e.indexOf("in")?n*=96:-1!==e.indexOf("pc")&&(n*=16),n=Math.round(n),"normal"===e){var a=t.nodeName,i=document.createElement(a);i.innerHTML="&nbsp;","TEXTAREA"===a.toUpperCase()&&i.setAttribute("rows","1");var s=r(t,"font-size");i.style.fontSize=s,i.style.padding="0px",i.style.border="0px";var c=document.body;c.appendChild(i),n=i.offsetHeight,c.removeChild(i)}return n}},2054:function(t,e){t.exports=function(t,e,n){return((n=window.getComputedStyle)?n(t):t.currentStyle)[e.replace(/-(\w)/gi,(function(t,e){return e.toUpperCase()}))]}},2072:function(t,e,n){"use strict";var r=n(6),o=n.n(r),a=n(16),i=n.n(a),s=n(3),c=n(1),u=n.n(c),l=n(2050),p=n.n(l),f=n(102),d=n(420),h=n(0),y=u.a.forwardRef((function(t,e){var n=t.autosize,r=t.rows,a=i()(t,["autosize","rows"]);return n?Object(h.f)(p.a,o()({async:!0,ref:e,rows:r||2},a)):Object(h.f)("textarea",o()({ref:e},a))}));y.displayName="TextAreaControl";var g=Object(s.a)(y,{shouldForwardProp:function(t){return["autosize","rows","maxRows"].includes(t)||Object(f.default)(t)},target:"edis3zx0",label:"TextArea"})(d.a,";line-height:1.3em;");e.a=g},2073:function(t,e,n){var r=n(689),o=n(1101),a=Object.prototype.hasOwnProperty,i=o((function(t,e,n){a.call(t,n)?t[n].push(e):r(t,n,[e])}));t.exports=i},2093:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(6),o=n.n(r),a=(n(1),n(131)),i=n.n(a),s=n(2072),c=n(277),u=n(0);function l(t){return Object(u.f)(c.a,o()({},t,{field:function(t){return Object(u.f)(s.a,i()(t,["onKeyDown","children"]))}}))}l.displayName="TextareaField"},2163:function(t,e,n){"use strict";n.d(e,"a",(function(){return x})),n.d(e,"b",(function(){return w}));var r=n(33),o=n.n(r),a=n(28),i=n.n(a),s=n(7),c=n.n(s),u=n(2073),l=n.n(u),p=n(2164),f=n.n(p),d=n(276),h=n.n(d);function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){c()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var b={read:0,write:1,admin:2},v={project:"Project",team:"Team",release:"Release",event:"Event",org:"Organization",member:"Member"},m={Project:"no-access",Team:"no-access",Release:"no-access",Event:"no-access",Organization:"no-access",Member:"no-access"},O=function(t){var e=t.split(":")[1];return b[e]},j=function(t,e){return O(t)-O(e)};function w(t){var e,n=g({},m),r=i()(t);return t.includes("project:releases")&&(n.Release="admin",r=t.filter((function(t){return"project:releases"!==t}))),(e=r,Object.values(l()(e,(function(t){return t.split(":")[0]}))).map((function(t){return t.sort(j)})).map((function(t){return t.pop()}))).forEach((function(t){if(t){var e=t.split(":"),r=o()(e,2),a=r[0],i=r[1];n[v[a]]=i}})),n}function x(t){var e=w(t),n=h()(f()(e),["read","write","admin"]);return g(g({},{read:[],write:[],admin:[]}),n)}},2164:function(t,e,n){var r=n(281),o=n(2165),a=Object.prototype,i=a.hasOwnProperty,s=a.toString,c=o((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=s.call(e)),i.call(t,e)?t[e].push(n):t[e]=[n]}),r);t.exports=c},2165:function(t,e,n){var r=n(2166);t.exports=function(t,e){return function(n,o){return r(n,t,e(o),{})}}},2166:function(t,e,n){var r=n(711);t.exports=function(t,e,n,o){return r(t,(function(t,r,a){e(o,n(t),r,a)})),o}},2255:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return i}));var r=n(35),o=n(4);function a(t,e,n){Object(r.b)();var a=t.requestPromise("/organizations/".concat(e,"/sentry-app-installations/"),{method:"POST",data:{slug:n.slug}});return a.then((function(){return Object(r.e)()}),(function(){return Object(r.a)(Object(o.b)("Unable to install ".concat(n.name)))})),a}function i(t,e){Object(r.b)();var n=t.requestPromise("/sentry-app-installations/".concat(e.uuid,"/"),{method:"DELETE"});return n.then((function(){Object(r.d)(Object(o.b)("".concat(e.app.slug," successfully uninstalled.")))}),(function(){return Object(r.e)()})),n}},2962:function(t,e,n){"use strict";n.r(e);var r=n(6),o=n.n(r),a=n(22),i=n.n(a),s=n(28),c=n.n(s),u=n(30),l=n.n(u),p=n(9),f=n.n(p),d=n(10),h=n.n(d),y=n(115),g=n.n(y),b=n(12),v=n.n(b),m=n(13),O=n.n(m),j=n(5),w=n.n(j),x=n(3),z=n(1),E=n.n(z),k=n(35),R=n(65),C=n(2255),A=n(29),S=n(696),T=n(206),I=n(15),P=n(4),_=n(8),L=n(2163),H=n(194),N=n(76),U=n(736),D=n(57),M=n(2222),W=n(680),F=n(0);function B(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=w()(t);if(e){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O()(this,n)}}var Y=function(t){v()(n,t);var e=B(n);function n(){var t;f()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))).onCopy=l()(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.writeText(t.props.installationId);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),t.handleContinue=function(){t.onCopy(),Object(k.d)("Copied to clipboard"),setTimeout((function(){window.open("https://app.split.io/org/admin/integrations")}),2e3)},t}return h()(n,[{key:"render",value:function(){var t=this.props,e=t.installationId,n=t.closeModal;return Object(F.f)("div",null,Object(F.f)(K,null,"Copy this Installation ID and click to continue. You will use it to finish setup on Split.io."),Object(F.f)(K,null,Object(F.f)(W.a,{onCopy:this.onCopy},e)),Object(F.f)(X,null,Object(F.f)(A.a,{size:"small",onClick:n},"Close"),Object(F.f)(A.a,{size:"small",priority:"primary",onClick:this.handleContinue},"Copy and Open Link")))}}]),n}(E.a.Component);Y.displayName="SplitInstallationIdModal";var K=Object(x.a)("div",{target:"e14h1mmf0",label:"ItemHolder"})({name:"eaeacs",styles:"margin:10px;"}),X=Object(x.a)(K,{target:"e14h1mmf1",label:"ButtonHolder"})({name:"99h030",styles:"text-align:right;& button{margin:5px;}"});function q(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=w()(t);if(e){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O()(this,n)}}var J=function(t){v()(n,t);var e=q(n);function n(){var t;f()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))).tabs=["overview"],t.redirectUser=function(e){var n=t.props.organization,r=t.state.sentryApp,o={installationId:e.uuid,code:e.code,orgSlug:n.slug};if(r.redirectUrl){var a=Object(N.a)(r.redirectUrl,o);window.location.assign(a)}},t.handleInstall=l()(i.a.mark((function e(){var n,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.props.organization,r=t.state.sentryApp,t.trackIntegrationEvent({eventKey:"integrations.installation_start",eventName:"Integrations: Installation Start",integration_status:r.status}),e.next=5,Object(C.a)(t.api,n.slug,r);case 5:"installed"===(o=e.sent).status&&t.trackIntegrationEvent({eventKey:"integrations.installation_complete",eventName:"Integrations: Installation Complete",integration_status:r.status}),r.redirectUrl?t.redirectUser(o):(Object(k.d)(Object(P.b)("".concat(r.slug," successfully installed."))),t.setState({appInstalls:[o].concat(c()(t.state.appInstalls))}),["split","split-dev","split-testing"].includes(r.slug)&&Object(R.j)((function(t){var e=t.closeModal;return Object(F.f)(Y,{installationId:o.uuid,closeModal:e})})));case 8:case"end":return e.stop()}}),e)}))),t.handleUninstall=function(){var e=l()(i.a.mark((function e(n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(C.b)(t.api,n);case 3:return t.trackIntegrationEvent({eventKey:"integrations.uninstall_completed",eventName:"Integrations: Uninstall Completed",integration_status:t.sentryApp.status}),r=t.state.appInstalls.filter((function(e){return e.app.slug!==t.sentryApp.slug})),e.abrupt("return",t.setState({appInstalls:r}));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Object(k.a)(Object(P.b)("Unable to uninstall ".concat(t.sentryApp.name))));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),t.recordUninstallClicked=function(){var e=t.sentryApp;t.trackIntegrationEvent({eventKey:"integrations.uninstall_clicked",eventName:"Integrations: Uninstall Clicked",integration_status:e.status})},t}return h()(n,[{key:"getEndpoints",value:function(){var t=this.props,e=t.organization,n=t.params.integrationSlug;return[["sentryApp","/sentry-apps/".concat(n,"/")],["featureData","/sentry-apps/".concat(n,"/features/")],["appInstalls","/organizations/".concat(e.slug,"/sentry-app-installations/")]]}},{key:"onLoadAllEndpointsSuccess",value:function(){var t=this.props,e=t.organization,r=t.params.integrationSlug,o=t.router;"internal"!==this.sentryApp.status?(g()(w()(n.prototype),"onLoadAllEndpointsSuccess",this).call(this),Object(U.a)(r,"sentry_app_viewed")):o.push("/settings/".concat(e.slug,"/developer-settings/").concat(r,"/"))}},{key:"renderPermissions",value:function(){var t=this.permissions;return Object.keys(t).some((function(e){return t[e].length>0}))?Object(F.f)(Q,null,Object(F.f)(Z,null,"Permissions"),t.read.length>0&&Object(F.f)(G,null,Object(F.f)($,null),Object(F.f)(V,{key:"read"},Object(P.c)("[read] access to [resources] resources",{read:Object(F.f)("strong",null,"Read"),resources:t.read.join(", ")}))),t.write.length>0&&Object(F.f)(G,null,Object(F.f)($,null),Object(F.f)(V,{key:"write"},Object(P.c)("[read] and [write] access to [resources] resources",{read:Object(F.f)("strong",null,"Read"),write:Object(F.f)("strong",null,"Write"),resources:t.write.join(", ")}))),t.admin.length>0&&Object(F.f)(G,null,Object(F.f)($,null),Object(F.f)(V,{key:"admin"},Object(P.c)("[admin] access to [resources] resources",{admin:Object(F.f)("strong",null,"Admin"),resources:t.admin.join(", ")})))):null}},{key:"renderTopButton",value:function(t,e){var n=this,r=this.install;return r?Object(F.f)(T.a,{disabled:!e,message:Object(P.c)("Are you sure you want to remove the [slug] installation?",{slug:this.integrationSlug}),onConfirm:function(){return n.handleUninstall(r)},onConfirming:this.recordUninstallClicked,priority:"danger"},Object(F.f)(et,{size:"small","data-test-id":"sentry-app-uninstall"},Object(F.f)(I.wb,{isCircled:!0,style:{marginRight:Object(_.a)(.75)}}),Object(P.b)("Uninstall"))):e?Object(F.f)(tt,{"data-test-id":"install-button",disabled:t,onClick:function(){return n.handleInstall()},priority:"primary",size:"small",style:{marginLeft:Object(_.a)(1)}},Object(P.b)("Accept & Install")):this.renderRequestIntegrationButton()}},{key:"renderConfigurations",value:function(){return null}},{key:"integrationType",get:function(){return"sentry_app"}},{key:"sentryApp",get:function(){return this.state.sentryApp}},{key:"description",get:function(){return this.state.sentryApp.overview||""}},{key:"author",get:function(){return this.sentryApp.author}},{key:"resourceLinks",get:function(){return"published"!==this.sentryApp.status?[]:[{title:"Documentation",url:"https://docs.sentry.io/product/integrations/".concat(this.integrationSlug,"/")}]}},{key:"permissions",get:function(){return Object(L.a)(this.sentryApp.scopes)}},{key:"installationStatus",get:function(){return Object(H.g)(this.install)}},{key:"integrationName",get:function(){return this.sentryApp.name}},{key:"featureData",get:function(){return this.state.featureData}},{key:"install",get:function(){var t=this;return this.state.appInstalls.find((function(e){return e.app.slug===t.sentryApp.slug}))}}]),n}(M.a),V=Object(x.a)("p",{target:"e1nw372o0",label:"Text"})({name:"1y1i75n",styles:"margin:0px 6px;"}),G=Object(x.a)("div",{target:"e1nw372o1",label:"Permission"})({name:"k008qs",styles:"display:flex;"}),Q=Object(x.a)("div",{target:"e1nw372o2",label:"PermissionWrapper"})("padding-bottom:",Object(_.a)(2),";"),Z=Object(x.a)("p",{target:"e1nw372o3",label:"Title"})("margin-bottom:",Object(_.a)(1),";font-weight:bold;"),$=Object(x.a)((function(t){return Object(F.f)(S.a,o()({size:7},t))}),{target:"e1nw372o4",label:"Indicator"})("margin-top:3px;color:",(function(t){return t.theme.success}),";"),tt=Object(x.a)(A.a,{target:"e1nw372o5",label:"InstallButton"})("margin-left:",Object(_.a)(1),";"),et=Object(x.a)(A.a,{target:"e1nw372o6",label:"StyledUninstallButton"})("color:",(function(t){return t.theme.gray300}),";background:",(function(t){return t.theme.background}),";border:",(function(t){return"1px solid ".concat(t.theme.gray300)}),";box-sizing:border-box;box-shadow:0px 2px 1px rgba(0,0,0,0.08);border-radius:4px;");e.default=Object(D.a)(J)}}]);
//# sourceMappingURL=SentryAppDetailedView.js.map