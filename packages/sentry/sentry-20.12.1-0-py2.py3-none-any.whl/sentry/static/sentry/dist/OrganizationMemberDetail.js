(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[120],{1938:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(9),r=n.n(a),c=n(10),i=n.n(c),o=n(12),l=n.n(o),s=n(13),u=n.n(s),f=n(5),b=n.n(f),d=(n(1),n(247)),m=n.n(d),p=n(408),O=n(0);function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=b()(e);if(t){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return u()(this,n)}}var h=function(e){l()(n,e);var t=j(n);function n(){return r()(this,n),t.apply(this,arguments)}return i()(n,[{key:"getTitle",value:function(){return""}},{key:"render",value:function(){var e=this.getTitle();return Object(O.f)(m.a,{title:"".concat(e?"".concat(e," - "):"","Sentry")},this.renderComponent())}}]),n}(p.a);h.displayName="AsyncView"},1939:function(e,t,n){"use strict";var a=n(16),r=n.n(a),c=n(9),i=n.n(c),o=n(10),l=n.n(o),s=n(12),u=n.n(s),f=n(13),b=n.n(f),d=n(5),m=n.n(d),p=n(3),O=n(1),j=n.n(O),h=n(204),v=n(8),g=n(0);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=m()(e);if(t){var r=m()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return b()(this,n)}}var w=function(e){u()(n,e);var t=y(n);function n(){return i()(this,n),t.apply(this,arguments)}return l()(n,[{key:"render",value:function(){var e=this.props,t=e.icon,n=e.title,a=e.subtitle,c=e.action,i=e.tabs,o=e.noTitleStyles,l=r()(e,["icon","title","subtitle","action","tabs","noTitleStyles"]);return Object(g.f)("div",l,Object(g.f)(R,null,Object(g.f)(x,null,t&&Object(g.f)(T,null,t),n&&Object(g.f)(S,{tabs:i,styled:o},Object(g.f)(h.a,null,n),a&&Object(g.f)(k,null,a))),c&&Object(g.f)(A,{tabs:i},c)),i&&Object(g.f)("div",null,i))}}]),n}(j.a.Component);w.displayName="UnstyledSettingsPageHeader",w.defaultProps={noTitleStyles:!1};var R=Object(p.a)("div",{target:"e1uay4fd0",label:"TitleAndActions"})({name:"70qvj9",styles:"display:flex;align-items:center;"}),x=Object(p.a)("div",{target:"e1uay4fd1",label:"TitleWrapper"})({name:"1rr4qq7",styles:"flex:1;"}),S=Object(p.a)("div",{target:"e1uay4fd2",label:"Title"})((function(e){return!e.styled&&"\n    font-size: 20px;\n    font-weight: bold;"}),";margin:",(function(e){return e.tabs?"".concat(Object(v.a)(4)," ").concat(Object(v.a)(2)," ").concat(Object(v.a)(2)," 0"):"".concat(Object(v.a)(4)," ").concat(Object(v.a)(2)," ").concat(Object(v.a)(4)," 0")}),";"),k=Object(p.a)("div",{target:"e1uay4fd3",label:"Subtitle"})("color:",(function(e){return e.theme.gray400}),";font-weight:400;font-size:",(function(e){return e.theme.fontSizeLarge}),";padding:",Object(v.a)(1.5)," 0 ",Object(v.a)(3),";"),T=Object(p.a)("div",{target:"e1uay4fd4",label:"Icon"})("margin-right:",Object(v.a)(1),";"),A=Object(p.a)("div",{target:"e1uay4fd5",label:"Action"})((function(e){return e.tabs?"margin-top: ".concat(Object(v.a)(2)):null}),";"),z=Object(p.a)(w,{target:"e1uay4fd6",label:"SettingsPageHeader"})("font-size:14px;margin-top:-",Object(v.a)(4),";");t.a=z},1951:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(679),r=n.n(a),c=n(542);function i(e,t){var n,a,i,o,l=t.routes,s=t.params,u=t.location,f=t.stepBack,b=l.map((function(e){return e.path||""}));"string"!=typeof e?(o=l.indexOf(e)+1,i=r()(b.slice(0,o),(function(e){return"/"===e[0]}))):i=r()(b,(function(e){return"/"===e[0]}));var d=b.slice(i,o);void 0!==f&&(d=d.slice(0,f));var m=null!==(n=null==u?void 0:u.search)&&void 0!==n?n:"",p=null!==(a=null==u?void 0:u.hash)&&void 0!==a?a:"",O="".concat(d.join("")).concat("string"!=typeof e?"":e).concat(m).concat(p);return Object(c.a)(O,s)}},2032:function(e,t,n){"use strict";var a=n(3),r=n(0),c=n(118),i=function(e){return Object(r.e)("display:block;width:1rem;height:1rem;border-radius:50%;background-color:",e.theme.green300,";animation:0.2s ",c.d," ease;opacity:",e.disabled?.4:null,";")},o=Object(a.a)("input",{target:"e1d7o7s40",label:"Radio"})("display:flex;padding:0;width:1.5em;height:1.5em;position:relative;border-radius:50%;align-items:center;justify-content:center;border:1px solid ",(function(e){return e.theme.border}),";box-shadow:inset 0 1px 1px rgba(0,0,0,0.04);background:none;appearance:none;margin:0 !important;&:focus,&.focus-visible{outline:none !important;border:1px solid ",(function(e){return e.theme.border}),";box-shadow:rgba(209,202,216,0.5) 0 0 0 3px;}&:checked:after{content:'';",i,"}");o.defaultProps={type:"radio"},t.a=o},2236:function(e,t,n){"use strict";var a=n(22),r=n.n(a),c=n(30),i=n.n(c),o=n(9),l=n.n(o),s=n(10),u=n.n(s),f=n(12),b=n.n(f),d=n(13),m=n.n(d),p=n(5),O=n.n(p),j=n(3),h=n(1),v=n.n(h),g=n(142),y=n.n(g),w=n(29),R=n(206),x=n(308),S=n(413),k=n(60),T=n(164),A=n(32),z=n(15),D=n(4),I=n(8),P=n(49),C=n(411),N=n(0);function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=O()(e);if(t){var r=O()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return m()(this,n)}}var M=function(e){b()(n,e);var t=q(n);function n(){var e;l()(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={loading:!0,teams:null},e.fetchTeams=y()(function(){var t=i()(r.a.mark((function t(n){var a,c,i,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props,c=a.api,i=a.organization,t.next=3,c.requestPromise("/organizations/".concat(i.slug,"/teams/"),{query:{query:n,per_page:A.G}});case 3:o=t.sent,e.setState({teams:o,loading:!1});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),A.h),e.handleQueryUpdate=function(t){e.setState({loading:!0}),e.fetchTeams(t.target.value)},e.handleAddTeam=function(t){var n=e.state.teams.find((function(e){return e.slug===t.value}));e.props.onAddTeam(n)},e.handleRemove=function(t){e.props.onRemoveTeam(t)},e}return u()(n,[{key:"componentDidMount",value:function(){this.fetchTeams()}},{key:"renderTeamAddDropDown",value:function(){var e,t=this.props,n=t.disabled,a=t.selectedTeams,r=t.menuHeader,c=this.state.teams,i=null===c||0===c.length,o=n;return e=i?[]:c.filter((function(e){return!a.includes(e.slug)})).map((function(e){return{value:e.slug,searchKey:e.slug,label:Object(N.f)(L,null,"#",e.slug)}})),Object(N.f)(x.a,{items:e,busyItemsStillVisible:this.state.loading,onChange:this.handleQueryUpdate,onSelect:this.handleAddTeam,emptyMessage:Object(D.b)("No teams"),menuHeader:r,disabled:o,alignMenu:"right"},(function(e){var t=e.isOpen;return Object(N.f)(S.a,{"aria-label":Object(D.b)("Add Team"),isOpen:t,size:"xsmall",disabled:o},Object(D.b)("Add Team"))}))}},{key:"renderBody",value:function(){var e=this,t=this.props,n=t.organization,a=t.selectedTeams,r=t.disabled,c=t.confirmLastTeamRemoveMessage;if(0===a.length)return Object(N.f)(C.a,null,Object(D.b)("No Teams assigned"));var i=1===a.length&&c?c:null;return a.map((function(t){return Object(N.f)(B,{key:t,orgId:n.slug,team:t,onRemove:e.handleRemove,disabled:r,confirmMessage:i})}))}},{key:"render",value:function(){return Object(N.f)(T.a,null,Object(N.f)(T.e,{hasButtons:!0},Object(D.b)("Team"),this.renderTeamAddDropDown()),Object(N.f)(T.c,null,this.renderBody()))}}]),n}(v.a.Component);M.displayName="TeamSelect";var B=function(e){var t=e.orgId,n=e.team,a=e.onRemove,r=e.disabled,c=e.confirmMessage;return Object(N.f)(E,null,Object(N.f)(H,{to:"/settings/".concat(t,"/teams/").concat(n,"/")},"#".concat(n)),Object(N.f)(R.a,{message:c,bypass:!c,onConfirm:function(){return a(n)},disabled:r},Object(N.f)(w.a,{size:"xsmall",icon:Object(N.f)(z.wb,{isCircled:!0,size:"xs"}),disabled:r},Object(D.b)("Remove"))))};B.displayName="TeamRow";var L=Object(j.a)("div",{target:"e2fk6ws0",label:"TeamDropdownElement"})("padding:",Object(I.a)(.5)," 0px;text-transform:none;"),E=Object(j.a)(T.f,{target:"e2fk6ws1",label:"TeamPanelItem"})("padding:",Object(I.a)(2),";align-items:center;"),H=Object(j.a)(k.a,{target:"e2fk6ws2",label:"StyledLink"})("flex:1;margin-right:",Object(I.a)(1),";");t.a=Object(P.a)(M)},2957:function(e,t,n){"use strict";n.r(t);var a=n(7),r=n.n(a),c=n(22),i=n.n(c),o=n(30),l=n.n(o),s=n(9),u=n.n(s),f=n(10),b=n.n(f),d=n(115),m=n.n(d),p=n(12),O=n.n(p),j=n(13),h=n.n(j),v=n(5),g=n.n(v),y=n(3),w=n(1),R=n.n(w),x=n(11),S=n(47),k=n(436),T=n(35),A=n(359),z=n(435),D=n(29),I=n(206),P=n(412),C=n(698),N=n(58),q=n(164),M=n(31),B=n(4),L=n(420),E=n(8),H=n(1951),F=n(57),J=n(1938),W=n(676),U=n(1939),G=n(2236),Q=n(2032),V=n(675),_=n(0);function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=g()(e);if(t){var r=g()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return h()(this,n)}}var Y=Object(y.a)("label",{target:"e1noblkb0",label:"Label"})({name:"muoiou",styles:"display:flex;flex:1;align-items:center;margin-bottom:0;"}),X=function(e){O()(n,e);var t=K(n);function n(){return u()(this,n),t.apply(this,arguments)}return b()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.disabled,a=t.enforceAllowed,r=t.roleList,c=t.selectedRole;return Object(_.f)(q.a,null,Object(_.f)(q.e,null,Object(B.b)("Role")),Object(_.f)(q.c,null,r.map((function(t){var r=t.desc,i=t.name,o=t.id,l=t.allowed,s=n||a&&!l;return Object(_.f)(q.f,{key:o,onClick:function(){return!s&&e.props.setRole(o)},css:s?{color:"grey",cursor:"default"}:{}},Object(_.f)(Y,null,Object(_.f)(Q.a,{id:o,value:i,checked:o===c,readOnly:!0}),Object(_.f)("div",{style:{flex:1,padding:"0 16px"}},i,Object(_.f)(V.a,{noMargin:!0},Object(_.f)("div",{className:"help-block"},r)))))}))))}}]),n}(R.a.Component);X.displayName="RoleSelect";var Z=X;function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=g()(e);if(t){var r=g()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return h()(this,n)}}var ne=Object(B.b)("Cannot be reset since user is in more than one organization"),ae=Object(B.b)("Not enrolled in two-factor authentication"),re=Object(B.b)("You do not have permission to perform this action"),ce=Object(B.b)("Cannot be reset since two-factor is required for this organization"),ie=function(e){O()(n,e);var t=te(n);function n(){var e;u()(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleSave=l()(i.a.mark((function t(){var n,a,r,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,a=n.organization,r=n.params,Object(T.b)(Object(B.b)("Saving...")),e.setState({busy:!0}),t.prev=3,t.next=6,Object(A.e)(e.api,{orgId:a.slug,memberId:r.memberId,data:e.state.member});case 6:Object(T.d)(Object(B.b)("Saved")),e.redirectToMemberPage(),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(3),c=t.t0&&t.t0.responseJSON&&t.t0.responseJSON.detail||Object(B.b)("Could not save..."),Object(T.a)(c);case 14:e.setState({busy:!1});case 15:case"end":return t.stop()}}),t,null,[[3,10]])}))),e.handleInvite=function(){var t=l()(i.a.mark((function t(n){var a,r,c,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props,r=a.organization,c=a.params,Object(T.b)(Object(B.b)("Sending invite...")),e.setState({busy:!0}),t.prev=3,t.next=6,Object(A.d)(e.api,{orgId:r.slug,memberId:c.memberId,regenerate:n});case 6:o=t.sent,Object(T.d)(Object(B.b)("Sent invite!")),n&&e.setState((function(e){return{member:ee(ee({},e.member),o)}})),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),Object(T.a)(Object(B.b)("Could not send invite"));case 14:e.setState({busy:!1});case 15:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e){return t.apply(this,arguments)}}(),e.handleAddTeam=function(t){var n=e.state.member;n.teams.includes(t.slug)||n.teams.push(t.slug),e.setState({member:n})},e.handleRemoveTeam=function(t){var n=e.state.member;e.setState({member:ee(ee({},n),{},{teams:n.teams.filter((function(e){return e!==t}))})})},e.handle2faReset=l()(i.a.mark((function t(){var n,a,r,c,o,l;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,a=n.organization,r=n.router,c=e.state.member,o=c.user,l=o.authenticators.map((function(t){return Object(k.c)(e.api,o.id,t.id)})),t.prev=3,t.next=6,Promise.all(l);case 6:r.push("/settings/".concat(a.slug,"/members/")),Object(T.d)(Object(B.b)("All authenticators have been removed")),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(3),Object(T.a)(Object(B.b)("Error removing authenticators")),S.c(t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,10]])}))),e.showResetButton=function(){var t=e.props.organization,n=e.state.member.user;return!(!n||!n.authenticators||t.require2FA)&&(n.authenticators.length>=1&&n.canReset2fa)},e.getTooltip=function(){var t=e.props.organization,n=e.state.member.user;return n?n.authenticators?n.authenticators.length?n.canReset2fa?t.require2FA?ce:"":ne:ae:re:""},e}return b()(n,[{key:"getDefaultState",value:function(){return ee(ee({},m()(g()(n.prototype),"getDefaultState",this).call(this)),{},{roleList:[],selectedRole:"",member:null})}},{key:"getEndpoints",value:function(){var e=this.props,t=e.organization,n=e.params;return[["member","/organizations/".concat(t.slug,"/members/").concat(n.memberId,"/")]]}},{key:"redirectToMemberPage",value:function(){var e=this.props,t=e.location,n=e.params,a=e.routes,r=Object(H.a)("members/",{location:t,routes:a,params:n,stepBack:-2});x.browserHistory.push(r)}},{key:"renderBody",value:function(){var e=this,t=this.props.organization,n=this.state.member;if(!n)return Object(_.f)(C.a,null);var a=t.access,r=n.invite_link,c=a.includes("org:write"),i=n.email,o=!n.expired,l=!n.pending;return Object(_.f)(R.a.Fragment,null,Object(_.f)(U.a,{title:Object(_.f)(R.a.Fragment,null,Object(_.f)("div",null,n.name),Object(_.f)(oe,null,Object(B.b)("Member Settings")))}),Object(_.f)(q.a,null,Object(_.f)(q.e,null,Object(B.b)("Basics")),Object(_.f)(q.c,null,Object(_.f)(q.f,null,Object(_.f)(ue,null,Object(_.f)(le,null,Object(_.f)("div",null,Object(_.f)(se,null,Object(B.b)("Email")),Object(_.f)("div",null,Object(_.f)(N.a,{href:"mailto:".concat(i)},i))),Object(_.f)("div",null,Object(_.f)(se,null,Object(B.b)("Status")),Object(_.f)("div",{"data-test-id":"member-status"},n.expired?Object(_.f)("em",null,Object(B.b)("Invitation Expired")):n.pending?Object(_.f)("em",null,Object(B.b)("Invitation Pending")):Object(B.b)("Active"))),Object(_.f)("div",null,Object(_.f)(se,null,Object(B.b)("Added")),Object(_.f)("div",null,Object(_.f)(P.a,{dateOnly:!0,date:n.dateCreated})))),r&&Object(_.f)(fe,null,Object(_.f)("div",null,Object(_.f)(se,null,Object(B.b)("Invite Link")),Object(_.f)(z.a,null,Object(_.f)(be,null,r)),Object(_.f)("p",{className:"help-block"},Object(B.b)("This unique invite link may only be used by this member."))),Object(_.f)(de,null,Object(_.f)(D.a,{onClick:function(){return e.handleInvite(!0)}},Object(B.b)("Generate New Invite")),o&&Object(_.f)(D.a,{"data-test-id":"resend-invite",onClick:function(){return e.handleInvite(!1)}},Object(B.b)("Resend Invite")))))))),l&&Object(_.f)(q.a,null,Object(_.f)(q.e,null,Object(B.b)("Authentication")),Object(_.f)(q.c,null,Object(_.f)(W.a,{alignRight:!0,flexibleControlStateSize:!0,label:Object(B.b)("Reset two-factor authentication"),help:Object(B.b)("Resetting two-factor authentication will remove all two-factor authentication methods for this member.")},Object(_.f)(M.a,{"data-test-id":"reset-2fa-tooltip",disabled:this.showResetButton(),title:this.getTooltip()},Object(_.f)(I.a,{disabled:!this.showResetButton(),message:Object(B.c)("Are you sure you want to disable all two-factor authentication methods for [name]?",{name:n.name?n.name:"this member"}),onConfirm:this.handle2faReset,"data-test-id":"reset-2fa-confirm"},Object(_.f)(D.a,{"data-test-id":"reset-2fa",priority:"danger"},Object(B.b)("Reset two-factor authentication"))))))),Object(_.f)(Z,{enforceAllowed:!1,disabled:!c,roleList:n.roles,selectedRole:n.role,setRole:function(t){return e.setState({member:ee(ee({},n),{},{role:t})})}}),Object(_.f)(G.a,{organization:t,selectedTeams:n.teams,disabled:!c,onAddTeam:this.handleAddTeam,onRemoveTeam:this.handleRemoveTeam}),Object(_.f)(me,null,Object(_.f)(D.a,{priority:"primary",busy:this.state.busy,onClick:this.handleSave,disabled:!c},Object(B.b)("Save Member"))))}}]),n}(J.a),oe=(t.default=Object(F.a)(ie),Object(y.a)("div",{target:"e4la2im0",label:"ExtraHeaderText"})("color:",(function(e){return e.theme.gray300}),";font-weight:normal;font-size:",(function(e){return e.theme.fontSizeLarge}),";")),le=Object(y.a)("div",{target:"e4la2im1",label:"Details"})("display:grid;grid-auto-flow:column;grid-template-columns:2fr 1fr 1fr;grid-gap:",Object(E.a)(2),";width:100%;@media (max-width:",(function(e){return e.theme.breakpoints[0]}),"){grid-auto-flow:row;grid-template-columns:auto;}"),se=Object(y.a)("div",{target:"e4la2im2",label:"DetailLabel"})("font-weight:bold;margin-bottom:",Object(E.a)(.5),";color:",(function(e){return e.theme.textColor}),";"),ue=Object(y.a)("div",{target:"e4la2im3",label:"OverflowWrapper"})({name:"c4alqz",styles:"overflow:hidden;flex:1;"}),fe=Object(y.a)("div",{target:"e4la2im4",label:"InviteSection"})("border-top:1px solid ",(function(e){return e.theme.border}),";margin-top:",Object(E.a)(2),";padding-top:",Object(E.a)(2),";"),be=Object(y.a)("code",{target:"e4la2im5",label:"CodeInput"})((function(e){return Object(L.a)(e)}),";"),de=Object(y.a)("div",{target:"e4la2im6",label:"InviteActions"})("display:grid;grid-gap:",Object(E.a)(1),";grid-auto-flow:column;justify-content:flex-end;margin-top:",Object(E.a)(2),";"),me=Object(y.a)("div",{target:"e4la2im7",label:"Footer"})({name:"1bvc4cc",styles:"display:flex;justify-content:flex-end;"})}}]);
//# sourceMappingURL=OrganizationMemberDetail.js.map