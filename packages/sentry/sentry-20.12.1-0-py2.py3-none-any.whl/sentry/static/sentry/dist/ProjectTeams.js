(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[176],{1938:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n(9),r=n.n(a),c=n(10),o=n.n(c),i=n(12),s=n.n(i),u=n(13),l=n.n(u),f=n(5),d=n.n(f),p=(n(1),n(247)),m=n.n(p),b=n(408),h=n(0);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=d()(e);if(t){var r=d()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return l()(this,n)}}var j=function(e){s()(n,e);var t=g(n);function n(){return r()(this,n),t.apply(this,arguments)}return o()(n,[{key:"getTitle",value:function(){return""}},{key:"render",value:function(){var e=this.getTitle();return Object(h.f)(m.a,{title:"".concat(e?"".concat(e," - "):"","Sentry")},this.renderComponent())}}]),n}(b.a);j.displayName="AsyncView"},1939:function(e,t,n){"use strict";var a=n(16),r=n.n(a),c=n(9),o=n.n(c),i=n(10),s=n.n(i),u=n(12),l=n.n(u),f=n(13),d=n.n(f),p=n(5),m=n.n(p),b=n(3),h=n(1),g=n.n(h),j=n(204),v=n(8),y=n(0);function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=m()(e);if(t){var r=m()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return d()(this,n)}}var T=function(e){l()(n,e);var t=O(n);function n(){return o()(this,n),t.apply(this,arguments)}return s()(n,[{key:"render",value:function(){var e=this.props,t=e.icon,n=e.title,a=e.subtitle,c=e.action,o=e.tabs,i=e.noTitleStyles,s=r()(e,["icon","title","subtitle","action","tabs","noTitleStyles"]);return Object(y.f)("div",s,Object(y.f)(R,null,Object(y.f)(w,null,t&&Object(y.f)(x,null,t),n&&Object(y.f)(S,{tabs:o,styled:i},Object(y.f)(j.a,null,n),a&&Object(y.f)(k,null,a))),c&&Object(y.f)(A,{tabs:o},c)),o&&Object(y.f)("div",null,o))}}]),n}(g.a.Component);T.displayName="UnstyledSettingsPageHeader",T.defaultProps={noTitleStyles:!1};var R=Object(b.a)("div",{target:"e1uay4fd0",label:"TitleAndActions"})({name:"70qvj9",styles:"display:flex;align-items:center;"}),w=Object(b.a)("div",{target:"e1uay4fd1",label:"TitleWrapper"})({name:"1rr4qq7",styles:"flex:1;"}),S=Object(b.a)("div",{target:"e1uay4fd2",label:"Title"})((function(e){return!e.styled&&"\n    font-size: 20px;\n    font-weight: bold;"}),";margin:",(function(e){return e.tabs?"".concat(Object(v.a)(4)," ").concat(Object(v.a)(2)," ").concat(Object(v.a)(2)," 0"):"".concat(Object(v.a)(4)," ").concat(Object(v.a)(2)," ").concat(Object(v.a)(4)," 0")}),";"),k=Object(b.a)("div",{target:"e1uay4fd3",label:"Subtitle"})("color:",(function(e){return e.theme.gray400}),";font-weight:400;font-size:",(function(e){return e.theme.fontSizeLarge}),";padding:",Object(v.a)(1.5)," 0 ",Object(v.a)(3),";"),x=Object(b.a)("div",{target:"e1uay4fd4",label:"Icon"})("margin-right:",Object(v.a)(1),";"),A=Object(b.a)("div",{target:"e1uay4fd5",label:"Action"})((function(e){return e.tabs?"margin-top: ".concat(Object(v.a)(2)):null}),";"),C=Object(b.a)(T,{target:"e1uay4fd6",label:"SettingsPageHeader"})("font-size:14px;margin-top:-",Object(v.a)(4),";");t.a=C},1941:function(e,t,n){"use strict";t.a=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a="".concat(e," - ").concat(t);return n?"".concat(a," - Sentry"):a}},2236:function(e,t,n){"use strict";var a=n(22),r=n.n(a),c=n(30),o=n.n(c),i=n(9),s=n.n(i),u=n(10),l=n.n(u),f=n(12),d=n.n(f),p=n(13),m=n.n(p),b=n(5),h=n.n(b),g=n(3),j=n(1),v=n.n(j),y=n(142),O=n.n(y),T=n(29),R=n(206),w=n(308),S=n(413),k=n(60),x=n(164),A=n(32),C=n(15),z=n(4),D=n(8),I=n(49),P=n(411),L=n(0);function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=h()(e);if(t){var r=h()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return m()(this,n)}}var q=function(e){d()(n,e);var t=M(n);function n(){var e;s()(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={loading:!0,teams:null},e.fetchTeams=O()(function(){var t=o()(r.a.mark((function t(n){var a,c,o,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props,c=a.api,o=a.organization,t.next=3,c.requestPromise("/organizations/".concat(o.slug,"/teams/"),{query:{query:n,per_page:A.G}});case 3:i=t.sent,e.setState({teams:i,loading:!1});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),A.h),e.handleQueryUpdate=function(t){e.setState({loading:!0}),e.fetchTeams(t.target.value)},e.handleAddTeam=function(t){var n=e.state.teams.find((function(e){return e.slug===t.value}));e.props.onAddTeam(n)},e.handleRemove=function(t){e.props.onRemoveTeam(t)},e}return l()(n,[{key:"componentDidMount",value:function(){this.fetchTeams()}},{key:"renderTeamAddDropDown",value:function(){var e,t=this.props,n=t.disabled,a=t.selectedTeams,r=t.menuHeader,c=this.state.teams,o=null===c||0===c.length,i=n;return e=o?[]:c.filter((function(e){return!a.includes(e.slug)})).map((function(e){return{value:e.slug,searchKey:e.slug,label:Object(L.f)(H,null,"#",e.slug)}})),Object(L.f)(w.a,{items:e,busyItemsStillVisible:this.state.loading,onChange:this.handleQueryUpdate,onSelect:this.handleAddTeam,emptyMessage:Object(z.b)("No teams"),menuHeader:r,disabled:i,alignMenu:"right"},(function(e){var t=e.isOpen;return Object(L.f)(S.a,{"aria-label":Object(z.b)("Add Team"),isOpen:t,size:"xsmall",disabled:i},Object(z.b)("Add Team"))}))}},{key:"renderBody",value:function(){var e=this,t=this.props,n=t.organization,a=t.selectedTeams,r=t.disabled,c=t.confirmLastTeamRemoveMessage;if(0===a.length)return Object(L.f)(P.a,null,Object(z.b)("No Teams assigned"));var o=1===a.length&&c?c:null;return a.map((function(t){return Object(L.f)(N,{key:t,orgId:n.slug,team:t,onRemove:e.handleRemove,disabled:r,confirmMessage:o})}))}},{key:"render",value:function(){return Object(L.f)(x.a,null,Object(L.f)(x.e,{hasButtons:!0},Object(z.b)("Team"),this.renderTeamAddDropDown()),Object(L.f)(x.c,null,this.renderBody()))}}]),n}(v.a.Component);q.displayName="TeamSelect";var N=function(e){var t=e.orgId,n=e.team,a=e.onRemove,r=e.disabled,c=e.confirmMessage;return Object(L.f)(B,null,Object(L.f)(U,{to:"/settings/".concat(t,"/teams/").concat(n,"/")},"#".concat(n)),Object(L.f)(R.a,{message:c,bypass:!c,onConfirm:function(){return a(n)},disabled:r},Object(L.f)(T.a,{size:"xsmall",icon:Object(L.f)(C.wb,{isCircled:!0,size:"xs"}),disabled:r},Object(z.b)("Remove"))))};N.displayName="TeamRow";var H=Object(g.a)("div",{target:"e2fk6ws0",label:"TeamDropdownElement"})("padding:",Object(D.a)(.5)," 0px;text-transform:none;"),B=Object(g.a)(x.f,{target:"e2fk6ws1",label:"TeamPanelItem"})("padding:",Object(D.a)(2),";align-items:center;"),U=Object(g.a)(k.a,{target:"e2fk6ws2",label:"StyledLink"})("flex:1;margin-right:",Object(D.a)(1),";");t.a=Object(I.a)(q)},2820:function(e,t,n){"use strict";n.r(t);var a=n(28),r=n.n(a),c=n(9),o=n.n(c),i=n(10),s=n.n(i),u=n(12),l=n.n(u),f=n(13),d=n.n(f),p=n(5),m=n.n(p),b=n(3),h=(n(1),n(0)),g=n(35),j=n(65),v=n(421),y=n(60),O=n(31),T=n(4),R=n(8),w=n(1941),S=n(1938),k=n(1939),x=n(2236);function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=m()(e);if(t){var r=m()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return d()(this,n)}}var C=function(e){l()(n,e);var t=A(n);function n(){var e;o()(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).canCreateTeam=function(){var t=e.props.organization,n=new Set(t.access);return n.has("org:write")&&n.has("team:write")&&n.has("project:write")},e.handleRemove=function(t){if(!e.state.loading){var n=e.props.params,a=n.orgId,r=n.projectId;Object(v.i)(e.api,a,r,t).then((function(){return e.handleRemovedTeam(t)})).catch((function(){Object(g.a)(Object(T.b)("Could not remove the %s team",t)),e.setState({loading:!1})}))}},e.handleRemovedTeam=function(t){e.setState((function(e){return{projectTeams:r()((e.projectTeams||[]).filter((function(e){return e.slug!==t})))}}))},e.handleAddedTeam=function(t){e.setState((function(e){return{projectTeams:[].concat(r()(e.projectTeams),[t])}}))},e.handleAdd=function(t){if(!e.state.loading){var n=e.props.params,a=n.orgId,r=n.projectId;Object(v.a)(e.api,a,r,t).then((function(){e.handleAddedTeam(t)}),(function(){e.setState({error:!0,loading:!1})}))}},e.handleCreateTeam=function(t){var n=e.props,a=n.project,r=n.organization;e.canCreateTeam()&&(t.stopPropagation(),t.preventDefault(),Object(j.e)({project:a,organization:r,onClose:function(t){Object(v.a)(e.api,r.slug,a.slug,t).then(e.remountComponent,e.remountComponent)}}))},e}return s()(n,[{key:"getEndpoints",value:function(){var e=this.props.params,t=e.orgId,n=e.projectId;return[["projectTeams","/projects/".concat(t,"/").concat(n,"/teams/")]]}},{key:"getTitle",value:function(){var e=this.props.params.projectId;return Object(w.a)(Object(T.b)("Project Teams"),e,!1)}},{key:"renderBody",value:function(){var e,t=this.props,n=t.params,a=t.organization,r=this.canCreateTeam(),c=a.access.includes("project:write"),o=Object(T.b)("This is the last team with access to this project. Removing it will mean only organization owners and managers will be able to access the project pages. Are you sure you want to remove this team from the project %s?",n.projectId),i=this.state.projectTeams,s=null!==(e=null==i?void 0:i.map((function(e){return e.slug})))&&void 0!==e?e:[],u=Object(h.f)(z,null,Object(T.b)("Teams"),Object(h.f)(O.a,{disabled:r,title:Object(T.b)("You must be a project admin to create teams"),position:"top"},Object(h.f)(D,{to:"",disabled:!r,onClick:this.handleCreateTeam},Object(T.b)("Create Team"))));return Object(h.f)("div",null,Object(h.f)(k.a,{title:Object(T.b)("%s Teams",n.projectId)}),Object(h.f)(x.a,{organization:a,selectedTeams:s,onAddTeam:this.handleAdd,onRemoveTeam:this.handleRemove,menuHeader:u,confirmLastTeamRemoveMessage:o,disabled:!c}))}}]),n}(S.a),z=Object(b.a)("div",{target:"e1902wmv0",label:"StyledTeamsLabel"})("font-size:0.875em;padding:",Object(R.a)(.5)," 0px;text-transform:uppercase;"),D=Object(b.a)(y.a,{target:"e1902wmv1",label:"StyledCreateTeamLink"})("float:right;text-transform:none;",(function(e){return e.disabled&&Object(h.e)("cursor:not-allowed;color:",e.theme.gray300,";opacity:0.6;;label:StyledCreateTeamLink;")}),";");t.default=C}}]);
//# sourceMappingURL=ProjectTeams.js.map