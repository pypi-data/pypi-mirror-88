(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[164],{1939:function(e,t,n){"use strict";var r=n(16),s=n.n(r),i=n(9),a=n.n(i),o=n(10),c=n.n(o),l=n(12),u=n.n(l),d=n(13),f=n.n(d),p=n(5),b=n.n(p),g=n(3),h=n(1),m=n.n(h),v=n(204),j=n(8),y=n(0);function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b()(e);if(t){var s=b()(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return f()(this,n)}}var P=function(e){u()(n,e);var t=O(n);function n(){return a()(this,n),t.apply(this,arguments)}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.icon,n=e.title,r=e.subtitle,i=e.action,a=e.tabs,o=e.noTitleStyles,c=s()(e,["icon","title","subtitle","action","tabs","noTitleStyles"]);return Object(y.f)("div",c,Object(y.f)(w,null,Object(y.f)(_,null,t&&Object(y.f)(x,null,t),n&&Object(y.f)(S,{tabs:a,styled:o},Object(y.f)(v.a,null,n),r&&Object(y.f)(k,null,r))),i&&Object(y.f)(R,{tabs:a},i)),a&&Object(y.f)("div",null,a))}}]),n}(m.a.Component);P.displayName="UnstyledSettingsPageHeader",P.defaultProps={noTitleStyles:!1};var w=Object(g.a)("div",{target:"e1uay4fd0",label:"TitleAndActions"})({name:"70qvj9",styles:"display:flex;align-items:center;"}),_=Object(g.a)("div",{target:"e1uay4fd1",label:"TitleWrapper"})({name:"1rr4qq7",styles:"flex:1;"}),S=Object(g.a)("div",{target:"e1uay4fd2",label:"Title"})((function(e){return!e.styled&&"\n    font-size: 20px;\n    font-weight: bold;"}),";margin:",(function(e){return e.tabs?"".concat(Object(j.a)(4)," ").concat(Object(j.a)(2)," ").concat(Object(j.a)(2)," 0"):"".concat(Object(j.a)(4)," ").concat(Object(j.a)(2)," ").concat(Object(j.a)(4)," 0")}),";"),k=Object(g.a)("div",{target:"e1uay4fd3",label:"Subtitle"})("color:",(function(e){return e.theme.gray400}),";font-weight:400;font-size:",(function(e){return e.theme.fontSizeLarge}),";padding:",Object(j.a)(1.5)," 0 ",Object(j.a)(3),";"),x=Object(g.a)("div",{target:"e1uay4fd4",label:"Icon"})("margin-right:",Object(j.a)(1),";"),R=Object(g.a)("div",{target:"e1uay4fd5",label:"Action"})((function(e){return e.tabs?"margin-top: ".concat(Object(j.a)(2)):null}),";"),I=Object(g.a)(P,{target:"e1uay4fd6",label:"SettingsPageHeader"})("font-size:14px;margin-top:-",Object(j.a)(4),";");t.a=I},1943:function(e,t,n){"use strict";n(1);var r=n(247),s=n.n(r),i=n(0),a=function(e){var t="".concat(e.title," - ").concat(e.objSlug," - Sentry");return Object(i.f)(s.a,{title:t},e.children)};a.displayName="SentryDocumentTitle",t.a=a},1945:function(e,t,n){"use strict";var r=n(6),s=n.n(r),i=n(7),a=n.n(i),o=n(16),c=n.n(o),l=n(9),u=n.n(l),d=n(10),f=n.n(d),p=n(12),b=n.n(p),g=n(13),h=n.n(g),m=n(5),v=n.n(m),j=n(1),y=n.n(j),O=n(47),P=n(2),w=n.n(P),_=n(278),S=n(677),k=n.n(S),x=n(21),R=n(674),I=n(1947),D=n(0);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var s=v()(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return h()(this,n)}}var T=function(e){b()(n,e);var t=N(n);function n(){var e;u()(this,n);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={highlighted:A(e.props,e.context).hash},e}return f()(n,[{key:"componentDidMount",value:function(){this.scrollToHash()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(A(this.props,this.context).hash!==A(e,this.context).hash){var t=A(e,this.context).hash;this.scrollToHash(t),this.setState({highlighted:t})}}},{key:"scrollToHash",value:function(e){var t=e||A(this.props,this.context).hash;if(t)try{k()(Object(R.a)(decodeURIComponent(t)),{align:"middle",offset:-100})}catch(e){O.c(e)}}},{key:"shouldDisplayForm",value:function(e){var t=e.filter((function(e){return"function"!=typeof e&&Object(x.d)(null==e?void 0:e.visible)}));if(e.length===t.length){var n=this.props,r=n.additionalFieldProps,s=c()(n,["additionalFieldProps"]);return!t.every((function(e){return"function"==typeof e.visible?!e.visible(E(E({},s),r)):!e.visible}))}return!0}},{key:"renderForm",value:function(e){var t=e.fields,n=e.formPanelProps,r=e.title;return this.shouldDisplayForm(t)||(null==n?void 0:n.renderFooter)||(null==n?void 0:n.renderHeader)?Object(D.f)(I.a,s()({title:r,fields:t},n)):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.access,r=t.fields,s=t.title,i=t.forms,a=t.disabled,o=t.features,l=t.additionalFieldProps,u=t.renderFooter,d=t.renderHeader,f=(t.location,c()(t,["access","fields","title","forms","disabled","features","additionalFieldProps","renderFooter","renderHeader","location"])),p={access:n,disabled:a,features:o,additionalFieldProps:l,renderFooter:u,renderHeader:d,highlighted:this.state.highlighted};return Object(D.f)(_.Box,f,void 0!==i&&i.map((function(t,n){return Object(D.f)(y.a.Fragment,{key:n},e.renderForm(E({formPanelProps:p},t)))})),void 0===i&&void 0!==r&&this.renderForm({fields:r,formPanelProps:p,title:s}))}}]),n}(y.a.Component);function A(e,t){return e.location||t.location||{}}T.displayName="JsonForm",T.contextTypes={location:w.a.object},T.defaultProps={additionalFieldProps:{}},t.a=T},1947:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n(6),s=n.n(r),i=n(16),a=n.n(i),o=n(9),c=n.n(o),l=n(10),u=n.n(l),d=n(12),f=n.n(d),p=n(13),b=n.n(p),g=n(5),h=n.n(g),m=n(1),v=n.n(m),j=n(164),y=n(674),O=n(1964),P=n(0);function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var s=h()(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return b()(this,n)}}var _=function(e){f()(n,e);var t=w(n);function n(){return c()(this,n),t.apply(this,arguments)}return u()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.title,r=t.fields,i=t.access,o=t.disabled,c=t.additionalFieldProps,l=t.renderFooter,u=t.renderHeader,d=a()(t,["title","fields","access","disabled","additionalFieldProps","renderFooter","renderHeader"]);return Object(P.f)(j.a,{id:"string"==typeof n?Object(y.a)(n):void 0},n&&Object(P.f)(j.e,null,n),Object(P.f)(j.c,null,"function"==typeof u&&u({title:n,fields:r}),r.map((function(t){if("function"==typeof t)return t();t.defaultValue;var n=a()(t,["defaultValue"]);return!0===o&&(n.disabled=!0,n.disabledReason=void 0),Object(P.f)(O.a,s()({access:i,disabled:o,key:t.name},d,c,{field:n,highlighted:e.props.highlighted==="#".concat(t.name)}))})),"function"==typeof l&&l({title:n,fields:r})))}}]),n}(v.a.Component);_.displayName="FormPanel"},2241:function(e,t,n){"use strict";n.r(t),n.d(t,"route",(function(){return s}));var r=n(4),s="/settings/:orgId/projects/:projectId/processing-issues/",i=[{title:"Settings",fields:[{name:"sentry:reprocessing_active",type:"boolean",label:Object(r.b)("Reprocessing active"),disabled:function(e){return!e.access.has("project:write")},disabledReason:Object(r.b)("Only admins may change reprocessing settings"),help:Object(r.b)("If reprocessing is enabled, Events with fixable issues will be\n                held back until you resolve them. Processing issues will then\n                show up in the list above with hints how to fix them.\n                If reprocessing is disabled, Events with unresolved issues will\n                also show up in the stream.\n                "),saveOnBlur:!1,saveMessage:function(e){return e.value?Object(r.b)("Reprocessing applies to future events only."):Object(r.b)("All events with errors will be flushed into your issues stream.\n                Beware that this process may take some time and cannot be undone.")},getData:function(e){return{options:e}}}]}];t.default=i},2831:function(e,t,n){"use strict";n.r(t),n.d(t,"ProjectProcessingIssues",(function(){return C}));var r=n(9),s=n.n(r),i=n(10),a=n.n(i),o=n(12),c=n.n(o),l=n(13),u=n.n(l),d=n(5),f=n.n(d),p=n(3),b=n(1),g=n.n(b),h=n(35),m=n(410),v=n(435),j=n(29),y=n(304),O=n(123),P=n(44),w=n(164),_=n(1943),S=n(207),k=n(2241),x=n(15),R=n(4),I=n(49),D=n(57),F=n(1944),E=n(1945),N=n(1939),T=n(675),A=n(0);function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var s=f()(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return u()(this,n)}}var H={native_no_crashed_thread:Object(R.b)("No crashed thread found in crash report"),native_internal_failure:Object(R.b)("Internal failure when attempting to symbolicate: {error}"),native_bad_dsym:Object(R.b)("The debug information file used was broken."),native_missing_optionally_bundled_dsym:Object(R.b)("An optional debug information file was missing."),native_missing_dsym:Object(R.b)("A required debug information file was missing."),native_missing_system_dsym:Object(R.b)("A system debug information file was missing."),native_missing_symbol:Object(R.b)("Could not resolve one or more frames in debug information file."),native_simulator_frame:Object(R.b)("Encountered an unprocessable simulator frame."),native_unknown_image:Object(R.b)("A binary image is referenced that is unknown."),proguard_missing_mapping:Object(R.b)("A proguard mapping file was missing."),proguard_missing_lineno:Object(R.b)("A proguard mapping file does not contain line info.")},L={native_missing_dsym:"https://docs.sentry.io/clients/cocoa/dsym/",native_bad_dsym:"https://docs.sentry.io/clients/cocoa/dsym/",native_missing_system_dsym:"https://docs.sentry.io/server/dsym/",native_missing_symbol:"https://docs.sentry.io/server/dsym/"},C=function(e){c()(n,e);var t=q(n);function n(){var e;s()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={formData:{},loading:!0,reprocessing:!1,expected:0,error:!1,processingIssues:null,pageLinks:null},e.fetchData=function(){var t=e.props.params,n=t.orgId,r=t.projectId;e.setState({expected:e.state.expected+2}),e.props.api.request("/projects/".concat(n,"/").concat(r,"/"),{success:function(t){var n=e.state.expected-1;e.setState({expected:n,loading:n>0,formData:t.options})},error:function(){var t=e.state.expected-1;e.setState({expected:t,error:!0,loading:t>0})}}),e.props.api.request("/projects/".concat(n,"/").concat(r,"/processingissues/?detailed=1"),{success:function(t,n,r){var s,i=e.state.expected-1;e.setState({expected:i,error:!1,loading:i>0,processingIssues:t,pageLinks:null!==(s=null==r?void 0:r.getResponseHeader("Link"))&&void 0!==s?s:null})},error:function(){var t=e.state.expected-1;e.setState({expected:t,error:!0,loading:t>0})}})},e.sendReprocessing=function(){e.setState({reprocessing:!0}),Object(h.b)(Object(R.b)("Started reprocessing…"));var t=e.props.params,n=t.orgId,r=t.projectId;e.props.api.request("/projects/".concat(n,"/").concat(r,"/reprocessing/"),{method:"POST",success:function(){e.fetchData(),e.setState({reprocessing:!1})},error:function(){e.setState({reprocessing:!1})},complete:function(){Object(h.e)()}})},e.discardEvents=function(){var t=e.props.params,n=t.orgId,r=t.projectId;e.setState({expected:e.state.expected+1}),e.props.api.request("/projects/".concat(n,"/").concat(r,"/processingissues/discard/"),{method:"DELETE",success:function(){var t=e.state.expected-1;e.setState({expected:t,error:!1,loading:t>0}),window.location.reload()},error:function(){var t=e.state.expected-1;e.setState({expected:t,error:!0,loading:t>0})}})},e.deleteProcessingIssues=function(){var t=e.props.params,n=t.orgId,r=t.projectId;e.setState({expected:e.state.expected+1}),e.props.api.request("/projects/".concat(n,"/").concat(r,"/processingissues/"),{method:"DELETE",success:function(){var t=e.state.expected-1;e.setState({expected:t,error:!1,loading:t>0}),window.location.reload()},error:function(){var t=e.state.expected-1;e.setState({expected:t,error:!0,loading:t>0})}})},e}return a()(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"renderDebugTable",value:function(){var e=this.state,t=e.loading,n=e.error,r=e.processingIssues;return t?this.renderLoading():n?Object(A.f)(O.a,{onRetry:this.fetchData}):(null==r?void 0:r.hasIssues)||(null==r?void 0:r.resolveableIssues)||(null==r?void 0:r.issuesProcessing)?this.renderResults():this.renderEmpty()}},{key:"renderLoading",value:function(){return Object(A.f)("div",{className:"box"},Object(A.f)(P.default,null))}},{key:"renderEmpty",value:function(){return Object(A.f)(w.a,null,Object(A.f)(y.a,null,Object(A.f)("p",null,Object(R.b)("Good news! There are no processing issues."))))}},{key:"getProblemDescription",value:function(e){return H[e.type]||Object(R.b)("Unknown Error")}},{key:"getImageName",value:function(e){var t=e.split(/^([a-z]:\\|\\\\)/i.test(e)?"\\":"/");return t[t.length-1]}},{key:"renderProblem",value:function(e){var t=this.getProblemDescription(e),n=L[e.type];return Object(A.f)("div",{className:"processing-issue"},Object(A.f)("span",{className:"description"},t)," ",n&&Object(A.f)("a",{href:n,className:"help-link"},Object(A.f)(x.ib,{size:"xs"})))}},{key:"renderDetails",value:function(e){var t=null,n=null,r=null;return"native"===e.data._scope&&(e.data.image_uuid&&(t=Object(A.f)("code",{className:"uuid"},e.data.image_uuid)),e.data.image_path&&(n=Object(A.f)("em",null,this.getImageName(e.data.image_path))),e.data.image_arch&&(r=e.data.image_arch)),Object(A.f)("span",null,t&&Object(A.f)("span",null," ",t),r&&Object(A.f)("span",null," ",r),n&&Object(A.f)("span",null," (for ",n,")"))}},{key:"renderResolveButton",value:function(){var e=this.state.processingIssues;if(null===e||this.state.reprocessing)return null;if(e.resolveableIssues<=0)return null;var t=Object(R.d)("Click here to trigger processing for %s pending event","Click here to trigger processing for %s pending events",e.resolveableIssues);return Object(A.f)("div",{className:"alert alert-block alert-info"},"Pro Tip: ",Object(A.f)("a",{onClick:this.sendReprocessing},t))}},{key:"renderResults",value:function(){var e,t=this,n=this.state.processingIssues,r=!!n&&n.signedLink,s=null;r&&(s=Object(A.f)("div",{className:"panel panel-info"},Object(A.f)("div",{className:"panel-heading"},Object(A.f)("h3",null,Object(R.b)("Having trouble uploading debug informations? We can help!"))),Object(A.f)("div",{className:"panel-body"},Object(A.f)("div",{className:"form-group",style:{marginBottom:0}},Object(A.f)("label",null,Object(R.b)("Paste this command into your shell and we'll attempt to upload the missing symbols from your machine:")),Object(A.f)(v.a,{className:"form-control disabled",style:{marginBottom:6}},'curl -sL "',r,'" | bash')))));var i=null;return n&&n.issuesProcessing>0&&(i=Object(A.f)(z,{type:"info",icon:Object(A.f)(x.ob,{size:"sm"})},Object(R.d)("Reprocessing %s event …","Reprocessing %s events …",n.issuesProcessing))),Object(A.f)("div",null,s,Object(A.f)("h3",null,Object(R.b)("Pending Issues"),Object(A.f)(m.a,{access:["project:write"]},(function(e){var n=e.hasAccess;return Object(A.f)(j.a,{size:"small",className:"pull-right",disabled:!n,onClick:function(){return t.discardEvents()}},Object(R.b)("Discard all"))}))),Object(A.f)(w.g,{headers:[Object(R.b)("Problem"),Object(R.b)("Details"),Object(R.b)("Events"),Object(R.b)("Last seen")]},i,null==n?void 0:null===(e=n.issues)||void 0===e?void 0:e.map((function(e,n){return Object(A.f)(g.a.Fragment,{key:n},Object(A.f)("div",null,t.renderProblem(e)),Object(A.f)("div",null,t.renderDetails(e)),Object(A.f)("div",null,e.numEvents+""),Object(A.f)("div",null,Object(A.f)(S.a,{date:e.lastSeen})))}))))}},{key:"renderReprocessingSettings",value:function(){var e=new Set(this.props.organization.access);if(this.state.loading)return this.renderLoading();var t=this.state.formData,n=this.props.params,r=n.orgId,s=n.projectId;return Object(A.f)(F.a,{saveOnBlur:!0,onSubmitSuccess:this.deleteProcessingIssues,apiEndpoint:"/projects/".concat(r,"/").concat(s,"/"),apiMethod:"PUT",initialData:t},Object(A.f)(E.a,{access:e,forms:k.default,renderHeader:function(){return Object(A.f)(w.b,{type:"warning"},Object(A.f)(T.a,{noMargin:!0},Object(R.b)("Reprocessing does not apply to Minidumps. Even when enabled,\n                    Minidump events with processing issues will show up in the\n                    issues stream immediately and cannot be reprocessed.")))}}))}},{key:"render",value:function(){var e=this.props.params.projectId,t=Object(R.b)("Processing Issues");return Object(A.f)("div",null,Object(A.f)(_.a,{title:t,objSlug:e}),Object(A.f)(N.a,{title:t}),Object(A.f)(T.a,null,Object(R.b)("For some platforms the event processing requires configuration or\n          manual action.  If a misconfiguration happens or some necessary\n          steps are skipped, issues can occur during processing. (The most common\n          reason for this is missing debug symbols.) In these cases you can see\n          all the problems here with guides of how to correct them.")),this.renderDebugTable(),this.renderResolveButton(),this.renderReprocessingSettings())}}]),n}(g.a.Component);C.displayName="ProjectProcessingIssues";var z=Object(p.a)(w.b,{target:"e1tq48qq0",label:"StyledPanelAlert"})({name:"h1keqo",styles:"grid-column:1/5;"});t.default=Object(I.a)(Object(D.a)(C))}}]);
//# sourceMappingURL=ProjectProcessingIssues.js.map