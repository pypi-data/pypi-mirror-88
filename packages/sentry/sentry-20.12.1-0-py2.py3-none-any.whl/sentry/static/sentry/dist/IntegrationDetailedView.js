(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[99],{2050:function(t,e,n){"use strict";e.__esModule=!0;var r=n(2051);e.default=r.TextareaAutosize},2051:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},a=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n};e.__esModule=!0;var c=n(1),s=n(2),u=n(2052),l=n(2053),f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={lineHeight:null},e.textarea=null,e.onResize=function(t){e.props.onResize&&e.props.onResize(t)},e.updateLineHeight=function(){e.textarea&&e.setState({lineHeight:l(e.textarea)})},e.onChange=function(t){var n=e.props.onChange;e.currentValue=t.currentTarget.value,n&&n(t)},e}return o(e,t),e.prototype.componentDidMount=function(){var t=this,e=this.props,n=e.maxRows,r=e.async;"number"==typeof n&&this.updateLineHeight(),"number"==typeof n||r?setTimeout((function(){return t.textarea&&u(t.textarea)})):this.textarea&&u(this.textarea),this.textarea&&this.textarea.addEventListener("autosize:resized",this.onResize)},e.prototype.componentWillUnmount=function(){this.textarea&&(this.textarea.removeEventListener("autosize:resized",this.onResize),u.destroy(this.textarea))},e.prototype.render=function(){var t=this,e=this.props,n=(e.onResize,e.maxRows),r=(e.onChange,e.style),o=(e.innerRef,e.children),s=a(e,["onResize","maxRows","onChange","style","innerRef","children"]),u=this.state.lineHeight,l=n&&u?u*n:null;return c.createElement("textarea",i({},s,{onChange:this.onChange,style:l?i({},r,{maxHeight:l}):r,ref:function(e){t.textarea=e,"function"==typeof t.props.innerRef?t.props.innerRef(e):t.props.innerRef&&(t.props.innerRef.current=e)}}),o)},e.prototype.componentDidUpdate=function(){this.textarea&&u.update(this.textarea)},e.defaultProps={rows:1,async:!1},e.propTypes={rows:s.number,maxRows:s.number,onResize:s.func,innerRef:s.any,async:s.bool},e}(c.Component);e.TextareaAutosize=c.forwardRef((function(t,e){return c.createElement(f,i({},t,{innerRef:e}))}))},2052:function(t,e,n){var r,o,i;
/*!
	autosize 4.0.2
	license: MIT
	http://www.jacklmoore.com/autosize
*/o=[t,e],void 0===(i="function"==typeof(r=function(t,e){"use strict";var n,r,o="function"==typeof Map?new Map:(n=[],r=[],{has:function(t){return n.indexOf(t)>-1},get:function(t){return r[n.indexOf(t)]},set:function(t,e){-1===n.indexOf(t)&&(n.push(t),r.push(e))},delete:function(t){var e=n.indexOf(t);e>-1&&(n.splice(e,1),r.splice(e,1))}}),i=function(t){return new Event(t,{bubbles:!0})};try{new Event("test")}catch(t){i=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!1),e}}function a(t){if(t&&t.nodeName&&"TEXTAREA"===t.nodeName&&!o.has(t)){var e,n=null,r=null,a=null,c=function(){t.clientWidth!==r&&f()},s=function(e){window.removeEventListener("resize",c,!1),t.removeEventListener("input",f,!1),t.removeEventListener("keyup",f,!1),t.removeEventListener("autosize:destroy",s,!1),t.removeEventListener("autosize:update",f,!1),Object.keys(e).forEach((function(n){t.style[n]=e[n]})),o.delete(t)}.bind(t,{height:t.style.height,resize:t.style.resize,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener("autosize:destroy",s,!1),"onpropertychange"in t&&"oninput"in t&&t.addEventListener("keyup",f,!1),window.addEventListener("resize",c,!1),t.addEventListener("input",f,!1),t.addEventListener("autosize:update",f,!1),t.style.overflowX="hidden",t.style.wordWrap="break-word",o.set(t,{destroy:s,update:f}),"vertical"===(e=window.getComputedStyle(t,null)).resize?t.style.resize="none":"both"===e.resize&&(t.style.resize="horizontal"),n="content-box"===e.boxSizing?-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)):parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),isNaN(n)&&(n=0),f()}function u(e){var n=t.style.width;t.style.width="0px",t.offsetWidth,t.style.width=n,t.style.overflowY=e}function l(){if(0!==t.scrollHeight){var e=function(t){for(var e=[];t&&t.parentNode&&t.parentNode instanceof Element;)t.parentNode.scrollTop&&e.push({node:t.parentNode,scrollTop:t.parentNode.scrollTop}),t=t.parentNode;return e}(t),o=document.documentElement&&document.documentElement.scrollTop;t.style.height="",t.style.height=t.scrollHeight+n+"px",r=t.clientWidth,e.forEach((function(t){t.node.scrollTop=t.scrollTop})),o&&(document.documentElement.scrollTop=o)}}function f(){l();var e=Math.round(parseFloat(t.style.height)),n=window.getComputedStyle(t,null),r="content-box"===n.boxSizing?Math.round(parseFloat(n.height)):t.offsetHeight;if(r<e?"hidden"===n.overflowY&&(u("scroll"),l(),r="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight):"hidden"!==n.overflowY&&(u("hidden"),l(),r="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight),a!==r){a=r;var o=i("autosize:resized");try{t.dispatchEvent(o)}catch(t){}}}}function c(t){var e=o.get(t);e&&e.destroy()}function s(t){var e=o.get(t);e&&e.update()}var u=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((u=function(t){return t}).destroy=function(t){return t},u.update=function(t){return t}):((u=function(t,e){return t&&Array.prototype.forEach.call(t.length?t:[t],(function(t){return a(t)})),t}).destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],c),t},u.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],s),t}),e.default=u,t.exports=e.default})?r.apply(e,o):r)||(t.exports=i)},2053:function(t,e,n){var r=n(2054);t.exports=function(t){var e=r(t,"line-height"),n=parseFloat(e,10);if(e===n+""){var o=t.style.lineHeight;t.style.lineHeight=e+"em",e=r(t,"line-height"),n=parseFloat(e,10),o?t.style.lineHeight=o:delete t.style.lineHeight}if(-1!==e.indexOf("pt")?(n*=4,n/=3):-1!==e.indexOf("mm")?(n*=96,n/=25.4):-1!==e.indexOf("cm")?(n*=96,n/=2.54):-1!==e.indexOf("in")?n*=96:-1!==e.indexOf("pc")&&(n*=16),n=Math.round(n),"normal"===e){var i=t.nodeName,a=document.createElement(i);a.innerHTML="&nbsp;","TEXTAREA"===i.toUpperCase()&&a.setAttribute("rows","1");var c=r(t,"font-size");a.style.fontSize=c,a.style.padding="0px",a.style.border="0px";var s=document.body;s.appendChild(a),n=a.offsetHeight,s.removeChild(a)}return n}},2054:function(t,e){t.exports=function(t,e,n){return((n=window.getComputedStyle)?n(t):t.currentStyle)[e.replace(/-(\w)/gi,(function(t,e){return e.toUpperCase()}))]}},2072:function(t,e,n){"use strict";var r=n(6),o=n.n(r),i=n(16),a=n.n(i),c=n(3),s=n(1),u=n.n(s),l=n(2050),f=n.n(l),d=n(102),p=n(420),g=n(0),h=u.a.forwardRef((function(t,e){var n=t.autosize,r=t.rows,i=a()(t,["autosize","rows"]);return n?Object(g.f)(f.a,o()({async:!0,ref:e,rows:r||2},i)):Object(g.f)("textarea",o()({ref:e},i))}));h.displayName="TextAreaControl";var b=Object(c.a)(h,{shouldForwardProp:function(t){return["autosize","rows","maxRows"].includes(t)||Object(d.default)(t)},target:"edis3zx0",label:"TextArea"})(p.a,";line-height:1.3em;");e.a=b},2093:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(6),o=n.n(r),i=(n(1),n(131)),a=n.n(i),c=n(2072),s=n(277),u=n(0);function l(t){return Object(u.f)(s.a,o()({},t,{field:function(t){return Object(u.f)(c.a,a()(t,["onKeyDown","children"]))}}))}l.displayName="TextareaField"},2118:function(t,e,n){var r=n(689),o=n(1101)((function(t,e,n){r(t,n,e)}));t.exports=o},2167:function(t,e,n){"use strict";n.d(e,"a",(function(){return z}));var r=n(7),o=n.n(r),i=n(9),a=n.n(i),c=n(10),s=n.n(c),u=n(12),l=n.n(u),f=n(13),d=n.n(f),p=n(5),g=n.n(p),h=n(1),b=n.n(h),y=n(80),v=n(35),m=n(4),O=n(194);function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=g()(t);if(e){var o=g()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}var z=function(t){l()(n,t);var e=x(n);function n(){var t;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).dialog=null,t.openDialog=function(e){var n=t.props.integrationId;Object(O.m)(j({eventKey:n?"integrations.reauth_start":"integrations.installation_start",eventName:n?"Integrations: Reauth Start":"Integrations: Installation Start",integration:t.props.provider.key,integration_type:"first_party"},t.props.analyticsParams),t.props.organization);var r=t.props.provider.setupDialog,o=r.url,i=r.width,a=r.height,c=t.computeCenteredWindow(i,a),s=c.left,u=c.top,l=j({},e);n&&(l.integration_id=n),t.props.account&&(l.account=t.props.account);var f="".concat(o,"?").concat(y.stringify(l)),d="scrollbars=yes,width=".concat(i,",height=").concat(a,",top=").concat(u,",left=").concat(s);t.dialog=window.open(f,"sentryAddIntegration",d),t.dialog&&t.dialog.focus()},t.didReceiveMessage=function(e){var n=t.props.integrationId;if(e.origin===document.location.origin&&e.source===t.dialog){var r=e.data,o=r.success,i=r.data;t.dialog=null,o?i&&(t.props.onInstall(i),Object(O.m)(j({eventKey:n?"integrations.reauth_complete":"integrations.installation_complete",eventName:n?"Integrations: Reauth Complete":"Integrations: Installation Complete",integration:t.props.provider.key,integration_type:"first_party"},t.props.analyticsParams),t.props.organization),Object(v.d)(Object(m.b)("%s added",t.props.provider.name))):Object(v.a)(i.error)}},t}return s()(n,[{key:"componentDidMount",value:function(){window.addEventListener("message",this.didReceiveMessage)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.didReceiveMessage),this.dialog&&this.dialog.close()}},{key:"computeCenteredWindow",value:function(t,e){var n=void 0!==window.screenLeft?window.screenLeft:window.screenX,r=void 0!==window.screenTop?window.screenTop:window.screenY;return{left:(window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-t/2+n,top:(window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/2-e/2+r}}},{key:"render",value:function(){return this.props.children(this.openDialog)}}]),n}(b.a.Component);z.displayName="AddIntegration"},2193:function(t,e,n){"use strict";n.d(e,"a",(function(){return z}));var r=n(9),o=n.n(r),i=n(10),a=n.n(i),c=n(12),s=n.n(c),u=n(13),l=n.n(u),f=n(5),d=n.n(f),p=n(3),g=n(1),h=n.n(g),b=n(8),y=n(1969),v=n(0);function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var o=d()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l()(this,n)}}var O=Object(p.a)("img",{target:"e18es4220",label:"StyledIcon"})("height:",(function(t){return t.size}),"px;width:",(function(t){return t.size}),"px;border-radius:2px;display:block;"),w=function(t){s()(n,t);var e=m(n);function n(){var t;o()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))).state={imgSrc:t.props.integration.icon},t}return a()(n,[{key:"render",value:function(){var t=this,e=this.props,n=e.integration,r=e.size;return Object(v.f)(O,{size:r,src:this.state.imgSrc,onError:function(){t.setState({imgSrc:y.b[n.provider.key]||y.a})}})}}]),n}(h.a.Component);w.displayName="Icon";var j=function(t){var e=t.integration,n=t.size,r=void 0===n?32:n;return e.icon?Object(v.f)(w,{size:r,integration:e}):Object(v.f)(y.c,{size:r,pluginId:e.provider.key})};function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var o=d()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l()(this,n)}}var z=function(t){s()(n,t);var e=x(n);function n(){return o()(this,n),e.apply(this,arguments)}return a()(n,[{key:"render",value:function(){var t=this.props,e=t.integration,n=t.compact;return Object(v.f)(R,null,Object(v.f)("div",null,Object(v.f)(j,{size:n?22:32,integration:e})),Object(v.f)(I,{compact:n},Object(v.f)(k,{"data-test-id":"integration-name"},e.name),Object(v.f)(E,{compact:n},e.domainName)))}}]),n}(h.a.Component);z.displayName="IntegrationItem",z.defaultProps={compact:!1};var R=Object(p.a)("div",{target:"e5rwe00",label:"Flex"})({name:"k008qs",styles:"display:flex;"}),I=Object(p.a)("div",{target:"e5rwe01",label:"Labels"})("box-sizing:border-box;display:flex;",(function(t){return t.compact?"align-items: center;":""}),";flex-direction:",(function(t){return t.compact?"row":"column"}),";padding-left:",Object(b.a)(1),";min-width:0;justify-content:center;"),k=Object(p.a)("div",{target:"e5rwe02",label:"IntegrationName"})({name:"1nedsoq",styles:"font-size:1.6rem;"}),E=Object(p.a)("div",{target:"e5rwe03",label:"DomainName"})("color:",(function(t){return t.compact?t.theme.gray200:t.theme.gray400}),";margin-left:",(function(t){return t.compact?Object(b.a)(1):"inherit"}),";margin-top:",(function(t){return t.compact?"inherit":Object(b.a)(.25)}),";font-size:1.4rem;line-height:1.2;overflow:hidden;text-overflow:ellipsis;")},2936:function(t,e,n){"use strict";n.r(e);var r=n(6),o=n.n(r),i=n(33),a=n.n(i),c=n(28),s=n.n(c),u=n(7),l=n.n(u),f=n(9),d=n.n(f),p=n(10),g=n.n(p),h=n(12),b=n.n(h),y=n(13),v=n.n(y),m=n(5),O=n.n(m),w=n(3),j=n(1),x=n.n(j),z=n(2118),R=n.n(z),I=n(35),k=n(107),E=n(72),T=n(29),S=n(15),_=n(4),C=n(8),P=n(21),D=n(194),A=n(57),N=n(2222),L=n(16),H=n.n(L),F=n(31),W=n(2167),M=n(0);function U(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=O()(t);if(e){var o=O()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v()(this,n)}}var B=function(t){b()(n,t);var e=U(n);function n(){return d()(this,n),e.apply(this,arguments)}return g()(n,[{key:"render",value:function(){var t=this.props,e=t.provider,n=t.buttonText,r=t.onAddIntegration,i=t.organization,a=t.reinstall,c=t.integrationId,s=t.analyticsParams,u=H()(t,["provider","buttonText","onAddIntegration","organization","reinstall","integrationId","analyticsParams"]),l=n||Object(_.b)(a?"Enable":"Add %s",e.metadata.noun);return Object(M.f)(F.a,{disabled:e.canAdd,title:"Integration cannot be added on Sentry. Enable this integration via the ".concat(e.name," instance.")},Object(M.f)(W.a,{provider:e,onInstall:r,organization:i,analyticsParams:s,integrationId:c},(function(t){return Object(M.f)(T.a,o()({disabled:!e.canAdd},u,{onClick:function(){return t()}}),l)})))}}]),n}(x.a.Component);B.displayName="AddIntegrationButton";var Y=n(410),q=n(696),K=n(206),X=n(24),J=n(2193);function V(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=O()(t);if(e){var o=O()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v()(this,n)}}var G=function(t){b()(n,t);var e=V(n);function n(){var t;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).handleReAuthIntegration=function(e){t.props.onReAuthIntegration(e)},t.handleUninstallClick=function(){t.props.trackIntegrationEvent({eventKey:"integrations.uninstall_clicked",eventName:"Integrations: Uninstall Clicked"})},t}return g()(n,[{key:"getRemovalBodyAndText",value:function(t){return t&&t.removal_dialog?{body:t.removal_dialog.body,actionText:t.removal_dialog.actionText}:{body:Object(_.b)("Deleting this integration will remove any project associated data. This action cannot be undone. Are you sure you want to delete this integration?"),actionText:Object(_.b)("Delete")}}},{key:"handleRemove",value:function(t){this.props.onRemove(t),this.props.trackIntegrationEvent({eventKey:"integrations.uninstall_completed",eventName:"Integrations: Uninstall Completed"})}},{key:"render",value:function(){var t=this,e=this.props,n=e.className,r=e.integration,i=e.provider,a=e.organization,c=e.showReauthMessage,s="active"===r.status&&r.provider.canDisable?this.disableConfirmProps:this.removeConfirmProps;return Object(M.f)(Y.a,{access:["org:integrations"]},(function(e){var u=e.hasAccess;return Object(M.f)(Z,{key:r.id,className:n},Object(M.f)($,null,Object(M.f)(J.a,{integration:r})),Object(M.f)("div",null,c&&Object(M.f)(F.a,{disabled:u,title:Object(_.b)("You must be an organization owner, manager or admin to upgrade")},Object(M.f)(B,{disabled:!u,provider:i,onAddIntegration:t.handleReAuthIntegration,integrationId:r.id,priority:"primary",size:"small",buttonText:Object(_.b)("Upgrade Now"),organization:a,icon:Object(M.f)(S.Ib,{size:"sm"})})),Object(M.f)(F.a,{disabled:u,position:"left",title:Object(_.b)("You must be an organization owner, manager or admin to configure")},Object(M.f)(Q,{borderless:!0,icon:Object(M.f)(S.ob,null),disabled:!u||"active"!==r.status,to:"/settings/".concat(a.slug,"/integrations/").concat(i.key,"/").concat(r.id,"/"),"data-test-id":"integration-configure-button"},Object(_.b)("Configure")))),Object(M.f)("div",null,Object(M.f)(F.a,{disabled:u,title:Object(_.b)("You must be an organization owner, manager or admin to uninstall")},Object(M.f)(K.a,o()({priority:"danger",onConfirming:t.handleUninstallClick,disabled:!u},s),Object(M.f)(Q,{disabled:!u,borderless:!0,icon:Object(M.f)(S.r,null),"data-test-id":"integration-remove-button"},Object(_.b)("Uninstall"))))),Object(M.f)(tt,{status:r.status}))}))}},{key:"removeConfirmProps",get:function(){var t=this,e=this.props.integration,n=this.getRemovalBodyAndText(e.provider.aspects),r=n.body,o=n.actionText;return{message:Object(M.f)(x.a.Fragment,null,Object(M.f)(E.b,{type:"error",icon:Object(M.f)(S.B,{size:"md"})},Object(_.b)("Deleting this integration has consequences!")),r),confirmText:o,onConfirm:function(){return t.handleRemove(e)}}}},{key:"disableConfirmProps",get:function(){var t=this,e=this.props.integration,n=e.provider.aspects.disable_dialog||{},r=n.body,o=n.actionText;return{message:Object(M.f)(x.a.Fragment,null,Object(M.f)(E.b,{type:"error",icon:Object(M.f)(S.B,{size:"md"})},Object(_.b)("This integration cannot be removed in Sentry")),r),confirmText:o,onConfirm:function(){return t.props.onDisable(e)}}}}]),n}(x.a.Component);G.displayName="InstalledIntegration";var Q=Object(w.a)(T.a,{target:"eau7gon0",label:"StyledButton"})("color:",(function(t){return t.theme.gray300}),";"),Z=Object(w.a)("div",{target:"eau7gon1",label:"IntegrationFlex"})({name:"70qvj9",styles:"display:flex;align-items:center;"}),$=Object(w.a)("div",{target:"eau7gon2",label:"IntegrationItemBox"})({name:"1rr4qq7",styles:"flex:1;"}),tt=Object(w.a)((function(t){var e=t.status,n=H()(t,["status"]),r="active"===e?X.b.success:X.b.gray300,o="active"===e?Object(_.b)("This Integration can be disabled by clicking the Uninstall button"):Object(_.b)("This Integration has been disconnected from the external provider");return Object(M.f)(F.a,{title:o},Object(M.f)("div",n,Object(M.f)(q.a,{size:6,color:r}),Object(M.f)(et,null,"".concat("active"===e?Object(_.b)("enabled"):Object(_.b)("disabled")))))}),{target:"eau7gon3",label:"IntegrationStatus"})("display:flex;align-items:center;color:",(function(t){return t.theme.gray300}),";font-weight:light;text-transform:capitalize;&:before{content:'|';color:",(function(t){return t.theme.gray200}),";margin-right:",Object(C.a)(1),";font-weight:normal;}"),et=Object(w.a)("div",{target:"eau7gon4",label:"IntegrationStatusText"})("margin:0 ",Object(C.a)(.75)," 0 ",Object(C.a)(.5),";");function nt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function rt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nt(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ot(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=O()(t);if(e){var o=O()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v()(this,n)}}var it=function(t){b()(n,t);var e=ot(n);function n(){var t;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).onInstall=function(e){var n=R()(t.state.configurations,(function(t){return t.id})),r=Object(P.t)(Object.values(rt(rt({},n),{},l()({},e.id,e))),(function(t){return t.name}));t.setState({configurations:r})},t.onRemove=function(e){var n=t.props.params.orgId,r=s()(t.state.configurations),o=t.state.configurations.filter((function(t){return t.id!==e.id}));t.setState({configurations:o});var i={method:"DELETE",error:function(){t.setState({configurations:r}),Object(I.a)(Object(_.b)("Failed to remove Integration"))}};t.api.request("/organizations/".concat(n,"/integrations/").concat(e.id,"/"),i)},t.onDisable=function(t){var e,n,r,o=null===(e=t.dynamicDisplayInformation)||void 0===e?void 0:null===(n=e.integration_detail)||void 0===n?void 0:n.uninstallationUrl;if(o)r=o;else{var i=t.domainName.split("/"),c=a()(i,2),s=c[0],u=c[1];r="User"===t.accountType?"https://".concat(s,"/settings/installations/"):"https://".concat(s,"/organizations/").concat(u,"/settings/installations/")}window.open(r,"_blank")},t.handleExternalInstall=function(){t.trackIntegrationEvent({eventKey:"integrations.installation_start",eventName:"Integrations: Installation Start"})},t}return g()(n,[{key:"getEndpoints",value:function(){var t=this.props.params,e=t.orgId,n=t.integrationSlug;return[["information","/organizations/".concat(e,"/config/integrations/?provider_key=").concat(n)],["configurations","/organizations/".concat(e,"/integrations/?provider_key=").concat(n,"&includeConfig=0")]]}},{key:"renderTopButton",value:function(t,e){var n=this.props.organization,r=this.provider,i=r.metadata,a={style:{marginBottom:Object(C.a)(1)},size:"small",priority:"primary","data-test-id":"install-button",disabled:t,organization:n};return e?r.canAdd?Object(M.f)(B,o()({provider:r,onAddIntegration:this.onInstall,analyticsParams:{view:"integrations_directory_integration_detail",already_installed:"Not Installed"!==this.installationStatus}},a)):i.aspects.externalInstall?Object(M.f)(T.a,o()({icon:Object(M.f)(S.bb,null),href:i.aspects.externalInstall.url,onClick:this.handleExternalInstall,external:!0},a),i.aspects.externalInstall.buttonText):Object(M.f)(x.a.Fragment,null):this.renderRequestIntegrationButton()}},{key:"renderConfigurations",value:function(){var t=this,e=this.state.configurations,n=this.props.organization,r=this.provider;if(e.length){var o=e.some(D.k);return Object(M.f)(k.a,{organization:n,features:["slack-migration"]},(function(i){var a=i.hasFeature;return Object(M.f)("div",null,a&&o&&Object(M.f)(E.b,{type:"warning",icon:Object(M.f)(S.Ib,{size:"sm"})},Object(D.f)(r)),e.map((function(e){return Object(M.f)(at,{key:e.id},Object(M.f)(G,{organization:n,provider:r,integration:e,onRemove:t.onRemove,onDisable:t.onDisable,onReAuthIntegration:t.onInstall,"data-test-id":e.id,trackIntegrationEvent:t.trackIntegrationEvent,showReauthMessage:a&&Object(D.k)(e)}))})))}))}return this.renderEmptyConfigurations()}},{key:"integrationType",get:function(){return"first_party"}},{key:"provider",get:function(){return this.state.information.providers[0]}},{key:"description",get:function(){return this.metadata.description}},{key:"author",get:function(){return this.metadata.author}},{key:"alerts",get:function(){var t=this.provider,e=this.metadata,n=(e.aspects.alerts||[]).map((function(t){switch(t.icon){case"icon-warning":case"icon-warning-sm":return rt(rt({},t),{},{icon:Object(M.f)(S.Ib,null)});default:return rt(rt({},t),{},{icon:Object(M.f)(S.B,null)})}}));return!t.canAdd&&e.aspects.externalInstall&&n.push({type:"warning",icon:Object(M.f)(S.bb,null),text:e.aspects.externalInstall.noticeText}),n}},{key:"resourceLinks",get:function(){var t=this.metadata;return[{url:t.source_url,title:"View Source"},{url:t.issue_url,title:"Report Issue"}]}},{key:"metadata",get:function(){return this.provider.metadata}},{key:"isEnabled",get:function(){return this.state.configurations.length>0}},{key:"installationStatus",get:function(){return this.isEnabled?"Installed":"Not Installed"}},{key:"integrationName",get:function(){return this.provider.name}},{key:"featureData",get:function(){return this.metadata.features}}]),n}(N.a),at=Object(w.a)("div",{target:"e1gcgeg90",label:"InstallWrapper"})("padding:",Object(C.a)(2),";border:1px solid ",(function(t){return t.theme.border}),";border-bottom:none;background-color:",(function(t){return t.theme.background}),";&:last-child{border-bottom:1px solid ",(function(t){return t.theme.border}),";}");e.default=Object(A.a)(it)}}]);
//# sourceMappingURL=IntegrationDetailedView.js.map