(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[115],{1938:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(9),a=n.n(r),i=n(10),c=n.n(i),o=n(12),u=n.n(o),s=n(13),l=n.n(s),f=n(5),d=n.n(f),b=(n(1),n(247)),p=n.n(b),v=n(408),O=n(0);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var a=d()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l()(this,n)}}var y=function(e){u()(n,e);var t=g(n);function n(){return a()(this,n),t.apply(this,arguments)}return c()(n,[{key:"getTitle",value:function(){return""}},{key:"render",value:function(){var e=this.getTitle();return Object(O.f)(p.a,{title:"".concat(e?"".concat(e," - "):"","Sentry")},this.renderComponent())}}]),n}(v.a);y.displayName="AsyncView"},1939:function(e,t,n){"use strict";var r=n(16),a=n.n(r),i=n(9),c=n.n(i),o=n(10),u=n.n(o),s=n(12),l=n.n(s),f=n(13),d=n.n(f),b=n(5),p=n.n(b),v=n(3),O=n(1),g=n.n(O),y=n(204),j=n(8),h=n(0);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d()(this,n)}}var S=function(e){l()(n,e);var t=m(n);function n(){return c()(this,n),t.apply(this,arguments)}return u()(n,[{key:"render",value:function(){var e=this.props,t=e.icon,n=e.title,r=e.subtitle,i=e.action,c=e.tabs,o=e.noTitleStyles,u=a()(e,["icon","title","subtitle","action","tabs","noTitleStyles"]);return Object(h.f)("div",u,Object(h.f)(k,null,Object(h.f)(w,null,t&&Object(h.f)(x,null,t),n&&Object(h.f)(P,{tabs:c,styled:o},Object(h.f)(y.a,null,n),r&&Object(h.f)(z,null,r))),i&&Object(h.f)(R,{tabs:c},i)),c&&Object(h.f)("div",null,c))}}]),n}(g.a.Component);S.displayName="UnstyledSettingsPageHeader",S.defaultProps={noTitleStyles:!1};var k=Object(v.a)("div",{target:"e1uay4fd0",label:"TitleAndActions"})({name:"70qvj9",styles:"display:flex;align-items:center;"}),w=Object(v.a)("div",{target:"e1uay4fd1",label:"TitleWrapper"})({name:"1rr4qq7",styles:"flex:1;"}),P=Object(v.a)("div",{target:"e1uay4fd2",label:"Title"})((function(e){return!e.styled&&"\n    font-size: 20px;\n    font-weight: bold;"}),";margin:",(function(e){return e.tabs?"".concat(Object(j.a)(4)," ").concat(Object(j.a)(2)," ").concat(Object(j.a)(2)," 0"):"".concat(Object(j.a)(4)," ").concat(Object(j.a)(2)," ").concat(Object(j.a)(4)," 0")}),";"),z=Object(v.a)("div",{target:"e1uay4fd3",label:"Subtitle"})("color:",(function(e){return e.theme.gray400}),";font-weight:400;font-size:",(function(e){return e.theme.fontSizeLarge}),";padding:",Object(j.a)(1.5)," 0 ",Object(j.a)(3),";"),x=Object(v.a)("div",{target:"e1uay4fd4",label:"Icon"})("margin-right:",Object(j.a)(1),";"),R=Object(v.a)("div",{target:"e1uay4fd5",label:"Action"})((function(e){return e.tabs?"margin-top: ".concat(Object(j.a)(2)):null}),";"),A=Object(v.a)(S,{target:"e1uay4fd6",label:"SettingsPageHeader"})("font-size:14px;margin-top:-",Object(j.a)(4),";");t.a=A},1941:function(e,t,n){"use strict";t.a=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r="".concat(e," - ").concat(t);return n?"".concat(r," - Sentry"):r}},2094:function(e,t,n){"use strict";var r=n(6),a=n.n(r),i=n(16),c=n.n(i),o=(n(1),n(410)),u=n(72),s=n(15),l=n(4),f=n(0),d=function(e){var t=e.access,n=void 0===t?["org:write"]:t,r=c()(e,["access"]);return Object(f.f)(o.a,{access:n},(function(e){return!e.hasAccess&&Object(f.f)(u.b,a()({type:"warning",icon:Object(f.f)(s.Ib,{size:"sm"})},r),Object(l.b)("These settings can only be edited by users with the organization owner or manager role."))}))};d.displayName="PermissionAlert",t.a=d},2933:function(e,t,n){"use strict";n.r(t);var r=n(9),a=n.n(r),i=n(10),c=n.n(i),o=n(12),u=n.n(o),s=n(13),l=n.n(s),f=n(5),d=n.n(f),b=(n(1),n(35)),p=n(4),v=n(1941),O=n(57),g=n(1938),y=n(58),j=n(164),h=n(32),m=n(21),S=n(1065),k=n(411),w=n(1939),P=n(2094),z=n(6),x=n.n(z),R=n(7),A=n.n(R),D=n(16),N=n.n(D),T=n(3),q=n(410),F=n(107),I=n(423),L=n(29),C=n(210),E=n(416),B=n(15),H=n(8),W=n(0);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){A()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J=function(e){var t=e.provider,n=e.active,r=e.onConfigure,a=function(e){null==r||r(t.key,e)},i=function(e){return Object(W.f)($,{provider:e.provider,features:e.features})},c=function(e){var n=e.hasFeature;return Object(W.f)(q.a,{access:["org:write"]},(function(e){var r=e.hasAccess;return Object(W.f)(L.a,{type:"submit",name:"provider",size:"small",value:t.key,disabled:!n||!r,onClick:a},Object(p.b)("Configure"))}))},o=t.requiredFeature,u=o?"feature-disabled:".concat(Object(m.e)(o)):null,s=u?{hookName:u}:{};return Object(W.f)(F.a,x()({},s,{features:[o].filter((function(e){return e})),renderDisabled:function(e){var t=e.children,n=N()(e,["children"]);return"function"==typeof t&&t(_(_({},n),{},{renderDisabled:i}))}}),(function(e){var r=e.hasFeature,a=e.features,i=e.renderDisabled,o=e.renderInstallButton;return Object(W.f)(j.f,{alignItems:"center"},Object(W.f)(V,null,Object(W.f)(K,{className:"provider-logo ".concat(t.name.replace(/\s/g,"-").toLowerCase())}),Object(W.f)("div",null,Object(W.f)(M,null,t.name),Object(W.f)(Q,null,Object(p.b)("Enable your organization to sign in with %s.",t.name)))),Object(W.f)(X,null,!r&&i({provider:t,features:a})),Object(W.f)("div",null,n?Object(W.f)(Y,null):(null!=o?o:c)({provider:t,hasFeature:r})))}))};J.displayName="ProviderItem";var G=J,V=Object(T.a)("div",{target:"e5klfxn0",label:"ProviderInfo"})("flex:1;display:grid;grid-template-columns:max-content 1fr;grid-gap:",Object(H.a)(2),";"),K=Object(T.a)("div",{target:"e5klfxn1",label:"ProviderLogo"})({name:"ipufnr",styles:"height:36px;width:36px;border-radius:3px;margin-right:0;top:auto;"}),M=Object(T.a)("div",{target:"e5klfxn2",label:"ProviderName"})({name:"in3yi3",styles:"font-weight:bold;"}),Q=Object(T.a)("div",{target:"e5klfxn3",label:"ProviderDescription"})("margin-top:",Object(H.a)(.75),";font-size:0.8em;"),X=Object(T.a)("div",{target:"e5klfxn4",label:"FeatureBadge"})({name:"1rr4qq7",styles:"flex:1;"}),Y=Object(T.a)("div",{target:"e5klfxn5",label:"ActiveIndicator"})("background:",(function(e){return e.theme.green300}),";color:",(function(e){return e.theme.white}),";padding:",Object(H.a)(1)," ",Object(H.a)(1.5),";border-radius:2px;font-size:0.8em;");Y.defaultProps={children:Object(p.b)("Active")};var Z=Object(T.a)(C.d,{target:"e5klfxn6",label:"DisabledHovercard"})({name:"1ivgbss",styles:"width:350px;"}),$=function(e){var t=e.provider,n=e.features,r=e.className;return Object(W.f)(Z,{containerClassName:r,body:Object(W.f)(I.a,{features:n,hideHelpToggle:!0,message:Object(p.b)("%s SSO is disabled.",t.name),featureName:Object(p.b)("SSO Auth")})},Object(W.f)(E.a,{icon:Object(W.f)(B.S,null)},Object(p.b)("disabled")))};$.displayName="LockedFeature";var ee={google:0,github:1,okta:2,"active-directory":3,saml2:4,onelogin:5,rippling:6,auth0:7},te=function(e){var t=e.organization,n=e.providerList,r=e.activeProvider,a=t.features,i=(null!=n?n:[]).sort((function(e,t){return e.key in ee?t.key in ee?ee[e.key]===ee[t.key]?0:ee[e.key]>ee[t.key]?1:-1:1:-1})).sort((function(e,t){var n=a.includes(Object(m.e)(e.requiredFeature));return n===a.includes(Object(m.e)(t.requiredFeature))?0:n?-1:1})),c=t.require2FA&&i.some((function(e){var t=e.requiredFeature;return a.includes(Object(m.e)(t))}));return Object(W.f)("div",{className:"sso"},Object(W.f)(w.a,{title:"Authentication"}),Object(W.f)(P.a,null),Object(W.f)(j.a,null,Object(W.f)(j.e,null,Object(p.b)("Choose a provider")),Object(W.f)(j.c,null,!r&&Object(W.f)(j.b,{type:"info"},Object(p.c)("Get started with Single Sign-on for your organization by selecting a provider. Read more in our [link:SSO documentation].",{link:Object(W.f)(y.a,{href:"https://docs.sentry.io/learn/sso/"})})),c&&Object(W.f)(j.b,{type:"warning"},Object(p.b)("Require 2FA will be disabled if you enable SSO.")),Object(W.f)("form",{action:"/organizations/".concat(t.slug,"/auth/configure/"),method:"POST"},Object(W.f)("input",{type:"hidden",name:"csrfmiddlewaretoken",value:Object(S.a)(h.e)||""}),Object(W.f)("input",{type:"hidden",name:"init",value:"1"}),i.map((function(e){return Object(W.f)(G,{key:e.key,provider:e,active:!!r&&e.key===r.key})})),0===i.length&&Object(W.f)(k.a,null,Object(p.b)("No authentication providers are available."))))))};te.displayName="OrganizationAuthList";var ne=Object(O.a)(te);function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var a=d()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l()(this,n)}}var ae=function(e){u()(n,e);var t=re(n);function n(){var e;a()(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).handleSendReminders=function(t){e.setState({sendRemindersBusy:!0}),e.api.request("/organizations/".concat(e.props.params.orgId,"/auth-provider/send-reminders/"),{method:"POST",data:{},success:function(){return Object(b.d)(Object(p.b)("Sent reminders to members"))},error:function(){return Object(b.a)(Object(p.b)("Failed to send reminders"))},complete:function(){return e.setState({sendRemindersBusy:!1})}})},e.handleConfigure=function(t){e.setState({busy:!0}),e.api.request("/organizations/".concat(e.props.params.orgId,"/auth-provider/"),{method:"POST",data:{provider:t,init:!0},success:function(e){e&&e.auth_url&&(window.location.href=e.auth_url)},error:function(){e.setState({busy:!1})}})},e.handleDisableProvider=function(t){e.setState({busy:!0}),e.api.request("/organizations/".concat(e.props.params.orgId,"/auth-provider/"),{method:"DELETE",data:{provider:t},success:function(){e.setState({provider:null,busy:!1})},error:function(){e.setState({busy:!1})}})},e}return c()(n,[{key:"UNSAFE_componentWillUpdate",value:function(e,t){var n=this.props.organization.access;t.provider&&n.includes("org:write")&&window.location.assign("/organizations/".concat(this.props.params.orgId,"/auth/configure/"))}},{key:"getEndpoints",value:function(){return[["providerList","/organizations/".concat(this.props.params.orgId,"/auth-providers/")],["provider","/organizations/".concat(this.props.params.orgId,"/auth-provider/")]]}},{key:"getTitle",value:function(){return Object(v.a)(Object(p.b)("Auth Settings"),this.props.organization.slug,!1)}},{key:"renderBody",value:function(){var e=this.state,t=e.providerList,n=e.provider;if(null===t)return null;if(this.props.organization.access.includes("org:write")&&n)return this.renderLoading();var r=null==t?void 0:t.find((function(e){return e.key===(null==n?void 0:n.key)}));return Object(W.f)(ne,{activeProvider:r,providerList:t})}}]),n}(g.a);t.default=Object(O.a)(ae)}}]);
//# sourceMappingURL=OrganizationAuth.js.map