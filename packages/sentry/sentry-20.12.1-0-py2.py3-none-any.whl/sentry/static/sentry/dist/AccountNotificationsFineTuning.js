(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[34],{1938:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var i=n(9),r=n.n(i),o=n(10),a=n.n(o),c=n(12),l=n.n(c),s=n(13),u=n.n(s),f=n(5),d=n.n(f),b=(n(1),n(247)),p=n.n(b),y=n(408),O=n(0);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=d()(e);if(t){var r=d()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return u()(this,n)}}var j=function(e){l()(n,e);var t=h(n);function n(){return r()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getTitle",value:function(){return""}},{key:"render",value:function(){var e=this.getTitle();return Object(O.f)(p.a,{title:"".concat(e?"".concat(e," - "):"","Sentry")},this.renderComponent())}}]),n}(y.a);j.displayName="AsyncView"},1939:function(e,t,n){"use strict";var i=n(16),r=n.n(i),o=n(9),a=n.n(o),c=n(10),l=n.n(c),s=n(12),u=n.n(s),f=n(13),d=n.n(f),b=n(5),p=n.n(b),y=n(3),O=n(1),h=n.n(O),j=n(204),m=n(8),v=n(0);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=p()(e);if(t){var r=p()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return d()(this,n)}}var w=function(e){u()(n,e);var t=g(n);function n(){return a()(this,n),t.apply(this,arguments)}return l()(n,[{key:"render",value:function(){var e=this.props,t=e.icon,n=e.title,i=e.subtitle,o=e.action,a=e.tabs,c=e.noTitleStyles,l=r()(e,["icon","title","subtitle","action","tabs","noTitleStyles"]);return Object(v.f)("div",l,Object(v.f)(P,null,Object(v.f)(R,null,t&&Object(v.f)(D,null,t),n&&Object(v.f)(k,{tabs:a,styled:c},Object(v.f)(j.a,null,n),i&&Object(v.f)(N,null,i))),o&&Object(v.f)(F,{tabs:a},o)),a&&Object(v.f)("div",null,a))}}]),n}(h.a.Component);w.displayName="UnstyledSettingsPageHeader",w.defaultProps={noTitleStyles:!1};var P=Object(y.a)("div",{target:"e1uay4fd0",label:"TitleAndActions"})({name:"70qvj9",styles:"display:flex;align-items:center;"}),R=Object(y.a)("div",{target:"e1uay4fd1",label:"TitleWrapper"})({name:"1rr4qq7",styles:"flex:1;"}),k=Object(y.a)("div",{target:"e1uay4fd2",label:"Title"})((function(e){return!e.styled&&"\n    font-size: 20px;\n    font-weight: bold;"}),";margin:",(function(e){return e.tabs?"".concat(Object(m.a)(4)," ").concat(Object(m.a)(2)," ").concat(Object(m.a)(2)," 0"):"".concat(Object(m.a)(4)," ").concat(Object(m.a)(2)," ").concat(Object(m.a)(4)," 0")}),";"),N=Object(y.a)("div",{target:"e1uay4fd3",label:"Subtitle"})("color:",(function(e){return e.theme.gray400}),";font-weight:400;font-size:",(function(e){return e.theme.fontSizeLarge}),";padding:",Object(m.a)(1.5)," 0 ",Object(m.a)(3),";"),D=Object(y.a)("div",{target:"e1uay4fd4",label:"Icon"})("margin-right:",Object(m.a)(1),";"),F=Object(y.a)("div",{target:"e1uay4fd5",label:"Action"})((function(e){return e.tabs?"margin-top: ".concat(Object(m.a)(2)):null}),";"),S=Object(y.a)(w,{target:"e1uay4fd6",label:"SettingsPageHeader"})("font-size:14px;margin-top:-",Object(m.a)(4),";");t.a=S},1945:function(e,t,n){"use strict";var i=n(6),r=n.n(i),o=n(7),a=n.n(o),c=n(16),l=n.n(c),s=n(9),u=n.n(s),f=n(10),d=n.n(f),b=n(12),p=n.n(b),y=n(13),O=n.n(y),h=n(5),j=n.n(h),m=n(1),v=n.n(m),g=n(47),w=n(2),P=n.n(w),R=n(278),k=n(677),N=n.n(k),D=n(21),F=n(674),S=n(1947),A=n(0);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=j()(e);if(t){var r=j()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return O()(this,n)}}var C=function(e){p()(n,e);var t=z(n);function n(){var e;u()(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={highlighted:E(e.props,e.context).hash},e}return d()(n,[{key:"componentDidMount",value:function(){this.scrollToHash()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(E(this.props,this.context).hash!==E(e,this.context).hash){var t=E(e,this.context).hash;this.scrollToHash(t),this.setState({highlighted:t})}}},{key:"scrollToHash",value:function(e){var t=e||E(this.props,this.context).hash;if(t)try{N()(Object(F.a)(decodeURIComponent(t)),{align:"middle",offset:-100})}catch(e){g.c(e)}}},{key:"shouldDisplayForm",value:function(e){var t=e.filter((function(e){return"function"!=typeof e&&Object(D.d)(null==e?void 0:e.visible)}));if(e.length===t.length){var n=this.props,i=n.additionalFieldProps,r=l()(n,["additionalFieldProps"]);return!t.every((function(e){return"function"==typeof e.visible?!e.visible(x(x({},r),i)):!e.visible}))}return!0}},{key:"renderForm",value:function(e){var t=e.fields,n=e.formPanelProps,i=e.title;return this.shouldDisplayForm(t)||(null==n?void 0:n.renderFooter)||(null==n?void 0:n.renderHeader)?Object(A.f)(S.a,r()({title:i,fields:t},n)):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.access,i=t.fields,r=t.title,o=t.forms,a=t.disabled,c=t.features,s=t.additionalFieldProps,u=t.renderFooter,f=t.renderHeader,d=(t.location,l()(t,["access","fields","title","forms","disabled","features","additionalFieldProps","renderFooter","renderHeader","location"])),b={access:n,disabled:a,features:c,additionalFieldProps:s,renderFooter:u,renderHeader:f,highlighted:this.state.highlighted};return Object(A.f)(R.Box,d,void 0!==o&&o.map((function(t,n){return Object(A.f)(v.a.Fragment,{key:n},e.renderForm(x({formPanelProps:b},t)))})),void 0===o&&void 0!==i&&this.renderForm({fields:i,formPanelProps:b,title:r}))}}]),n}(v.a.Component);function E(e,t){return e.location||t.location||{}}C.displayName="JsonForm",C.contextTypes={location:P.a.object},C.defaultProps={additionalFieldProps:{}},t.a=C},1947:function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var i=n(6),r=n.n(i),o=n(16),a=n.n(o),c=n(9),l=n.n(c),s=n(10),u=n.n(s),f=n(12),d=n.n(f),b=n(13),p=n.n(b),y=n(5),O=n.n(y),h=n(1),j=n.n(h),m=n(164),v=n(674),g=n(1964),w=n(0);function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=O()(e);if(t){var r=O()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return p()(this,n)}}var R=function(e){d()(n,e);var t=P(n);function n(){return l()(this,n),t.apply(this,arguments)}return u()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.title,i=t.fields,o=t.access,c=t.disabled,l=t.additionalFieldProps,s=t.renderFooter,u=t.renderHeader,f=a()(t,["title","fields","access","disabled","additionalFieldProps","renderFooter","renderHeader"]);return Object(w.f)(m.a,{id:"string"==typeof n?Object(v.a)(n):void 0},n&&Object(w.f)(m.e,null,n),Object(w.f)(m.c,null,"function"==typeof u&&u({title:n,fields:i}),i.map((function(t){if("function"==typeof t)return t();t.defaultValue;var n=a()(t,["defaultValue"]);return!0===c&&(n.disabled=!0,n.disabledReason=void 0),Object(w.f)(g.a,r()({access:o,disabled:c,key:t.name},f,l,{field:n,highlighted:e.props.highlighted==="#".concat(t.name)}))})),"function"==typeof s&&s({title:n,fields:i})))}}]),n}(j.a.Component);R.displayName="FormPanel"},2148:function(e,t,n){"use strict";n.r(t),n.d(t,"route",(function(){return r})),n.d(t,"fields",(function(){return o}));var i=n(4),r="/settings/account/notifications/",o={subscribeByDefault:{name:"subscribeByDefault",type:"boolean",label:Object(i.b)("Send Me Alerts"),help:Object(i.c)("Alerts are defined in [locationPath]. Enable this to receive alerts sent to your teams. You will always receive alerts configured to be sent directly to you.",{locationPath:"[Project] » Project Settings » Alerts"})},workflowNotifications:{name:"workflowNotifications",type:"radio",label:Object(i.b)("Send Me Workflow Notifications"),choices:[[0,Object(i.b)("Always")],[1,Object(i.b)("Only On Issues I Subscribe To")],[2,Object(i.b)("Never")]],help:Object(i.b)("E.g. changes in issue assignment, resolution status, and comments.")},weeklyReports:{name:"weeklyReports",type:"boolean",label:Object(i.b)("Send Me Weekly Reports"),help:Object(i.b)("Reports contain a summary of what's happened within your organization."),disabled:!0},deployNotifications:{name:"deployNotifications",type:"radio",label:Object(i.b)("Send Me Deploy Notifications"),choices:[[2,Object(i.b)("Always")],[3,Object(i.b)("Only On Deploys With My Commits")],[4,Object(i.b)("Never")]],help:Object(i.b)("Deploy emails include release, environment and commit overviews.")},personalActivityNotifications:{name:"personalActivityNotifications",type:"boolean",label:Object(i.b)("Notify Me About My Own Activity"),help:Object(i.b)("Enable this to receive notifications about your own actions on Sentry.")},selfAssignOnResolve:{name:"selfAssignOnResolve",type:"boolean",label:Object(i.b)("Claim Unassigned Issues I've Resolved"),help:Object(i.b)("You'll receive notifications about any changes that happen afterwards.")}},a=[{title:Object(i.b)("Alerts"),fields:[o.subscribeByDefault]},{title:Object(i.b)("Workflow Notifications"),fields:[o.workflowNotifications]},{title:Object(i.b)("Email Routing"),fields:[]},{title:Object(i.b)("Weekly Reports"),fields:[]},{title:Object(i.b)("Deploy Notifications"),fields:[o.deployNotifications]},{title:Object(i.b)("My Activity"),fields:[o.personalActivityNotifications,o.selfAssignOnResolve]}];t.default=a},2810:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Y}));var i=n(6),r=n.n(i),o=n(33),a=n.n(o),c=n(9),l=n.n(c),s=n(10),u=n.n(s),f=n(12),d=n.n(f),b=n(13),p=n.n(b),y=n(5),O=n.n(y),h=n(7),j=n.n(h),m=n(16),v=n.n(m),g=n(3),w=n(1),P=n.n(w),R=n(673),k=n(164),N=n(2148),D=n(4),F=n(338),S=n(1938),A=n(411),T=n(1944),x=n(1945),z=n(686),C=n(1939),E=n(675),B=n(0);function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=O()(e);if(t){var r=O()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return p()(this,n)}}function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W={alerts:{title:"Project Alerts",description:Object(D.b)("Control alerts that you receive per project."),type:"select",choices:[[-1,Object(D.b)("Default")],[1,Object(D.b)("On")],[0,Object(D.b)("Off")]],defaultValue:-1,defaultFieldName:"subscribeByDefault"},workflow:{title:"Workflow Notifications",description:Object(D.b)("Control workflow notifications, e.g. changes in issue assignment, resolution status, and comments."),type:"select",choices:[[-1,Object(D.b)("Default")],[0,Object(D.b)("Always")],[1,Object(D.b)("Only on issues I subscribe to")],[2,Object(D.b)("Never")]],defaultValue:-1,defaultFieldName:"workflowNotifications"},deploy:{title:Object(D.b)("Deploy Notifications"),description:Object(D.b)("Control deploy notifications that include release, environment, and commit overviews."),type:"select",choices:[[-1,Object(D.b)("Default")],[2,Object(D.b)("Always")],[3,Object(D.b)("Only on deploys with my commits")],[4,Object(D.b)("Never")]],defaultValue:-1,defaultFieldName:"deployNotifications"},reports:{title:Object(D.b)("Weekly Reports"),description:Object(D.b)("Reports contain a summary of what's happened within the organization."),type:"select",defaultValue:1,choices:[[1,Object(D.b)("On")],[0,Object(D.b)("Off")]],defaultFieldName:"weeklyReports"},email:{title:Object(D.b)("Email Routing"),description:Object(D.b)("On a per project basis, route emails to an alternative email address."),type:"select"}},I=Object(g.a)(k.c,{target:"ev1ws1e0",label:"PanelBodyLineItem"})("font-size:1.4rem;&:not(:last-child){border-bottom:1px solid ",(function(e){return e.theme.innerBorder}),";}"),U=function(e){return["alerts","workflow","email"].indexOf(e)>-1};var q=function(e){var t=e.projects,n=e.field,i=function(e){return e.reduce((function(e,t){var n=t.organization.slug;return e.hasOwnProperty(n)?e[n].projects.push(t):e[n]={organization:t.organization,projects:[t]},e}),{})}(t),r=(n.title,n.description,v()(n,["title","description"])),o=Object.values(i).map((function(e){return{name:e.organization.name,projects:e.projects.map((function(e){return M(M({},r),{},{name:e.id,label:e.slug})}))}}));return Object(B.f)(P.a.Fragment,null,o.map((function(e){var t=e.name,n=e.projects;return Object(B.f)("div",{key:t},Object(B.f)(k.e,null,t),n.map((function(e){return Object(B.f)(I,{key:e.name},Object(B.f)(z.a,{deprecatedSelectControl:!0,defaultValue:e.defaultValue,name:e.name,choices:e.choices,label:e.label}))})))})))};q.displayName="AccountNotificationsByProject";var L=function(e){var t=e.organizations,n=e.field,i=(n.title,n.description,v()(n,["title","description"])),r=t.map((function(e){return M(M({},i),{},{name:e.id,label:e.slug})}));return Object(B.f)(P.a.Fragment,null,r.map((function(e){return Object(B.f)(I,{key:e.name},Object(B.f)(z.a,{deprecatedSelectControl:!0,defaultValue:e.defaultValue,name:e.name,choices:e.choices,label:e.label}))})))};L.displayName="AccountNotificationsByOrganization";var J=Object(F.a)(L),Y=function(e){d()(n,e);var t=H(n);function n(){return l()(this,n),t.apply(this,arguments)}return u()(n,[{key:"getEndpoints",value:function(){var e=this.props.params.fineTuneType,t=[["notifications","/users/me/notifications/"],["fineTuneData","/users/me/notifications/".concat(e,"/")]];return U(e)&&t.push(["projects","/projects/"]),t.push(["emails","/users/me/emails/"]),"email"===e&&t.push(["emails","/users/me/emails/"]),t}},{key:"renderBody",value:function(){var e=this.props.params.fineTuneType,t=this.state,n=t.notifications,i=t.projects,o=t.fineTuneData,c=t.projectsPageLinks,l=U(e),s=W[e],u=s.title,f=s.description,d=l?this.getEndpoints()[2]:[],b=a()(d,2),p=b[0],y=b[1],O=!!(null==i?void 0:i.length);return"email"===e&&(s.choices=this.emailChoices.map((function(e){var t=e.email;return[t,t]}))),n&&o?Object(B.f)("div",null,Object(B.f)(C.a,{title:u}),f&&Object(B.f)(E.a,null,f),s&&s.defaultFieldName&&"weeklyReports"!==s.defaultFieldName&&Object(B.f)(T.a,{saveOnBlur:!0,apiMethod:"PUT",apiEndpoint:"/users/me/notifications/",initialData:n},Object(B.f)(x.a,{title:"Default ".concat(u),fields:[N.fields[s.defaultFieldName]]})),Object(B.f)(k.a,null,Object(B.f)(k.c,null,Object(B.f)(k.e,{hasButtons:l},Object(B.f)(K,null,l?Object(D.b)("Projects"):Object(D.b)("Organizations")),Object(B.f)("div",null,l&&this.renderSearchInput({placeholder:Object(D.b)("Search Projects"),url:y,stateKey:p}))),Object(B.f)(T.a,{saveOnBlur:!0,apiMethod:"PUT",apiEndpoint:"/users/me/notifications/".concat(e,"/"),initialData:o},l&&O&&Object(B.f)(q,{projects:i,field:s}),l&&!O&&Object(B.f)(A.a,null,Object(D.b)("No projects found")),!l&&Object(B.f)(J,{field:s})))),i&&Object(B.f)(R.a,r()({pageLinks:c},this.props))):null}},{key:"emailChoices",get:function(){var e,t,n;return null!==(e=null===(t=this.state.emails)||void 0===t?void 0:null===(n=t.filter((function(e){return e.isVerified})))||void 0===n?void 0:n.sort((function(e,t){return e.isPrimary?-1:t.isPrimary?1:e.email<t.email?-1:1})))&&void 0!==e?e:[]}}]),n}(S.a),K=Object(g.a)("div",{target:"ev1ws1e1",label:"Heading"})({name:"1rr4qq7",styles:"flex:1;"})}}]);
//# sourceMappingURL=AccountNotificationsFineTuning.js.map