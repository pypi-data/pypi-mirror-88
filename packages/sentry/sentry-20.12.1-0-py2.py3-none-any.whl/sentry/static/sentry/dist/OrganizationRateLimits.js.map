{"version":3,"sources":["webpack:///./app/views/settings/components/settingsPageHeader.tsx","webpack:///./app/views/settings/components/forms/rangeField.tsx","webpack:///./app/views/settings/components/forms/controls/rangeSlider.tsx","webpack:///./app/views/settings/organizationRateLimits/organizationRateLimits.tsx","webpack:///./app/views/settings/organizationRateLimits/index.tsx"],"names":["UnstyledSettingsPageHeader","this","props","icon","title","subtitle","action","tabs","noTitleStyles","TitleAndActions","TitleWrapper","Icon","Title","styled","Subtitle","Action","React","Component","defaultProps","p","space","theme","gray400","fontSizeLarge","SettingsPageHeader","defaultFormatMessageValue","value","formatLabel","RangeField","formatMessageValue","otherProps","disabled","Object","assign","field","fieldOnChange","onChange","onBlur","fieldProps","val","event","e","RangeSlider","state","sliderValue","allowedValues","indexOf","Number","getActualValue","setValue","setState","changeValue","handleInput","parseInt","target","handleBlur","handleCustomInputChange","isNaN","handleCustomInputBlur","nextProps","min","max","step","name","placeholder","showCustomInput","actualValue","displayValue","length","t","Label","htmlFor","SliderAndInputWrapper","Slider","type","onInput","onMouseUp","onKeyUp","hasLabel","grid","gray200","purple300","subText","ACCOUNT_RATE_LIMIT_VALUES","steps","i","push","getRateLimitValues","OrganizationRateLimit","organization","quota","maxRate","maxRateInterval","initialData","projectRateLimit","projectLimit","accountRateLimit","accountLimit","data-test-id","saveOnBlur","allowUndo","apiMethod","apiEndpoint","slug","label","help","css","tct","number","toLocaleString","dangerouslySetInnerHTML","__html","withOrganization"],"mappings":"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","file":"OrganizationRateLimits.js","sourcesContent":["import React from 'react';\nimport styled from '@emotion/styled';\n\nimport {HeaderTitle} from 'app/styles/organization';\nimport space from 'app/styles/space';\n\ntype Props = {\n  // Icon left of title\n  icon?: React.ReactNode;\n\n  // The title\n  title: React.ReactNode;\n  subtitle?: React.ReactNode;\n\n  // Disables font styles in the title. Allows for more custom titles.\n  noTitleStyles?: boolean;\n  className?: string;\n\n  action?: React.ReactNode;\n  tabs?: React.ReactNode;\n};\n\nclass UnstyledSettingsPageHeader extends React.Component<Props> {\n  static defaultProps = {\n    noTitleStyles: false,\n  };\n\n  render() {\n    const {icon, title, subtitle, action, tabs, noTitleStyles, ...props} = this.props;\n    return (\n      <div {...props}>\n        <TitleAndActions>\n          <TitleWrapper>\n            {icon && <Icon>{icon}</Icon>}\n            {title && (\n              <Title tabs={tabs} styled={noTitleStyles}>\n                <HeaderTitle>{title}</HeaderTitle>\n                {subtitle && <Subtitle>{subtitle}</Subtitle>}\n              </Title>\n            )}\n          </TitleWrapper>\n          {action && <Action tabs={tabs}>{action}</Action>}\n        </TitleAndActions>\n\n        {tabs && <div>{tabs}</div>}\n      </div>\n    );\n  }\n}\n\ntype TitleProps = {\n  styled?: boolean;\n  tabs?: React.ReactNode;\n};\n\nconst TitleAndActions = styled('div')`\n  display: flex;\n  align-items: center;\n`;\nconst TitleWrapper = styled('div')`\n  flex: 1;\n`;\n\nconst Title = styled('div')<TitleProps & React.HTMLProps<HTMLDivElement>>`\n  ${p =>\n    !p.styled &&\n    `\n    font-size: 20px;\n    font-weight: bold;`};\n  margin: ${p =>\n    p.tabs\n      ? `${space(4)} ${space(2)} ${space(2)} 0`\n      : `${space(4)} ${space(2)} ${space(4)} 0`};\n`;\nconst Subtitle = styled('div')`\n  color: ${p => p.theme.gray400};\n  font-weight: 400;\n  font-size: ${p => p.theme.fontSizeLarge};\n  padding: ${space(1.5)} 0 ${space(3)};\n`;\n\nconst Icon = styled('div')`\n  margin-right: ${space(1)};\n`;\n\nconst Action = styled('div')<{tabs?: React.ReactNode}>`\n  ${p => (p.tabs ? `margin-top: ${space(2)}` : null)};\n`;\n\nconst SettingsPageHeader = styled(UnstyledSettingsPageHeader)<\n  Omit<React.HTMLProps<HTMLDivElement>, keyof Props> & Props\n>`\n  font-size: 14px;\n  margin-top: -${space(4)};\n`;\n\nexport default SettingsPageHeader;\n","import React from 'react';\n\nimport RangeSlider from 'app/views/settings/components/forms/controls/rangeSlider';\nimport InputField, {onEvent} from 'app/views/settings/components/forms/inputField';\n\ntype DefaultProps = {\n  formatMessageValue?: false | Function;\n};\n\ntype DisabledFunction = (props: Omit<Props, 'formatMessageValue'>) => boolean;\ntype PlaceholderFunction = (props: any) => React.ReactNode;\n\ntype Props = DefaultProps &\n  Omit<RangeSlider['props'], 'value' | 'disabled' | 'placeholder'> &\n  Omit<InputField['props'], 'field'> & {\n    disabled?: boolean | DisabledFunction;\n    placeholder?: string | PlaceholderFunction;\n  };\n\nfunction onChange(\n  fieldOnChange: onEvent,\n  value: number | '',\n  e: React.FormEvent<HTMLInputElement>\n) {\n  fieldOnChange(value, e);\n}\n\nfunction defaultFormatMessageValue(value, props: Props) {\n  return (typeof props.formatLabel === 'function' && props.formatLabel(value)) || value;\n}\n\nexport default function RangeField({\n  formatMessageValue = defaultFormatMessageValue,\n  ...otherProps\n}: Props) {\n  if (typeof otherProps.disabled === 'function') {\n    otherProps.disabled = otherProps.disabled(otherProps);\n  }\n  const props: Props = Object.assign(otherProps, {formatMessageValue});\n\n  return (\n    <InputField\n      {...props}\n      field={({onChange: fieldOnChange, onBlur, value, ...fieldProps}) => (\n        <RangeSlider\n          {...fieldProps}\n          value={value}\n          onBlur={onBlur}\n          onChange={(val, event) => onChange(fieldOnChange, val, event)}\n        />\n      )}\n    />\n  );\n}\n","import React from 'react';\nimport styled from '@emotion/styled';\nimport PropTypes from 'prop-types';\n\nimport {t} from 'app/locale';\nimport space from 'app/styles/space';\nimport Input from 'app/views/settings/components/forms/controls/input';\n\ntype Props = {\n  name: string;\n\n  /**\n   * min allowed value, not needed if using `allowedValues`\n   */\n  min?: number;\n\n  /**\n   * max allowed value, not needed if using `allowedValues`\n   */\n  max?: number;\n\n  /**\n   * String is a valid type here only for empty string\n   * Otherwise react complains:\n   * \"`value` prop on `input` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.\"\n   *\n   * And we want this to be a controlled input when value is empty\n   */\n  value: number | '';\n  step?: number;\n  disabled?: boolean;\n\n  /**\n   * Render prop for slider's label\n   * Is passed the value as an argument\n   */\n  formatLabel?: (value: number | '') => React.ReactNode;\n\n  /**\n   * Array of allowed values. Make sure `value` is in this list.\n   * THIS NEEDS TO BE SORTED\n   */\n  allowedValues?: number[];\n\n  /**\n   * Show input control for custom values\n   */\n  showCustomInput?: boolean;\n\n  // Placeholder for custom input\n  placeholder?: string;\n\n  /**\n   * This is called when *any* MouseUp or KeyUp event happens.\n   * Used for \"smart\" Fields to trigger a \"blur\" event. `onChange` can\n   * be triggered quite frequently\n   */\n  onBlur?: (value, event?) => void;\n  onChange?: Function;\n};\n\ntype State = {\n  sliderValue: number | '';\n};\n\nclass RangeSlider extends React.Component<Props, State> {\n  static propTypes = {\n    name: PropTypes.string.isRequired,\n    /**\n     * min allowed value, not needed if using `allowedValues`\n     */\n    min: PropTypes.number,\n    /**\n     * max allowed value, not needed if using `allowedValues`\n     */\n    max: PropTypes.number,\n    /**\n     * String is a valid type here only for empty string\n     * Otherwise react complains:\n     * \"`value` prop on `input` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.\"\n     *\n     * And we want this to be a controlled input when value is empty\n     */\n    value: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    step: PropTypes.number,\n    disabled: PropTypes.bool,\n    onChange: PropTypes.func,\n\n    /**\n     * Render prop for slider's label\n     * Is passed the value as an argument\n     */\n    formatLabel: PropTypes.func,\n\n    /**\n     * Array of allowed values. Make sure `value` is in this list.\n     * THIS NEEDS TO BE SORTED\n     */\n    allowedValues: PropTypes.arrayOf(PropTypes.number),\n\n    /**\n     * Show custom input\n     */\n    showCustomInput: PropTypes.bool,\n\n    // Placeholder for custom input\n    placeholder: PropTypes.string,\n\n    /**\n     * This is called when *any* MouseUp or KeyUp event happens.\n     * Used for \"smart\" Fields to trigger a \"blur\" event. `onChange` can\n     * be triggered quite frequently\n     */\n    onBlur: PropTypes.func,\n  };\n\n  state: State = {\n    sliderValue: this.props.allowedValues\n      ? // With `allowedValues` sliderValue will be the index to value in `allowedValues`\n        // This is so we can snap the rangeSlider using `step`\n        // This means that the range slider will have a uniform `step` in the UI\n        // and scale won't match `allowedValues\n        // e.g. with allowedValues = [0, 100, 1000, 10000] - in UI we'll have values = [0, 3] w/ step of 1\n        // so it always snaps at 25% width\n        this.props.allowedValues.indexOf(Number(this.props.value || 0))\n      : this.props.value,\n  };\n\n  UNSAFE_componentWillReceiveProps(nextProps: Props) {\n    // Update local state when re-rendered with next `props.value` (e.g if this is controlled)\n    if (typeof nextProps.value !== 'undefined') {\n      const {allowedValues} = this.props;\n      let sliderValue = nextProps.value;\n\n      // If `allowedValues` is defined, then `sliderValue` represents index to `allowedValues`\n      if (allowedValues && allowedValues.indexOf(Number(sliderValue || 0)) > -1) {\n        sliderValue = allowedValues.indexOf(Number(sliderValue || 0));\n      }\n      this.setState({sliderValue});\n    }\n  }\n\n  getActualValue = (sliderValue: State['sliderValue']): number | '' => {\n    const {allowedValues} = this.props;\n    let value: number | '';\n\n    if (allowedValues) {\n      // If `allowedValues` is defined, then `sliderValue` represents index to `allowedValues`\n      value = allowedValues[sliderValue];\n    } else {\n      value = sliderValue;\n    }\n\n    return value;\n  };\n\n  setValue = value => {\n    this.setState({\n      sliderValue: value,\n    });\n  };\n\n  changeValue = (value, e) => {\n    if (this.props.onChange) {\n      this.props.onChange(this.getActualValue(value), e);\n    }\n  };\n\n  handleInput = e => {\n    const sliderValue = parseInt(e.target.value, 10);\n    this.setValue(sliderValue);\n    this.changeValue(sliderValue, e);\n  };\n\n  handleBlur = e => {\n    const {onBlur} = this.props;\n    if (typeof onBlur !== 'function') {\n      return;\n    }\n\n    onBlur(e);\n  };\n\n  handleCustomInputChange = e => {\n    const value = parseInt(e.target.value, 10);\n    this.setValue(isNaN(value) ? 0 : value);\n  };\n\n  handleCustomInputBlur = e => {\n    this.handleInput(e);\n  };\n\n  render() {\n    let {min, max, step} = this.props;\n    const {\n      name,\n      disabled,\n      allowedValues,\n      formatLabel,\n      placeholder,\n      showCustomInput,\n    } = this.props;\n    const {sliderValue} = this.state;\n    let actualValue = sliderValue;\n    let displayValue: React.ReactNode = actualValue;\n\n    if (allowedValues) {\n      step = 1;\n      min = 0;\n      max = allowedValues.length - 1;\n      actualValue = allowedValues[sliderValue];\n      displayValue =\n        typeof actualValue !== 'undefined' ? actualValue : t('Invalid value');\n    }\n\n    displayValue =\n      typeof formatLabel === 'function' ? formatLabel(actualValue) : displayValue;\n\n    return (\n      <div>\n        {!showCustomInput && <Label htmlFor={name}>{displayValue}</Label>}\n        <SliderAndInputWrapper showCustomInput={showCustomInput}>\n          <Slider\n            type=\"range\"\n            name={name}\n            min={min}\n            max={max}\n            step={step}\n            disabled={disabled}\n            onInput={this.handleInput}\n            onChange={() => {}}\n            onMouseUp={this.handleBlur}\n            onKeyUp={this.handleBlur}\n            value={sliderValue}\n            hasLabel={!showCustomInput}\n          />\n          {showCustomInput && (\n            <Input\n              placeholder={placeholder}\n              value={sliderValue}\n              onChange={this.handleCustomInputChange}\n              onBlur={this.handleCustomInputBlur}\n            />\n          )}\n        </SliderAndInputWrapper>\n      </div>\n    );\n  }\n}\n\nexport default RangeSlider;\n\nconst Slider = styled('input')<{hasLabel: boolean}>`\n  /* stylelint-disable-next-line property-no-vendor-prefix */\n  -webkit-appearance: none;\n  width: 100%;\n  margin: ${p => p.theme.grid}px 0 ${p => p.theme.grid * (p.hasLabel ? 2 : 1)}px;\n\n  &::-webkit-slider-runnable-track {\n    width: 100%;\n    height: 3px;\n    cursor: pointer;\n    background: ${p => p.theme.gray200};\n    border-radius: 3px;\n    border: 0;\n  }\n\n  &::-moz-range-track {\n    width: 100%;\n    height: 3px;\n    cursor: pointer;\n    background: ${p => p.theme.gray200};\n    border-radius: 3px;\n    border: 0;\n  }\n\n  &::-ms-track {\n    width: 100%;\n    height: 3px;\n    cursor: pointer;\n    background: ${p => p.theme.gray200};\n    border-radius: 3px;\n    border: 0;\n  }\n\n  &::-webkit-slider-thumb {\n    box-shadow: 0 0 0 3px #fff;\n    height: 17px;\n    width: 17px;\n    border-radius: 50%;\n    background: ${p => p.theme.purple300};\n    cursor: pointer;\n    /* stylelint-disable-next-line property-no-vendor-prefix */\n    -webkit-appearance: none;\n    margin-top: -7px;\n    border: 0;\n  }\n\n  &::-moz-range-thumb {\n    box-shadow: 0 0 0 3px #fff;\n    height: 17px;\n    width: 17px;\n    border-radius: 50%;\n    background: ${p => p.theme.purple300};\n    cursor: pointer;\n    /* stylelint-disable-next-line property-no-vendor-prefix */\n    -webkit-appearance: none;\n    margin-top: -7px;\n    border: 0;\n  }\n\n  &::-ms-thumb {\n    box-shadow: 0 0 0 3px #fff;\n    height: 17px;\n    width: 17px;\n    border-radius: 50%;\n    background: ${p => p.theme.purple300};\n    cursor: pointer;\n    /* stylelint-disable-next-line property-no-vendor-prefix */\n    -webkit-appearance: none;\n    margin-top: -7px;\n    border: 0;\n  }\n\n  &::-ms-fill-lower {\n    background: ${p => p.theme.gray200};\n    border: 0;\n    border-radius: 50%;\n  }\n\n  &::-ms-fill-upper {\n    background: ${p => p.theme.gray200};\n    border: 0;\n    border-radius: 50%;\n  }\n\n  &:focus {\n    outline: none;\n\n    &::-webkit-slider-runnable-track {\n      background: ${p => p.theme.gray200};\n    }\n\n    &::-ms-fill-upper {\n      background: ${p => p.theme.gray200};\n    }\n\n    &::-ms-fill-lower {\n      background: ${p => p.theme.gray200};\n    }\n  }\n\n  &[disabled] {\n    &::-webkit-slider-thumb {\n      background: ${p => p.theme.gray200};\n      cursor: default;\n    }\n\n    &::-moz-range-thumb {\n      background: ${p => p.theme.gray200};\n      cursor: default;\n    }\n\n    &::-ms-thumb {\n      background: ${p => p.theme.gray200};\n      cursor: default;\n    }\n\n    &::-webkit-slider-runnable-track {\n      cursor: default;\n    }\n\n    &::-moz-range-track {\n      cursor: default;\n    }\n\n    &::-ms-track {\n      cursor: default;\n    }\n  }\n`;\n\nconst Label = styled('label')`\n  font-size: 14px;\n  margin-bottom: ${p => p.theme.grid}px;\n  color: ${p => p.theme.subText};\n`;\n\nconst SliderAndInputWrapper = styled('div')<{showCustomInput?: boolean}>`\n  display: grid;\n  align-items: center;\n  grid-auto-flow: column;\n  grid-template-columns: 4fr ${p => p.showCustomInput && '1fr'};\n  grid-gap: ${space(1)};\n`;\n","import React from 'react';\nimport {RouteComponentProps} from 'react-router';\n\nimport {Panel, PanelAlert, PanelBody, PanelHeader} from 'app/components/panels';\nimport {t, tct} from 'app/locale';\nimport {Organization} from 'app/types';\nimport Field from 'app/views/settings/components/forms/field';\nimport Form from 'app/views/settings/components/forms/form';\nimport RangeField from 'app/views/settings/components/forms/rangeField';\nimport SettingsPageHeader from 'app/views/settings/components/settingsPageHeader';\nimport TextBlock from 'app/views/settings/components/text/textBlock';\n\ntype Props = RouteComponentProps<{}, {}> & {\n  organization: Organization;\n};\n\nconst getRateLimitValues = () => {\n  const steps: number[] = [];\n  let i = 0;\n  while (i <= 1000000) {\n    steps.push(i);\n    if (i < 10000) {\n      i += 1000;\n    } else if (i < 100000) {\n      i += 10000;\n    } else {\n      i += 100000;\n    }\n  }\n  return steps;\n};\n\n// We can just generate this once\nconst ACCOUNT_RATE_LIMIT_VALUES = getRateLimitValues();\n\nconst OrganizationRateLimit = ({organization}: Props) => {\n  // TODO(billy): Update organization.quota in organizationStore with new values\n\n  const {quota} = organization;\n  const {maxRate, maxRateInterval, projectLimit, accountLimit} = quota;\n  const initialData = {\n    projectRateLimit: projectLimit || 100,\n    accountRateLimit: accountLimit,\n  };\n\n  return (\n    <div>\n      <SettingsPageHeader title={t('Rate Limits')} />\n\n      <Panel>\n        <PanelHeader>{t('Adjust Limits')}</PanelHeader>\n        <PanelBody>\n          <PanelAlert type=\"info\">\n            {t(`Rate limits allow you to control how much data is stored for this\n                organization. When a rate is exceeded the system will begin discarding\n                data until the next interval.`)}\n          </PanelAlert>\n\n          <Form\n            data-test-id=\"rate-limit-editor\"\n            saveOnBlur\n            allowUndo\n            apiMethod=\"PUT\"\n            apiEndpoint={`/organizations/${organization.slug}/`}\n            initialData={initialData}\n          >\n            {!maxRate ? (\n              <RangeField\n                name=\"accountRateLimit\"\n                label={t('Account Limit')}\n                min={0}\n                max={1000000}\n                allowedValues={ACCOUNT_RATE_LIMIT_VALUES}\n                help={t(\n                  'The maximum number of events to accept across this entire organization.'\n                )}\n                placeholder=\"e.g. 500\"\n                formatLabel={value =>\n                  !value\n                    ? t('No Limit')\n                    : tct('[number] per hour', {\n                        number: value.toLocaleString(),\n                      })\n                }\n              />\n            ) : (\n              <Field\n                label={t('Account Limit')}\n                help={t(\n                  'The maximum number of events to accept across this entire organization.'\n                )}\n              >\n                <TextBlock css={{marginBottom: 0}}>\n                  {tct(\n                    'Your account is limited to a maximum of [maxRate] events per [maxRateInterval] seconds.',\n                    {\n                      maxRate,\n                      maxRateInterval,\n                    }\n                  )}\n                </TextBlock>\n              </Field>\n            )}\n            <RangeField\n              name=\"projectRateLimit\"\n              label={t('Per-Project Limit')}\n              help={t(\n                'The maximum percentage of the account limit (set above) that an individual project can consume.'\n              )}\n              step={5}\n              min={50}\n              max={100}\n              formatLabel={value =>\n                value !== 100 ? (\n                  `${value}%`\n                ) : (\n                  <span\n                    dangerouslySetInnerHTML={{__html: `${t('No Limit')} &mdash; 100%`}}\n                  />\n                )\n              }\n            />\n          </Form>\n        </PanelBody>\n      </Panel>\n    </div>\n  );\n};\n\nexport default OrganizationRateLimit;\n","import React from 'react';\n\nimport withOrganization from 'app/utils/withOrganization';\n\nimport OrganizationRateLimits from './organizationRateLimits';\n\nconst OrganizationRateLimitsContainer = (\n  props: React.ComponentProps<typeof OrganizationRateLimits>\n) => (!props.organization ? null : <OrganizationRateLimits {...props} />);\n\nexport default withOrganization(OrganizationRateLimitsContainer);\n"],"sourceRoot":""}