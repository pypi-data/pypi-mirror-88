(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[105],{1938:function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var r=n(9),o=n.n(r),i=n(10),a=n.n(i),s=n(12),c=n.n(s),u=n(13),l=n.n(u),f=n(5),p=n.n(f),d=(n(1),n(247)),b=n.n(d),h=n(408),O=n(0);function j(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p()(t);if(e){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l()(this,n)}}var m=function(t){c()(n,t);var e=j(n);function n(){return o()(this,n),e.apply(this,arguments)}return a()(n,[{key:"getTitle",value:function(){return""}},{key:"render",value:function(){var t=this.getTitle();return Object(O.f)(b.a,{title:"".concat(t?"".concat(t," - "):"","Sentry")},this.renderComponent())}}]),n}(h.a);m.displayName="AsyncView"},2264:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(47);function o(t,e){r.m((function(n){e&&n.setExtra("context",e),r.c(t)})),window.console&&console.error&&console.error(t)}},2293:function(t,e,n){"use strict";var r=n(3);e.a=Object(r.a)("div",{target:"e7a2mgh0"})("display:inline-block;position:relative;border-radius:50%;height:",(function(t){return t.size}),"px;width:",(function(t){return t.size}),"px;",(function(t){return t.color?"background: ".concat(t.color,";"):"background: ".concat("error"===t.status?t.theme.error:"ok"===t.status?t.theme.success:t.theme.disabled,";")}),";")},2334:function(t,e,n){"use strict";var r,o=n(6),i=n.n(o),a=n(9),s=n.n(a),c=n(10),u=n.n(c),l=n(12),f=n.n(l),p=n(13),d=n.n(p),b=n(5),h=n.n(b),O=n(3),j=n(1),m=n.n(j),g=n(38),v=n.n(g),y=n(25),k=n.n(y),I=n(35),R=n(65),S=n(111),N=n(449),x=n(770),w=n(4),z=n(0);!function(t){t[t.THIRTY_MINUTES=30]="THIRTY_MINUTES",t[t.TWO_HOURS=120]="TWO_HOURS",t[t.TWENTY_FOUR_HOURS=1440]="TWENTY_FOUR_HOURS"}(r||(r={}));var P=function(t){var e=t.Body,n=t.Footer,o=t.closeModal,i=t.onSnooze,a=function(t){i(t),o()};return Object(z.f)(m.a.Fragment,null,Object(z.f)(e,null,Object(z.f)("h5",null,Object(w.b)("How long should we ignore this issue?")),Object(z.f)("ul",{className:"nav nav-stacked nav-pills"},Object(z.f)("li",null,Object(z.f)("a",{onClick:a.bind(void 0,r.THIRTY_MINUTES)},Object(w.b)("30 minutes"))),Object(z.f)("li",null,Object(z.f)("a",{onClick:a.bind(void 0,r.TWO_HOURS)},Object(w.b)("2 hours"))),Object(z.f)("li",null,Object(z.f)("a",{onClick:a.bind(void 0,r.TWENTY_FOUR_HOURS)},Object(w.b)("24 hours"))),Object(z.f)("li",null,Object(z.f)("a",{onClick:a.bind(void 0,void 0)},Object(w.b)("Forever"))))),Object(z.f)(n,null,Object(z.f)("button",{type:"button",className:"btn btn-default",onClick:o},Object(w.b)("Cancel"))))};P.displayName="SnoozeActionModal";var C=P,D=n(60),T=n(164),E=n(737),U=n(15),B=n(71),M=n(8),q=n(199),H=n(49),L=n(57);function W(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h()(t);if(e){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}var _=function(t){f()(n,t);var e=W(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"render",value:function(){var t=this.props,e=t.data,n=t.organization,r=t.projectId,o=t.eventId,i="/organizations/".concat(n.slug,"/issues/"),a=o?"/organizations/".concat(n.slug,"/projects/").concat(r,"/events/").concat(o,"/"):"".concat(i).concat(e.id,"/"),s=e.subscriptionDetails&&"mentioned"===e.subscriptionDetails.reason?"green300":"currentColor";return Object(z.f)(m.a.Fragment,null,Object(z.f)(F,null,Object(z.f)(Y,{size:"12px",level:e.level,title:e.level}),Object(z.f)("h3",{className:"truncate"},Object(z.f)(G,{to:a||""},"ignored"===e.status&&Object(z.f)(U.Y,{size:"xs"}),e.isBookmarked&&Object(z.f)(U.ub,{isSolid:!0,size:"xs"}),Object(z.f)(N.a,{data:e})))),Object(z.f)("div",{className:"event-extra"},Object(z.f)("span",{className:"project-name"},Object(z.f)("strong",null,e.project.slug)),0!==e.numComments&&Object(z.f)("span",null,Object(z.f)(G,{to:"".concat(i).concat(e.id,"/activity/"),className:"comments"},Object(z.f)(U.h,{size:"xs",color:s}),Object(z.f)("span",{className:"tag-count"},e.numComments))),Object(z.f)("span",{className:"culprit"},Object(q.b)(e))))}}]),n}(m.a.Component);_.displayName="CompactIssueHeader";var A=v()({displayName:"CompactIssue",mixins:[k.a.listenTo(B.a,"onGroupChange")],getInitialState:function(){return{issue:this.props.data||B.a.get(this.props.id)}},componentWillReceiveProps:function(t){t.id!==this.props.id&&this.setState({issue:B.a.get(this.props.id)})},onGroupChange:function(t){if(t.has(this.props.id)){var e=this.props.id,n=B.a.get(e);this.setState({issue:n})}},onSnooze:function(t){var e={status:"ignored"};t&&(e.ignoreDuration=t),this.onUpdate(e)},onUpdate:function(t){var e=this.state.issue;Object(I.b)(Object(w.b)("Saving changes…")),this.props.api.bulkUpdate({orgId:this.props.organization.slug,projectId:e.project.slug,itemIds:[e.id],data:t},{complete:function(){Object(I.e)()}})},render:function(){var t=this,e=this.state.issue,n=this.props,r=n.id,o=n.organization,a="issue";return e.isBookmarked&&(a+=" isBookmarked"),e.hasSeen&&(a+=" hasSeen"),"resolved"===e.status&&(a+=" isResolved"),"ignored"===e.status&&(a+=" isIgnored"),this.props.statsPeriod&&(a+=" with-graph"),Object(z.f)(T.f,{className:a,onClick:this.toggleSelect,flexDirection:"column",style:{paddingTop:"12px",paddingBottom:"6px"}},Object(z.f)(_,{data:e,organization:o,projectId:e.project.slug,eventId:this.props.eventId}),this.props.statsPeriod&&Object(z.f)("div",{className:"event-graph"},Object(z.f)(E.a,{id:r,statsPeriod:this.props.statsPeriod,data:this.props.data})),this.props.showActions&&Object(z.f)("div",{className:"more-menu-container align-right"},Object(z.f)(S.a,{topLevelClasses:"more-menu",className:"more-menu-toggle",caret:!1,title:Object(z.f)(U.v,{size:"xs"})},Object(z.f)("li",null,Object(z.f)(G,{onClick:this.onUpdate.bind(this,{status:"resolved"!==e.status?"resolved":"unresolved"})},Object(z.f)(U.i,{size:"xs"}))),Object(z.f)("li",null,Object(z.f)(G,{onClick:this.onUpdate.bind(this,{isBookmarked:!e.isBookmarked})},Object(z.f)(U.ub,{isSolid:!0,size:"xs"}))),Object(z.f)("li",null,Object(z.f)("a",{onClick:function(){return Object(R.j)((function(e){return Object(z.f)(C,i()({},e,{onSnooze:t.onSnooze}))}))}},Object(z.f)("span",null,Object(w.b)("zZz")))))),this.props.children)}}),F=(e.a=Object(H.a)(Object(L.a)(A)),Object(O.a)("div",{target:"e1ptcct80",label:"IssueHeaderMetaWrapper"})({name:"70qvj9",styles:"display:flex;align-items:center;"})),Y=Object(O.a)(x.a,{target:"e1ptcct81",label:"StyledErrorLevel"})("display:block;margin-right:",Object(M.a)(1),";"),G=Object(O.a)(D.a,{target:"e1ptcct82",label:"IconLink"})("& > svg{margin-right:",Object(M.a)(.5),";}")},2910:function(t,e,n){"use strict";n.r(e);var r=n(7),o=n.n(r),i=n(9),a=n.n(i),s=n(10),c=n.n(s),u=n(12),l=n.n(u),f=n(13),p=n.n(f),d=n(5),b=n.n(d),h=n(1),O=n.n(h),j=n(164),m=n(4),g=n(1938),v=n(115),y=n.n(v),k=n(3),I=n(408),R=n(422),S=n(207),N=n(8),x=Object(k.a)("div",{target:"eh3ya5q0"})("display:inline-block;position:relative;border-radius:50%;height:",(function(t){return t.size}),"px;width:",(function(t){return t.size}),"px;",(function(t){return t.color?"background: ".concat(t.color,";"):"background: ".concat("error"===t.status?t.theme.error:"ok"===t.status?t.theme.success:t.theme.disabled,";")}),";"),w=n(0);function z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b()(t);if(e){var o=b()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var P=function(t){l()(n,t);var e=z(n);function n(){return a()(this,n),e.apply(this,arguments)}return c()(n,[{key:"getEndpoints",value:function(){var t=this.props.monitor;return[["checkInList","/monitors/".concat(t.id,"/checkins/"),{query:{per_page:10}}]]}},{key:"renderError",value:function(){return Object(w.f)(E,null,y()(b()(n.prototype),"renderError",this).call(this))}},{key:"renderBody",value:function(){return Object(w.f)(j.c,null,this.state.checkInList.map((function(t){return Object(w.f)(j.f,{key:t.id},Object(w.f)(D,null,Object(w.f)(x,{status:t.status,size:16})),Object(w.f)(T,null,Object(w.f)(S.a,{date:t.dateCreated})),Object(w.f)("div",null,t.duration&&Object(w.f)(R.a,{seconds:t.duration/100})))})))}}]),n}(I.a),C=Object(k.a)("div",{target:"e17ywmsg0",label:"DivMargin"})("margin-right:",Object(N.a)(2),";"),D=Object(k.a)(C,{target:"e17ywmsg1",label:"CheckInIconWrapper"})({name:"70qvj9",styles:"display:flex;align-items:center;"}),T=Object(k.a)(C,{target:"e17ywmsg2",label:"TimeSinceWrapper"})(),E=Object(k.a)("div",{target:"e17ywmsg3",label:"ErrorWrapper"})("margin:",Object(N.a)(3)," ",Object(N.a)(3)," 0;"),U=n(11),B=n(35),M=n(29),q=n(109),H=n(206),L=n(15),W=n(2264),_=n(49),A=function(t){var e=t.api,n=t.monitor,r=t.orgId,o=t.onUpdate;return Object(w.f)(F,null,Object(w.f)(q.a,{gap:1},Object(w.f)(M.a,{size:"small",icon:Object(w.f)(L.u,{size:"xs"}),to:"/organizations/".concat(r,"/monitors/").concat(n.id,"/edit/")}," ",Object(m.b)("Edit")),Object(w.f)(M.a,{size:"small",onClick:function(){return t={status:"disabled"===n.status?"active":"disabled"},Object(B.b)(),void e.requestPromise("/monitors/".concat(n.id,"/"),{method:"PUT",data:t}).then((function(t){Object(B.e)(),null==o||o(t)})).catch((function(t){Object(W.a)(t),Object(B.a)(Object(m.b)("Unable to update monitor."))}));var t}},"disabled"!==n.status?Object(m.b)("Pause"):Object(m.b)("Enable")),Object(w.f)(H.a,{onConfirm:function(){var t="/organizations/".concat(r,"/monitors/");Object(B.b)(Object(m.b)("Deleting Monitor...")),e.requestPromise("/monitors/".concat(n.id,"/"),{method:"DELETE"}).then((function(){U.browserHistory.push(t)})).catch((function(){Object(B.a)(Object(m.b)("Unable to remove monitor."))}))},message:Object(m.b)("Deleting this monitor is permanent. Are you sure you wish to continue?")},Object(w.f)(M.a,{size:"small",icon:Object(w.f)(L.r,{size:"xs"})},Object(m.b)("Delete")))))};A.displayName="MonitorHeaderActions";var F=Object(k.a)("div",{target:"ez5p8nb0",label:"ButtonContainer"})("margin-bottom:",Object(N.a)(3),";display:flex;flex-shrink:1;"),Y=Object(_.a)(A),G=n(2293),J=function(t){var e=t.monitor,n=t.orgId,r=t.onUpdate;return Object(w.f)("div",{className:"release-details"},Object(w.f)("div",{className:"row"},Object(w.f)("div",{className:"col-sm-6 col-xs-10"},Object(w.f)("h3",null,e.name),Object(w.f)("div",{className:"release-meta"},e.id)),Object(w.f)("div",{className:"col-sm-2 hidden-xs"},Object(w.f)("h6",{className:"nav-header"},Object(m.b)("Last Check-in")),e.lastCheckIn&&Object(w.f)(S.a,{date:e.lastCheckIn})),Object(w.f)("div",{className:"col-sm-2 hidden-xs"},Object(w.f)("h6",{className:"nav-header"},Object(m.b)("Next Check-in")),e.nextCheckIn&&Object(w.f)(S.a,{date:e.nextCheckIn})),Object(w.f)("div",{className:"col-sm-2"},Object(w.f)("h6",{className:"nav-header"},Object(m.b)("Status")),Object(w.f)(G.a,{status:e.status,size:16}))),Object(w.f)(Y,{orgId:n,monitor:e,onUpdate:r}))};J.displayName="MonitorHeader";var V=J,Z=n(6),K=n.n(Z),Q=n(38),X=n.n(Q),$=n(2334),tt=n(123),et=n(44),nt=n(673),rt=n(411);function ot(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function it(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ot(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var at=X()({displayName:"IssueList",getDefaultProps:function(){return{pagination:!0,query:{},noBorder:!1,noMargin:!1}},getInitialState:function(){return{issueIds:[],loading:!0,error:!1,pageLinks:null}},componentWillMount:function(){this.fetchData()},componentWillReceiveProps:function(t){var e=this.props.location,n=t.location;e&&(e.pathname===n.pathname&&e.search===n.search||this.remountComponent())},remountComponent:function(){this.setState(this.getInitialState(),this.fetchData)},fetchData:function(){var t=this,e=this.props.location;this.props.api.clear(),this.props.api.request(this.props.endpoint,{method:"GET",query:it({cursor:e&&e.query&&e.query.cursor||""},this.props.query),success:function(e,n,r){t.setState({data:e,loading:!1,error:!1,issueIds:e.map((function(t){return t.id})),pageLinks:r.getResponseHeader("Link")})},error:function(){t.setState({loading:!1,error:!0})}})},renderResults:function(){var t,e=this,n=this.props,r=n.noBorder,o=n.noMargin;if(this.state.loading)t=this.renderLoading();else if(this.state.error)t=this.renderError();else if(this.state.issueIds.length>0){var i=r?{border:0,borderRadius:0}:{};o&&(i.marginBottom=0),t=Object(w.f)(j.a,{style:i},Object(w.f)(j.c,{className:"issue-list"},this.state.data.map((function(t){return Object(w.f)($.a,{key:t.id,id:t.id,data:t,statsPeriod:e.props.statsPeriod,showActions:e.props.showActions})}))))}else t=(this.props.renderEmpty||this.renderEmpty)();return t},renderError:function(){return Object(w.f)("div",{style:{margin:"".concat(Object(N.a)(2)," ").concat(Object(N.a)(2)," 0")}},Object(w.f)(tt.a,{onRetry:this.fetchData}))},renderLoading:function(){return Object(w.f)("div",{style:{margin:"18px 18px 0"}},Object(w.f)(et.default,null))},renderEmpty:function(){var t=this.props.emptyText,e=this.props,n=e.noBorder?{border:0,borderRadius:0}:{};return e.noMargin&&(n.marginBottom=0),Object(w.f)(j.a,{style:n},Object(w.f)(rt.a,{icon:Object(w.f)(L.mb,{size:"xl"})},t||Object(m.b)("Nothing to show here, move along.")))},render:function(){return Object(w.f)(O.a.Fragment,null,this.renderResults(),this.props.pagination&&this.state.pageLinks&&Object(w.f)(nt.a,K()({pageLinks:this.state.pageLinks},this.props)))}}),st=Object(_.a)(at),ct=function(t){var e=t.orgId,n=t.monitor;return Object(w.f)(st,{endpoint:"/organizations/".concat(e,"/issues/"),query:{query:'monitor.id:"'+n.id+'"',project:n.project.id,limit:5},statsPeriod:"0",pagination:!1,emptyText:Object(m.b)("No issues found"),showActions:!1,noBorder:!0,noMargin:!0,params:{orgId:e}})};ct.displayName="MonitorIssues";var ut=ct,lt=n(684),ft=n(24);function pt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b()(t);if(e){var o=b()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var dt=function(t){l()(n,t);var e=pt(n);function n(){return a()(this,n),e.apply(this,arguments)}return c()(n,[{key:"getEndpoints",value:function(){var t=this.props.monitor,e=Math.floor((new Date).getTime()/1e3),n=e-2592e3;return[["stats","/monitors/".concat(t.id,"/stats/"),{query:{since:n,until:e,resolution:"1d"}}]]}},{key:"renderBody",value:function(){var t,e=!0,n={seriesName:Object(m.b)("Successful"),data:[]},r={seriesName:Object(m.b)("Failed"),data:[]};null===(t=this.state.stats)||void 0===t||t.forEach((function(t){(t.ok||t.error)&&(e=!1);var o=1e3*t.ts;n.data.push({name:o.toString(),value:t.ok}),r.data.push({name:o.toString(),value:t.error})}));var o=[ft.b.green300,ft.b.red300];return Object(w.f)(j.a,null,Object(w.f)(j.c,{withPadding:!0},e?Object(w.f)(rt.a,{title:Object(m.b)("Nothing recorded in the last 30 days."),description:Object(m.b)("All check-ins for this monitor.")}):Object(w.f)(lt.a,{isGroupedByDate:!0,showTimeInTooltip:!0,labelYAxisExtents:!0,stacked:!0,colors:o,height:150,series:[n,r]})))}}]),n}(I.a);function bt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ht(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?bt(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ot(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b()(t);if(e){var o=b()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var jt=function(t){l()(n,t);var e=Ot(n);function n(){var t;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).onUpdate=function(e){return t.setState((function(t){return{monitor:ht(ht({},t.monitor),e)}}))},t}return c()(n,[{key:"getEndpoints",value:function(){var t=this.props,e=t.params,n=t.location;return[["monitor","/monitors/".concat(e.monitorId,"/"),{query:n.query}]]}},{key:"getTitle",value:function(){return this.state.monitor?"".concat(this.state.monitor.name," - Monitors - ").concat(this.props.params.orgId):"Monitors - ".concat(this.props.params.orgId)}},{key:"renderBody",value:function(){var t=this.state.monitor;return null===t?null:Object(w.f)(O.a.Fragment,null,Object(w.f)(V,{monitor:t,orgId:this.props.params.orgId,onUpdate:this.onUpdate}),Object(w.f)(dt,{monitor:t}),Object(w.f)(j.a,{style:{paddingBottom:0}},Object(w.f)(j.e,null,Object(m.b)("Related Issues")),Object(w.f)(ut,{monitor:t,orgId:this.props.params.orgId})),Object(w.f)(j.a,null,Object(w.f)(j.e,null,Object(m.b)("Recent Check-ins")),Object(w.f)(P,{monitor:t})))}}]),n}(g.a);e.default=jt}}]);
//# sourceMappingURL=MonitorDetails.js.map