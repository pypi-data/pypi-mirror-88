(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[201],{1938:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var r=n(9),a=n.n(r),o=n(10),c=n.n(o),i=n(12),s=n.n(i),u=n(13),d=n.n(u),f=n(5),l=n.n(f),m=(n(1),n(247)),p=n.n(m),h=n(408),g=n(0);function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l()(t);if(e){var a=l()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d()(this,n)}}var b=function(t){s()(n,t);var e=v(n);function n(){return a()(this,n),e.apply(this,arguments)}return c()(n,[{key:"getTitle",value:function(){return""}},{key:"render",value:function(){var t=this.getTitle();return Object(g.f)(p.a,{title:"".concat(t?"".concat(t," - "):"","Sentry")},this.renderComponent())}}]),n}(h.a);b.displayName="AsyncView"},1945:function(t,e,n){"use strict";var r=n(6),a=n.n(r),o=n(7),c=n.n(o),i=n(16),s=n.n(i),u=n(9),d=n.n(u),f=n(10),l=n.n(f),m=n(12),p=n.n(m),h=n(13),g=n.n(h),v=n(5),b=n.n(v),y=n(1),O=n.n(y),j=n(47),I=n(2),P=n.n(I),R=n(278),S=n(677),T=n.n(S),w=n(21),D=n(674),F=n(1947),z=n(0);function k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function E(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(Object(n),!0).forEach((function(e){c()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b()(t);if(e){var a=b()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var q=function(t){p()(n,t);var e=x(n);function n(){var t;d()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).state={highlighted:A(t.props,t.context).hash},t}return l()(n,[{key:"componentDidMount",value:function(){this.scrollToHash()}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){if(A(this.props,this.context).hash!==A(t,this.context).hash){var e=A(t,this.context).hash;this.scrollToHash(e),this.setState({highlighted:e})}}},{key:"scrollToHash",value:function(t){var e=t||A(this.props,this.context).hash;if(e)try{T()(Object(D.a)(decodeURIComponent(e)),{align:"middle",offset:-100})}catch(t){j.c(t)}}},{key:"shouldDisplayForm",value:function(t){var e=t.filter((function(t){return"function"!=typeof t&&Object(w.d)(null==t?void 0:t.visible)}));if(t.length===e.length){var n=this.props,r=n.additionalFieldProps,a=s()(n,["additionalFieldProps"]);return!e.every((function(t){return"function"==typeof t.visible?!t.visible(E(E({},a),r)):!t.visible}))}return!0}},{key:"renderForm",value:function(t){var e=t.fields,n=t.formPanelProps,r=t.title;return this.shouldDisplayForm(e)||(null==n?void 0:n.renderFooter)||(null==n?void 0:n.renderHeader)?Object(z.f)(F.a,a()({title:r,fields:e},n)):null}},{key:"render",value:function(){var t=this,e=this.props,n=e.access,r=e.fields,a=e.title,o=e.forms,c=e.disabled,i=e.features,u=e.additionalFieldProps,d=e.renderFooter,f=e.renderHeader,l=(e.location,s()(e,["access","fields","title","forms","disabled","features","additionalFieldProps","renderFooter","renderHeader","location"])),m={access:n,disabled:c,features:i,additionalFieldProps:u,renderFooter:d,renderHeader:f,highlighted:this.state.highlighted};return Object(z.f)(R.Box,l,void 0!==o&&o.map((function(e,n){return Object(z.f)(O.a.Fragment,{key:n},t.renderForm(E({formPanelProps:m},e)))})),void 0===o&&void 0!==r&&this.renderForm({fields:r,formPanelProps:m,title:a}))}}]),n}(O.a.Component);function A(t,e){return t.location||e.location||{}}q.displayName="JsonForm",q.contextTypes={location:P.a.object},q.defaultProps={additionalFieldProps:{}},e.a=q},1947:function(t,e,n){"use strict";n.d(e,"a",(function(){return R}));var r=n(6),a=n.n(r),o=n(16),c=n.n(o),i=n(9),s=n.n(i),u=n(10),d=n.n(u),f=n(12),l=n.n(f),m=n(13),p=n.n(m),h=n(5),g=n.n(h),v=n(1),b=n.n(v),y=n(164),O=n(674),j=n(1964),I=n(0);function P(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=g()(t);if(e){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var R=function(t){l()(n,t);var e=P(n);function n(){return s()(this,n),e.apply(this,arguments)}return d()(n,[{key:"render",value:function(){var t=this,e=this.props,n=e.title,r=e.fields,o=e.access,i=e.disabled,s=e.additionalFieldProps,u=e.renderFooter,d=e.renderHeader,f=c()(e,["title","fields","access","disabled","additionalFieldProps","renderFooter","renderHeader"]);return Object(I.f)(y.a,{id:"string"==typeof n?Object(O.a)(n):void 0},n&&Object(I.f)(y.e,null,n),Object(I.f)(y.c,null,"function"==typeof d&&d({title:n,fields:r}),r.map((function(e){if("function"==typeof e)return e();e.defaultValue;var n=c()(e,["defaultValue"]);return!0===i&&(n.disabled=!0,n.disabledReason=void 0),Object(I.f)(j.a,a()({access:o,disabled:i,key:e.name},f,s,{field:n,highlighted:t.props.highlighted==="#".concat(e.name)}))})),"function"==typeof u&&u({title:n,fields:r})))}}]),n}(b.a.Component);R.displayName="FormPanel"},2043:function(t,e,n){"use strict";function r(t){return"string"==typeof t?t.toLowerCase().replace(" ","-"):""}n.d(e,"a",(function(){return r}))},2047:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"g",(function(){return d})),n.d(e,"f",(function(){return f})),n.d(e,"c",(function(){return l})),n.d(e,"d",(function(){return m})),n.d(e,"a",(function(){return p})),n.d(e,"e",(function(){return h}));var r=n(35),a=n(151),o=n(4),c=n(52),i=n(166),s=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];c.a.apply(void 0,[t[e]].concat(r))};function u(t,e,n){return a.a.fetchDetails(e.teamId),t.request("/teams/".concat(e.orgId,"/").concat(e.teamId,"/"),{success:function(t){a.a.fetchDetailsSuccess(e.teamId,t),s(n,"success",t)},error:function(t){a.a.fetchDetailsError(e.teamId,t),s(n,"error",t)}})}function d(t,e){a.a.updateSuccess(t,e)}function f(t,e,n){var r="/teams/".concat(e.orgId,"/").concat(e.teamId,"/");return a.a.update(e.teamId,e.data),t.request(r,{method:"PUT",data:e.data,success:function(t){d(e.teamId,t),s(n,"success",t)},error:function(t){a.a.updateError(e.teamId,t),s(n,"error",t)}})}function l(t,e,n){var r,o="/organizations/".concat(e.orgId,"/members/").concat(null!==(r=e.memberId)&&void 0!==r?r:"me","/teams/").concat(e.teamId,"/"),c=Object(i.a)();return a.a.update(c,e.teamId),t.request(o,{method:"POST",success:function(t){a.a.updateSuccess(e.teamId,t),s(n,"success",t)},error:function(t){a.a.updateError(c,e.teamId,t),s(n,"error",t)}})}function m(t,e,n){var r="/organizations/".concat(e.orgId,"/members/").concat(e.memberId||"me","/teams/").concat(e.teamId,"/"),o=Object(i.a)();return a.a.update(o,e.teamId),t.request(r,{method:"DELETE",success:function(t){a.a.updateSuccess(e.teamId,t),s(n,"success",t)},error:function(t){a.a.updateError(o,e.teamId,t),s(n,"error",t)}})}function p(t,e,n){return a.a.createTeam(e),t.requestPromise("/organizations/".concat(n.orgId,"/teams/"),{method:"POST",data:e}).then((function(t){return a.a.createTeamSuccess(t),Object(r.d)(Object(o.c)("[team] has been added to the [organization] organization",{team:"#".concat(t.slug),organization:n.orgId})),t}),(function(t){throw a.a.createTeamError(e.slug,t),Object(r.a)(Object(o.c)("Unable to create [team] in the [organization] organization",{team:"#".concat(e.slug),organization:n.orgId})),t}))}function h(t,e){return a.a.removeTeam(e.teamId),t.requestPromise("/teams/".concat(e.orgId,"/").concat(e.teamId,"/"),{method:"DELETE"}).then((function(t){return a.a.removeTeamSuccess(e.teamId,t),Object(r.d)(Object(o.c)("[team] has been removed from the [organization] organization",{team:"#".concat(e.teamId),organization:e.orgId})),t}),(function(t){throw a.a.removeTeamError(e.teamId,t),Object(r.a)(Object(o.c)("Unable to remove [team] from the [organization] organization",{team:"#".concat(e.teamId),organization:e.orgId})),t}))}},2253:function(t,e,n){"use strict";n.r(e),n.d(e,"route",(function(){return o}));var r=n(4),a=n(2043),o="/settings/:orgId/teams/:teamId/settings/",c=[{title:"Team Settings",fields:[{name:"slug",type:"string",required:!0,label:Object(r.b)("Name"),placeholder:"e.g. api-team",help:Object(r.b)("A unique ID used to identify the team"),disabled:function(t){return!t.access.has("team:write")},transformInput:a.a,saveOnBlur:!1,saveMessageAlertType:"info",saveMessage:Object(r.b)("You will be redirected to the new team slug after saving")}]}];e.default=c},2960:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return C}));var r=n(22),a=n.n(r),o=n(30),c=n.n(o),i=n(9),s=n.n(i),u=n(10),d=n.n(u),f=n(12),l=n.n(f),m=n(13),p=n.n(m),h=n(5),g=n.n(h),v=n(1),b=n.n(v),y=n(2),O=n.n(y),j=n(35),I=n(2047),P=n(29),R=n(206),S=n(164),T=n(2253),w=n(15),D=n(4),F=n(157),z=n(1938),k=n(676),E=n(1944),x=n(1945);function q(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=g()(t);if(e){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var A=function(t){l()(n,t);var e=q(n);function n(t,r){var a;return s()(this,n),(a=e.call(this)).orgId=void 0,a.teamId=void 0,a.orgId=t,a.teamId=r,a}return d()(n,[{key:"doApiRequest",value:function(t){var e=this,n=t.data;return new Promise((function(t,r){return Object(I.f)(e.api,{orgId:e.orgId,teamId:e.teamId,data:n},{success:t,error:r})}))}}]),n}(n(2102).a),H=n(0);function U(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=g()(t);if(e){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var C=function(t){l()(n,t);var e=U(n);function n(){var t;s()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).model=new A(t.props.params.orgId,t.props.params.teamId),t.handleSubmitSuccess=function(e,n,r){Object(I.g)(e.slug,e),"slug"===r&&(Object(j.d)(Object(D.b)("Team name changed")),t.props.router.replace("/settings/".concat(t.props.params.orgId,"/teams/").concat(n.getValue(r),"/settings/")),t.setState({loading:!0}))},t.handleRemoveTeam=c()(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.e)(t.api,t.props.params);case 2:t.props.router.replace("/settings/".concat(t.props.params.orgId,"/teams/"));case 3:case"end":return e.stop()}}),e)}))),t}return d()(n,[{key:"getTitle",value:function(){return"Team Settings"}},{key:"getEndpoints",value:function(){return[]}},{key:"renderBody",value:function(){var t=this.context,e=t.location,n=t.organization,r=this.props.team,a=new Set(n.access);return Object(H.f)(b.a.Fragment,null,Object(H.f)(E.a,{model:this.model,apiMethod:"PUT",saveOnBlur:!0,allowUndo:!0,onSubmitSuccess:this.handleSubmitSuccess,onSubmitError:function(){return Object(j.a)(Object(D.b)("Unable to save change"))},initialData:{name:r.name,slug:r.slug}},Object(H.f)(x.a,{access:a,location:e,forms:T.default})),Object(H.f)(S.a,null,Object(H.f)(S.e,null,Object(D.b)("Remove Team")),Object(H.f)(k.a,{help:Object(D.b)("This may affect team members' access to projects and associated alert delivery.")},Object(H.f)("div",null,Object(H.f)(R.a,{disabled:!a.has("team:admin"),onConfirm:this.handleRemoveTeam,priority:"danger",message:Object(D.c)("Are you sure you want to remove the team [team]?",{team:"#".concat(r.slug)})},Object(H.f)(P.a,{icon:Object(H.f)(w.r,null),priority:"danger",disabled:!a.has("team:admin")},Object(D.b)("Remove Team")))))))}}]),n}(z.a);C.contextTypes={router:O.a.object,location:O.a.object,organization:F.a.Organization}}}]);
//# sourceMappingURL=TeamSettings.js.map