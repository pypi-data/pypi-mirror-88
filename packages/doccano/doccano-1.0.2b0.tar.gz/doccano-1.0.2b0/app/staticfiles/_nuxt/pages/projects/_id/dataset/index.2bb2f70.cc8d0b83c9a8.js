(window.webpackJsonp=window.webpackJsonp||[]).push([[78],{1024:function(t,e,r){"use strict";r.r(e);r(11),r(7),r(6),r(4),r(8),r(72),r(214);var o=r(1),n=(r(62),r(21)),c=r(33);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m={fetch:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDocumentList(d({projectId:t.$route.params.id},t.$route.query));case 2:case"end":return e.stop()}}),e)})))()},data:function(){return{search:this.$route.query.q,options:{},headers:[{text:this.$t("dataset.text"),align:"left",value:"text",sortable:!1},{text:this.$t("dataset.metadata"),align:"left",value:"meta",sortable:!1},{text:this.$t("dataset.action"),align:"left",value:"action",sortable:!1}]}},computed:d(d({},Object(c.e)("documents",["items","selected","loading","total"])),Object(c.c)("projects",["getLink"])),watch:{"$route.query":"$fetch",options:{handler:function(t,e){this.$router.push({query:{limit:this.options.itemsPerPage,offset:(this.options.page-1)*this.options.itemsPerPage,q:this.search}})},deep:!0},search:function(){this.$router.push({query:{limit:this.options.itemsPerPage,offset:0,q:this.search}}),this.options.page=1}},methods:d(d(d({},Object(c.b)("documents",["getDocumentList","updateDocument"])),Object(c.d)("documents",["updateSelected"])),{},{handleUpdateDocument:function(t){var data=d({projectId:this.$route.params.id},t);this.updateDocument(data)},toLabeling:function(t){var e=this.items.findIndex((function(e){return e.id===t.id})),r=(this.options.page-1)*this.options.itemsPerPage+e+1;this.$router.push({path:this.localePath("/projects/".concat(this.$route.params.id,"/").concat(this.getLink)),query:{page:r,q:this.search}})}})},f=r(16),h=r(19),v=r.n(h),x=r(132),y=r(801),O=r(794),j=r(88),D=r(834),component=Object(f.a)(m,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-data-table",{attrs:{value:t.selected,headers:t.headers,items:t.items,options:t.options,"server-items-length":t.total,search:t.search,loading:t.loading,"no-data-text":t.$t("vuetify.noDataAvailable"),"footer-props":{showFirstLastPage:!0,"items-per-page-options":[10,50,100],"items-per-page-text":t.$t("vuetify.itemsPerPageText")},"item-key":"id","loading-text":t.$t("generic.loading"),"show-select":""},on:{"update:options":function(e){t.options=e},input:t.updateSelected},scopedSlots:t._u([{key:"top",fn:function(){return[r("v-text-field",{attrs:{"prepend-inner-icon":"search",label:t.$t("generic.search"),"single-line":"","hide-details":"",filled:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})]},proxy:!0},{key:"item.text",fn:function(e){var o=e.item;return[r("v-edit-dialog",{scopedSlots:t._u([{key:"input",fn:function(){return[r("v-textarea",{attrs:{value:o.text,label:t.$t("generic.edit"),autofocus:""},on:{change:function(e){return t.handleUpdateDocument({id:o.id,text:e})}}})]},proxy:!0}],null,!0)},[r("span",{staticClass:"d-flex d-sm-none"},[t._v(t._s(t._f("truncate")(o.text,50)))]),t._v(" "),r("span",{staticClass:"d-none d-sm-flex"},[t._v(t._s(t._f("truncate")(o.text,200)))])])]}},{key:"item.action",fn:function(e){var o=e.item;return[r("v-btn",{attrs:{small:"",color:"primary text-capitalize"},on:{click:function(e){return t.toLabeling(o)}}},[t._v("\n      "+t._s(t.$t("dataset.annotate"))+"\n    ")])]}}])})}),[],!1,null,null,null),$=component.exports;v()(component,{VBtn:x.a,VDataTable:y.a,VEditDialog:O.a,VTextField:j.a,VTextarea:D.a});var _=r(969),w=r(210),F=r(805),k={components:{BaseCard:w.a},props:{uploadDocument:{type:Function,default:function(){},required:!0},formats:{type:Array,default:function(){return[]},required:!0}},data:function(){return{valid:!1,file:null,selectedFormat:null,fileFormatRules:F.c,uploadFileRules:F.i,showError:!1}},computed:{acceptType:function(){return this.selectedFormat?this.selectedFormat.accept:".txt,.csv,.json,.jsonl"}},methods:{cancel:function(){this.$emit("close")},validate:function(){return this.$refs.form.validate()},reset:function(){this.$refs.form.reset()},create:function(){var t=this;this.validate()&&this.uploadDocument({projectId:this.$route.params.id,format:this.selectedFormat.type,file:this.file}).then((function(e){t.reset(),t.cancel()})).catch((function(){t.showError=!0}))}}},P=r(1018),E=r(1021),V=r(825),C=r(1022),R=r(1023),S=r(60),I=Object(f.a)(k,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("base-card",{attrs:{disabled:!t.valid,title:t.$t("dataset.importDataTitle"),"agree-text":t.$t("generic.upload"),"cancel-text":t.$t("generic.cancel")},on:{agree:t.create,cancel:t.cancel},scopedSlots:t._u([{key:"content",fn:function(){return[r("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-alert",{directives:[{name:"show",rawName:"v-show",value:t.showError,expression:"showError"}],attrs:{type:"error",dismissible:""},model:{value:t.showError,callback:function(e){t.showError=e},expression:"showError"}},[t._v("\n        "+t._s(t.$t("errors.fileCannotUpload"))+"\n      ")]),t._v(" "),r("h2",[t._v(t._s(t.$t("dataset.importDataMessage1")))]),t._v(" "),r("v-radio-group",{attrs:{rules:t.fileFormatRules(t.$t("rules.fileFormatRules"))},model:{value:t.selectedFormat,callback:function(e){t.selectedFormat=e},expression:"selectedFormat"}},t._l(t.formats,(function(t,i){return r("v-radio",{key:i,attrs:{label:t.text,value:t}})})),1),t._v(" "),t.selectedFormat?r("v-sheet",{staticClass:"mb-5 pa-5",attrs:{dark:!t.$vuetify.theme.dark,light:t.$vuetify.theme.dark}},t._l(t.selectedFormat.examples,(function(e,o){return r("span",{key:o},[t._v("\n          "+t._s(e)),r("br")])})),0):t._e(),t._v(" "),r("h2",[t._v(t._s(t.$t("dataset.importDataMessage2")))]),t._v(" "),r("v-file-input",{attrs:{accept:t.acceptType,rules:t.uploadFileRules(t.$t("rules.uploadFileRules")),label:t.$t("labels.filePlaceholder")},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1)]},proxy:!0}])})}),[],!1,null,null,null),T=I.exports;v()(I,{VAlert:P.a,VFileInput:E.a,VForm:V.a,VRadio:C.a,VRadioGroup:R.a,VSheet:S.a});var L={components:{BaseCard:w.a},props:{exportDocument:{type:Function,default:function(){},required:!0},formats:{type:Array,default:function(){return[]},required:!0}},data:function(){return{valid:!1,file:null,selectedFormat:null,fileFormatRules:F.c,uploadFileRules:F.i}},computed:{acceptType:function(){return this.selectedFormat?this.selectedFormat.accept:".txt,.csv,.json,.jsonl"}},methods:{cancel:function(){this.$emit("close")},validate:function(){return this.$refs.form.validate()},reset:function(){this.$refs.form.reset()},download:function(){this.validate()&&(this.exportDocument({projectId:this.$route.params.id,format:this.selectedFormat.type}),this.reset(),this.cancel())}}},A=Object(f.a)(L,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("base-card",{attrs:{disabled:!t.valid,title:"Export Data","agree-text":"Export","cancel-text":"Cancel"},on:{agree:t.download,cancel:t.cancel},scopedSlots:t._u([{key:"content",fn:function(){return[r("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("h2",[t._v(t._s(t.$t("dataset.importDataMessage1")))]),t._v(" "),r("v-radio-group",{attrs:{rules:t.fileFormatRules(t.$t("rules.fileFormatRules"))},model:{value:t.selectedFormat,callback:function(e){t.selectedFormat=e},expression:"selectedFormat"}},t._l(t.formats,(function(t,i){return r("v-radio",{key:i,attrs:{label:t.text,value:t}})})),1),t._v(" "),t.selectedFormat?r("v-sheet",{staticClass:"mb-5 pa-5",attrs:{dark:!t.$vuetify.theme.dark,light:t.$vuetify.theme.dark}},t._l(t.selectedFormat.examples,(function(e,o){return r("span",{key:o},[t._v("\n          "+t._s(e)),r("br")])})),0):t._e()],1)]},proxy:!0}])})}),[],!1,null,null,null),M=A.exports;function B(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function U(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?B(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):B(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}v()(A,{VForm:V.a,VRadio:C.a,VRadioGroup:R.a,VSheet:S.a});var z={components:{ActionMenu:_.a,DocumentUploadForm:T,DocumentExportForm:M},data:function(){return{importDialog:!1,exportDialog:!1,menuItems:[{title:this.$t("dataset.importDataset"),icon:"mdi-upload",event:"upload"},{title:this.$t("dataset.exportDataset"),icon:"mdi-download",event:"download"}]}},computed:U({},Object(c.c)("projects",["getImportFormat","getExportFormat"])),created:function(){this.setCurrentProject(this.$route.params.id)},methods:U(U({},Object(c.b)("documents",["uploadDocument","exportDocument"])),Object(c.b)("projects",["setCurrentProject"]))},G=r(792),J=Object(f.a)(z,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("action-menu",{attrs:{items:t.menuItems,text:t.$t("dataset.actions")},on:{upload:function(e){t.importDialog=!0},download:function(e){t.exportDialog=!0}}}),t._v(" "),r("v-dialog",{attrs:{width:"800"},model:{value:t.importDialog,callback:function(e){t.importDialog=e},expression:"importDialog"}},[r("document-upload-form",{attrs:{"upload-document":t.uploadDocument,formats:t.getImportFormat},on:{close:function(e){t.importDialog=!1}}})],1),t._v(" "),r("v-dialog",{attrs:{width:"800"},model:{value:t.exportDialog,callback:function(e){t.exportDialog=e},expression:"exportDialog"}},[r("document-export-form",{attrs:{"export-document":t.exportDocument,formats:t.getExportFormat},on:{close:function(e){t.exportDialog=!1}}})],1)],1)}),[],!1,null,null,null),N=J.exports;v()(J,{VDialog:G.a});function H(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function K(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?H(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):H(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var Q={components:{ConfirmForm:r(970).a},data:function(){return{dialog:!1}},computed:K(K({},Object(c.e)("documents",["selected"])),Object(c.c)("documents",["isDocumentSelected"])),methods:K(K({},Object(c.b)("documents",["deleteDocument"])),{},{handleDeleteDocument:function(){var t=this.$route.params.id;this.deleteDocument(t)}})},W=Object(f.a)(Q,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-btn",{staticClass:"text-capitalize",attrs:{disabled:!t.isDocumentSelected,outlined:""},on:{click:function(e){t.dialog=!0}}},[t._v("\n    "+t._s(t.$t("generic.delete"))+"\n  ")]),t._v(" "),r("v-dialog",{attrs:{width:"800"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("confirm-form",{attrs:{items:t.selected,title:t.$t("dataset.deleteDocumentsTitle"),message:t.$t("dataset.deleteDocumentsMessage"),"button-true-text":t.$t("generic.yes"),"button-false-text":t.$t("generic.cancel"),"item-key":"text"},on:{ok:function(e){t.deleteDocument(t.$route.params.id),t.dialog=!1},cancel:function(e){t.dialog=!1}}})],1)],1)}),[],!1,null,null,null),X=W.exports;v()(W,{VBtn:x.a,VDialog:G.a});var Y={layout:"project",components:{DocumentList:$,DocumentActionMenu:N,DocumentDeletionButton:X},validate:function(t){var e=t.params,r=t.query;return/^\d+$/.test(e.id)&&/^\d+|$/.test(r.limit)&&/^\d+|$/.test(r.offset)}},Z=r(197),tt=r(121),et=Object(f.a)(Y,(function(){var t=this.$createElement,e=this._self._c||t;return e("v-card",[e("v-card-title",{staticClass:"mb-2"},[e("document-action-menu"),this._v(" "),e("document-deletion-button",{staticClass:"ms-2"})],1),this._v(" "),e("document-list")],1)}),[],!1,null,null,null);e.default=et.exports;v()(et,{VCard:Z.a,VCardTitle:tt.c})}}]);