- project:
    templates:
      - ansible-role-jobs
      - build-openstack-docs-pti
      - docs-on-readthedocs
      - openstack-cover-jobs
      - openstack-lower-constraints-jobs
      - openstack-python3-wallaby-jobs
      - publish-to-pypi
      - build-release-notes-jobs-python3
    vars:
        rtd_webhook_id: '84947'

    check:
      jobs:
        # - devstack-tobiko-functional-centos
        - devstack-tobiko-functional-ubuntu
        # - devstack-tobiko-functional-ovn-centos
        - devstack-tobiko-functional-ovn-ubuntu
        # - devstack-tobiko-faults-centos
        # - devstack-tobiko-faults-ubuntu
        # - devstack-tobiko-faults-ovn-centos
        # - devstack-tobiko-faults-ovn-ubuntu
        # - devstack-tobiko-scenario-ovn-centos
        - devstack-tobiko-scenario-ovn-ubuntu
        - tobiko-tox-infrared-centos-7
        - tobiko-tox-infrared-centos-8
        - tobiko-tox-infrared-fedora-latest
        - tobiko-tox-infrared-ubuntu-focal

    gate:
      jobs:
        # - devstack-tobiko-functional-centos
        - devstack-tobiko-functional-ubuntu
        # - devstack-tobiko-functional-ovn-centos
        - devstack-tobiko-functional-ovn-ubuntu
        # - devstack-tobiko-scenario-ovn-centos
        - devstack-tobiko-scenario-ovn-ubuntu
        - tobiko-tox-infrared-centos-8

    periodic:
      jobs:
        - tripleo-ci-centos-8-content-provider
        - devstack-tobiko-functional-centos
        - devstack-tobiko-functional-ubuntu
        - devstack-tobiko-functional-ovn-centos
        - devstack-tobiko-functional-ovn-ubuntu
        - devstack-tobiko-faults-centos
        - devstack-tobiko-faults-ubuntu
        - devstack-tobiko-faults-ovn-centos
        - devstack-tobiko-faults-ovn-ubuntu
        - devstack-tobiko-scenario-ovn-centos
        - devstack-tobiko-scenario-ovn-ubuntu
        - tobiko-tripleo-functional:
            vars: &consumer_vars
              consumer_job: true
              build_container_images: false
              remove_tags:
                - build
            dependencies: &deps_cprovider
              - tripleo-ci-centos-8-content-provider
        - tobiko-tripleo-faults:
            vars: *consumer_vars
            dependencies: *deps_cprovider
