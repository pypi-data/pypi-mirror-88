# Generated by the protocol buffer compiler.  DO NOT EDIT!
# sources: activity/v1/jss20.proto
# plugin: python-betterproto
import logging
from typing import List

import allure
from dataclasses import dataclass

import betterproto


@dataclass
class JSS20EmptyData(betterproto.Message):
    pass


@dataclass
class JSS20MainResp(betterproto.Message):
    code: int = betterproto.int32_field(1)
    msg: str = betterproto.string_field(2)
    data: "JSS20MainData" = betterproto.message_field(3)


@dataclass
class JSS20MainData(betterproto.Message):
    # 当前时间 RFC 3339
    now: str = betterproto.string_field(1)
    # 漫画榜单列表
    comics: List["JSS20ComicRankingItem"] = betterproto.message_field(2)
    # 我的金瓜子数
    gold: int = betterproto.int32_field(3)


@dataclass
class JSS20ComicRankingItem(betterproto.Message):
    # 漫画 id
    comic_id: int = betterproto.int32_field(1)
    # 我的粉丝值
    my_score: int = betterproto.int64_field(2)
    # 我的排名
    my_rank: int = betterproto.int32_field(3)
    # 应援榜用户
    users: List["JSS20RankingUserItem"] = betterproto.message_field(4)


@dataclass
class JSS20RankingUserItem(betterproto.Message):
    # 粉丝值
    score: int = betterproto.int64_field(1)
    # 头像
    avatar: str = betterproto.string_field(2)
    # 用户名
    user_name: str = betterproto.string_field(3)
    # uid
    uid: int = betterproto.int64_field(4)


class Jss20Stub(betterproto.ServiceStub):
    """Japanese Summer Support 2020 日漫暑期应援周 简称 JSS20"""

    @allure.step("""2020 日漫暑假应援活动 - 主接口""")
    def main(self, request: JSS20EmptyData) -> JSS20MainResp:
        """2020 日漫暑假应援活动 - 主接口"""
        logging.getLogger(__name__).info(
            "start call " + "[main]" + " api" + "=>" + """2020 日漫暑假应援活动 - 主接口"""
        )
        response = JSS20MainResp()
        self._do_twirp_rpc("/activity.v1.Jss20/Main", request, response)
        logging.getLogger(__name__).info("call " + "[main]" + " api success!")
        return response
