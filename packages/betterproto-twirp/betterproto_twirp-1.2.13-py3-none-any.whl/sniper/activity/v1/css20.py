# Generated by the protocol buffer compiler.  DO NOT EDIT!
# sources: activity/v1/css20.proto
# plugin: python-betterproto
import logging
from typing import List

import allure
from dataclasses import dataclass

import betterproto


@dataclass
class CSS20EmptyData(betterproto.Message):
    pass


@dataclass
class CSS20MainResp(betterproto.Message):
    code: int = betterproto.int32_field(1)
    msg: str = betterproto.string_field(2)
    data: "CSS20MainData" = betterproto.message_field(3)


@dataclass
class CSS20MyRankResp(betterproto.Message):
    code: int = betterproto.int32_field(1)
    msg: str = betterproto.string_field(2)
    data: "CSS20MyRankData" = betterproto.message_field(3)


@dataclass
class CSS20MyRankData(betterproto.Message):
    # 漫画数组
    comics: List["CSS20MyRankItem"] = betterproto.message_field(1)


@dataclass
class CSS20MyRankItem(betterproto.Message):
    # 漫画 id
    id: int = betterproto.int32_field(1)
    # 漫画标题
    title: str = betterproto.string_field(2)
    # 漫画封面
    cover: str = betterproto.string_field(3)


@dataclass
class CSS20MainData(betterproto.Message):
    # 当前时间 RFC 3339
    now: str = betterproto.string_field(1)
    # 漫画榜单列表（以 id 升序排列）
    comics: List["CSS20ComicRankingItem"] = betterproto.message_field(2)
    # 我的金瓜子数
    gold: int = betterproto.int32_field(3)


@dataclass
class CSS20ComicRankingItem(betterproto.Message):
    # 漫画 id
    comic_id: int = betterproto.int32_field(1)
    # 我的粉丝值
    my_score: int = betterproto.int64_field(2)
    # 我的排名
    my_rank: int = betterproto.int32_field(3)
    # 应援榜用户
    users: List["CSS20RankingUserItem"] = betterproto.message_field(4)


@dataclass
class CSS20RankingUserItem(betterproto.Message):
    # 粉丝值
    score: int = betterproto.int64_field(1)
    # 头像
    avatar: str = betterproto.string_field(2)
    # 用户名
    user_name: str = betterproto.string_field(3)
    # uid
    uid: int = betterproto.int64_field(4)


class Css20Stub(betterproto.ServiceStub):
    """Chinese Summer Support 2020 国韩漫暑期应援周 简称 CSS20"""

    @allure.step("""2020 国韩漫暑假应援活动 - 主接口""")
    def main(self, request: CSS20EmptyData) -> CSS20MainResp:
        """2020 国韩漫暑假应援活动 - 主接口"""
        logging.getLogger(__name__).info(
            "start call " + "[main]" + " api" + "=>" + """2020 国韩漫暑假应援活动 - 主接口"""
        )
        response = CSS20MainResp()
        self._do_twirp_rpc("/activity.v1.Css20/Main", request, response)
        logging.getLogger(__name__).info("call " + "[main]" + " api success!")
        return response

    @allure.step("""2020 国韩漫暑假应援活动 - 我的排行接口""")
    def my_rank(self, request: CSS20EmptyData) -> CSS20MyRankResp:
        """2020 国韩漫暑假应援活动 - 我的排行接口"""
        logging.getLogger(__name__).info(
            "start call " + "[my_rank]" + " api" + "=>" + """2020 国韩漫暑假应援活动 - 我的排行接口"""
        )
        response = CSS20MyRankResp()
        self._do_twirp_rpc("/activity.v1.Css20/MyRank", request, response)
        logging.getLogger(__name__).info("call " + "[my_rank]" + " api success!")
        return response
