#auto generated by Cfg4Py: https://github.com/jieyu-tech/cfg4py
logging:
  disable_existing_loggers: false
  formatters:
    default:
      #format: '%(asctime)s %(levelname)-1.1s %(filename)s:%(funcName)s:%(lineno)s | %(message)s'
      format: '%(asctime)s %(levelname)-1.1s %(process)d %(name)s:%(funcName)s:%(lineno)s | %(message)s'
    validation:
      format: 'VALIDATION: %(message)s'
    quickscan:
      format: 'QUICKSCAN: %(message)s'
  handlers:
    console:
      class: logging.StreamHandler
      formatter: default
    develop:
      class: logging.handlers.RotatingFileHandler
      formatter: default
      filename: /var/log/zillionare/omega.log
    production:
      class: logging.handlers.SysLogHandler
      address: /dev/log
      facility: local6
      formatter: default
  loggers:
    apscheduler:
      level: INFO
    pyemit:
      level: DEBUG
  root:
    handlers:
      - develop
    level: INFO
  version: 1
tz: Asia/Shanghai
redis:
  dsn: redis://localhost:6379
postgres:
  dsn: postgres://${pg_account}:${pg_password}@localhost/zillionare
  enabled: false
pickle:
  ver: 4
omega:
  home: ~/zillionare/omgea
  urls:
    checksum: http://stock.jieyu.ai/chksum
    quotes_server: http://localhost:3181
  heartbeat: 10
  sync:
    security_list: 02:00
    calendar: 02:00
    bars:
      - frame: '1W'
        start: '2005-1-1'
        type:
            - stock
      - frame: '1M'
        start: '2005-1-1'
        type:
            - stock
      - frame: '1Q'
        start: '2005-1-1'
        type:
            - stock
      - frame: '1Y'
        start: '2005-1-1'
        type:
            - stock
      - frame: '1d'
        start: '2018-1-1'
        delay: 0 # delay * seconds after the frame is done
        type:
          - stock # stock | index
      - frame: '30m'
        start: '2020-1-1'
        delay: 60 # delay 1 minute
        type:
          - stock

quotes_fetchers:
  - impl: jqadaptor    # there must be a create_instance method in this module
    workers:
      - account: ${jq_account}
        password: ${jq_password}
        port: 3181
        # note! for the first group, if you set n, then you'll get n + 1 workers
        sessions: 2
