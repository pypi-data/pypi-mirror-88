{"version":3,"sources":["elements/emby-progressbar/emby-progressbar.js"],"names":["define","ProgressBarPrototype","Object","create","HTMLDivElement","prototype","onAutoTimeProgress","start","parseInt","this","getAttribute","end","pct","Date","getTime","Math","min","max","querySelector","style","width","attachedCallback","timeInterval","clearInterval","setInterval","bind","detachedCallback","document","registerElement","extends"],"mappings":"AAAA,aAAAA,OAAO,IAAI,WAGP,IAAIC,qBAAuBC,OAAOC,OAAOC,eAAeC,WAExD,SAASC,qBACL,IAAIC,MAAQC,SAASC,KAAKC,aAAa,mBACnCC,IAAMH,SAASC,KAAKC,aAAa,iBAIjCE,MAFM,IAAIC,MAAOC,UAEGP,QADZI,IAAMJ,OACR,IAEVK,IAAMG,KAAKC,IAAI,IAAKJ,KACpBA,IAAMG,KAAKE,IAAI,EAAGL,KAEcH,KAAKS,cAAc,8BACzBC,MAAMC,MAAQR,IAAM,IAGlDX,qBAAqBoB,iBAAmB,WAChCZ,KAAKa,cACLC,cAAcd,KAAKa,cAGoB,SAAvCb,KAAKC,aAAa,mBAClBD,KAAKa,aAAeE,YAAYlB,mBAAmBmB,KAAKhB,MAAO,OAIvER,qBAAqByB,iBAAmB,WAChCjB,KAAKa,eACLC,cAAcd,KAAKa,cACnBb,KAAKa,aAAe,OAI5BK,SAASC,gBAAgB,mBAAoB,CACzCvB,UAAWJ,qBACX4B,QAAS","file":"emby-progressbar.js","sourcesContent":["define([], function() {\n    'use strict';\n\n    var ProgressBarPrototype = Object.create(HTMLDivElement.prototype);\n\n    function onAutoTimeProgress() {\n        var start = parseInt(this.getAttribute('data-starttime'));\n        var end = parseInt(this.getAttribute('data-endtime'));\n\n        var now = new Date().getTime();\n        var total = end - start;\n        var pct = 100 * ((now - start) / total);\n\n        pct = Math.min(100, pct);\n        pct = Math.max(0, pct);\n\n        var itemProgressBarForeground = this.querySelector('.itemProgressBarForeground');\n        itemProgressBarForeground.style.width = pct + '%';\n    }\n\n    ProgressBarPrototype.attachedCallback = function () {\n        if (this.timeInterval) {\n            clearInterval(this.timeInterval);\n        }\n\n        if (this.getAttribute('data-automode') === 'time') {\n            this.timeInterval = setInterval(onAutoTimeProgress.bind(this), 60000);\n        }\n    };\n\n    ProgressBarPrototype.detachedCallback = function () {\n        if (this.timeInterval) {\n            clearInterval(this.timeInterval);\n            this.timeInterval = null;\n        }\n    };\n\n    document.registerElement('emby-progressbar', {\n        prototype: ProgressBarPrototype,\n        extends: 'div'\n    });\n});\n"]}