{"version":3,"sources":["elements/emby-button/emby-button.js"],"names":["define","browser","dom","layoutManager","shell","appRouter","appHost","EmbyButtonPrototype","Object","create","HTMLButtonElement","prototype","EmbyLinkButtonPrototype","HTMLAnchorElement","onAnchorClick","e","href","this","getAttribute","supports","preventDefault","openUrl","handleAnchorClick","createdCallback","classList","contains","add","tv","attachedCallback","tagName","removeEventListener","addEventListener","remove","detachedCallback","document","registerElement","extends"],"mappings":"AAAA,aAAAA,OAAO,CAAC,UAAW,MAAO,gBAAiB,QAAS,YAAa,UAAW,oBAAqB,kBAAkB,SAAUC,QAASC,IAAKC,cAAeC,MAAOC,UAAWC,SAGxK,IAAIC,oBAAsBC,OAAOC,OAAOC,kBAAkBC,WACtDC,wBAA0BJ,OAAOC,OAAOI,kBAAkBF,WAE9D,SAASG,cAAcC,GACnB,IAAIC,KAAOC,KAAKC,aAAa,SAAW,GAC3B,MAATF,KACIC,KAAKC,aAAa,UACbZ,QAAQa,SAAS,iBAClBJ,EAAEK,iBACFhB,MAAMiB,QAAQL,OAGlBX,UAAUiB,kBAAkBP,GAGhCA,EAAEK,iBAkDV,OA9CAb,oBAAoBgB,gBAAkB,WAC9BN,KAAKO,UAAUC,SAAS,iBAI5BR,KAAKO,UAAUE,IAAI,eAEfvB,cAAcwB,IAGdV,KAAKO,UAAUE,IAAI,gBAI3BnB,oBAAoBqB,iBAAmB,WACd,MAAjBX,KAAKY,UACL3B,IAAI4B,oBAAoBb,KAAM,QAASH,cAAe,IACtDZ,IAAI6B,iBAAiBd,KAAM,QAASH,cAAe,IAER,SAAvCG,KAAKC,aAAa,mBACdZ,QAAQa,SAAS,iBACjBF,KAAKO,UAAUQ,OAAO,QAEtBf,KAAKO,UAAUE,IAAI,WAMnCnB,oBAAoB0B,iBAAmB,WACnC/B,IAAI4B,oBAAoBb,KAAM,QAASH,cAAe,KAG1DF,wBAAwBW,gBAAkBhB,oBAAoBgB,gBAC9DX,wBAAwBgB,iBAAmBrB,oBAAoBqB,iBAE/DM,SAASC,gBAAgB,cAAe,CACpCxB,UAAWJ,oBACX6B,QAAS,WAGbF,SAASC,gBAAgB,kBAAmB,CACxCxB,UAAWC,wBACXwB,QAAS,MAGN7B","file":"emby-button.js","sourcesContent":["define(['browser', 'dom', 'layoutManager', 'shell', 'appRouter', 'apphost', 'css!./emby-button', 'webcomponents'], function (browser, dom, layoutManager, shell, appRouter, appHost) {\n    'use strict';\n\n    var EmbyButtonPrototype = Object.create(HTMLButtonElement.prototype);\n    var EmbyLinkButtonPrototype = Object.create(HTMLAnchorElement.prototype);\n\n    function onAnchorClick(e) {\n        var href = this.getAttribute('href') || '';\n        if (href !== '#') {\n            if (this.getAttribute('target')) {\n                if (!appHost.supports('targetblank')) {\n                    e.preventDefault();\n                    shell.openUrl(href);\n                }\n            } else {\n                appRouter.handleAnchorClick(e);\n            }\n        } else {\n            e.preventDefault();\n        }\n    }\n\n    EmbyButtonPrototype.createdCallback = function () {\n        if (this.classList.contains('emby-button')) {\n            return;\n        }\n\n        this.classList.add('emby-button');\n        // TODO replace all instances of element-showfocus with this method\n        if (layoutManager.tv) {\n            // handles all special css for tv layout\n            // this method utilizes class chaining\n            this.classList.add('show-focus');\n        }\n    };\n\n    EmbyButtonPrototype.attachedCallback = function () {\n        if (this.tagName === 'A') {\n            dom.removeEventListener(this, 'click', onAnchorClick, {});\n            dom.addEventListener(this, 'click', onAnchorClick, {});\n\n            if (this.getAttribute('data-autohide') === 'true') {\n                if (appHost.supports('externallinks')) {\n                    this.classList.remove('hide');\n                } else {\n                    this.classList.add('hide');\n                }\n            }\n        }\n    };\n\n    EmbyButtonPrototype.detachedCallback = function () {\n        dom.removeEventListener(this, 'click', onAnchorClick, {});\n    };\n\n    EmbyLinkButtonPrototype.createdCallback = EmbyButtonPrototype.createdCallback;\n    EmbyLinkButtonPrototype.attachedCallback = EmbyButtonPrototype.attachedCallback;\n\n    document.registerElement('emby-button', {\n        prototype: EmbyButtonPrototype,\n        extends: 'button'\n    });\n\n    document.registerElement('emby-linkbutton', {\n        prototype: EmbyLinkButtonPrototype,\n        extends: 'a'\n    });\n\n    return EmbyButtonPrototype;\n});\n"]}