{"version":3,"sources":["components/playmenu.js"],"names":["define","_exports","_actionsheet","_datetime","_playbackManager","_globalize","_interopRequireDefault","obj","__esModule","default","show","options","item","resumePositionTicks","UserData","PlaybackPositionTicks","playableItemId","Type","ChannelId","Id","IsFolder","menuItems","push","name","globalize","translate","datetime","getDisplayRunningTime","id","actionsheet","items","positionTo","then","playbackManager","play","ids","serverId","ServerId","startPositionTicks","queue","shuffle","Object","defineProperty","value","_default"],"mappings":"AAAAA,OAAO,CAAC,UAAW,cAAe,WAAY,kBAAmB,cAAc,SAAUC,SAAUC,aAAcC,UAAWC,iBAAkBC,YAC5I,aAYA,SAASC,uBAAuBC,KAAO,OAAOA,KAAOA,IAAIC,WAAaD,IAAM,CAAEE,QAASF,KARlF,SAASG,KAAKC,SAEjB,IAAIC,KAAOD,QAAQC,KAEfC,oBAAsBD,KAAKE,SAAWF,KAAKE,SAASC,sBAAwB,KAE5EC,eAA+B,YAAdJ,KAAKK,KAAqBL,KAAKM,UAAYN,KAAKO,GAErE,GAAKN,sBAAuBD,KAAKQ,SAAjC,CAQA,IAAIC,UAAY,GAEhBA,UAAUC,KAAK,CACXC,KAAMC,WAAAA,QAAUC,UAAU,WAAYC,UAAAA,QAASC,sBAAsBd,sBACrEe,GAAI,WAGRP,UAAUC,KAAK,CACXC,KAAMC,WAAAA,QAAUC,UAAU,qBAC1BG,GAAI,SAGRC,aAAAA,QAAYnB,KAAK,CAEboB,MAAOT,UACPU,WAAYpB,QAAQoB,aAErBC,MAAK,SAAUJ,IACd,OAAQA,IAEJ,IAAK,OACDK,iBAAAA,QAAgBC,KAAK,CACjBC,IAAK,CAACnB,gBACNoB,SAAUxB,KAAKyB,WAEnB,MACJ,IAAK,SACDJ,iBAAAA,QAAgBC,KAAK,CACjBC,IAAK,CAACnB,gBACNsB,mBAAoBzB,oBACpBuB,SAAUxB,KAAKyB,WAEnB,MACJ,IAAK,QACDJ,iBAAAA,QAAgBM,MAAM,CAClBT,MAAO,CAAClB,QAEZ,MACJ,IAAK,UACDqB,iBAAAA,QAAgBO,QAAQ5B,eA9ChCqB,iBAAAA,QAAgBC,KAAK,CACjBC,IAAK,CAACnB,gBACNoB,SAAUxB,KAAKyB,WAbzBI,OAAOC,eAAezC,SAAU,aAAc,CAC5C0C,OAAO,IAET1C,SAASS,KAAOA,KAChBT,SAASQ,aAAU,EAPrBP,aAAAI,uBAAAJ,cACAC,UAAAG,uBAAAH,WACAC,iBAAAE,uBAAAF,kBACAC,WAAAC,uBAAAD,YA4EE,IAAIuC,SAXS,CACXlC,KAAMA,MAaRT,SAASQ,QAAUmC","file":"playmenu.js","sourcesContent":["import actionsheet from 'actionsheet';\nimport datetime from 'datetime';\nimport playbackManager from 'playbackManager';\nimport globalize from 'globalize';\n\nexport function show(options) {\n\n    var item = options.item;\n\n    var resumePositionTicks = item.UserData ? item.UserData.PlaybackPositionTicks : null;\n\n    var playableItemId = item.Type === 'Program' ? item.ChannelId : item.Id;\n\n    if (!resumePositionTicks || item.IsFolder) {\n        playbackManager.play({\n            ids: [playableItemId],\n            serverId: item.ServerId\n        });\n        return;\n    }\n\n    var menuItems = [];\n\n    menuItems.push({\n        name: globalize.translate('ResumeAt', datetime.getDisplayRunningTime(resumePositionTicks)),\n        id: 'resume'\n    });\n\n    menuItems.push({\n        name: globalize.translate('PlayFromBeginning'),\n        id: 'play'\n    });\n\n    actionsheet.show({\n\n        items: menuItems,\n        positionTo: options.positionTo\n\n    }).then(function (id) {\n        switch (id) {\n\n            case 'play':\n                playbackManager.play({\n                    ids: [playableItemId],\n                    serverId: item.ServerId\n                });\n                break;\n            case 'resume':\n                playbackManager.play({\n                    ids: [playableItemId],\n                    startPositionTicks: resumePositionTicks,\n                    serverId: item.ServerId\n                });\n                break;\n            case 'queue':\n                playbackManager.queue({\n                    items: [item]\n                });\n                break;\n            case 'shuffle':\n                playbackManager.shuffle(item);\n                break;\n            default:\n                break;\n        }\n    });\n}\n\nexport default {\n    show: show\n};\n"]}