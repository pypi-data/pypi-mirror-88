{"version":3,"sources":["components/filterdialog/filterdialog.js"],"names":["define","_require","_exports","_dom","_dialogHelper","_globalize","_connectionManager","_events","_embyCheckbox","_embyCollapse","_style","_interopRequireDefault","obj","__esModule","default","_typeof","Symbol","iterator","constructor","prototype","_getRequireWildcardCache","WeakMap","cache","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createForOfIteratorHelper","o","allowArrayLike","it","Array","isArray","_unsupportedIterableToArray","minLen","_arrayLikeToArray","n","toString","call","slice","name","from","test","F","s","done","value","e","_e","f","TypeError","err","normalCompletion","didErr","step","next","_e2","return","arr","len","arr2","renderOptions","context","selector","cssClass","items","isCheckedFn","elem","querySelector","classList","remove","add","html","map","filter","itemHtml","checkedHtml","concat","join","innerHTML","loadDynamicFilters","apiClient","userId","itemQuery","getJSON","getUrl","UserId","ParentId","IncludeItemTypes","then","result","renderFilters","query","Tags","Math","min","Genres","includes","OfficialRatings","Years","triggerChange","instance","events","trigger","setVisibility","options","mode","hideByClass","className","_step5","_iterator5","querySelectorAll","enableDynamicFilters","showByClass","_step4","_iterator4","_default","FilterDialog","_classCallCheck","Constructor","this","_createClass","protoProps","staticProps","onFavoriteChange","StartIndex","IsFavorite","checked","onStandardFilterChange","filterName","getAttribute","filters","Filters","replace","substring","onVideoTypeFilterChange","VideoTypes","onStatusChange","SeriesStatus","bindEvents","_this","_step6","_iterator6","_loop","addEventListener","chkLikes","IsLiked","chkDislikes","IsDisliked","_step7","_iterator7","_loop2","_step8","_iterator8","_loop3","chk3DFilter","Is3D","chk4KFilter","Is4K","chkHDFilter","IsHD","chkSDFilter","_step9","_iterator9","_loop4","chkTrailer","HasTrailer","chkThemeSong","HasThemeSong","chkSpecialFeature","HasSpecialFeature","chkThemeVideo","HasThemeVideo","chkMissingEpisode","IsMissing","chkSpecialEpisode","ParentIndexNumber","chkFutureEpisode","IsUnaired","IsVirtualUnaired","chkSubtitle","HasSubtitles","chkGenreFilter","dom","parentWithClass","chkTagFilter","chkYearFilter","chkOfficialRatingFilter","show","_this2","Promise","_resolve","_reject","imported","_interopRequireWildcard","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","hasOwnProperty","desc","set","_ref","template","resolve","dlg","dialogHelper","createDialog","removeOnClose","modal","globalize","translateDocument","open","updateFilterControls","_step","_iterator","_step2","_iterator2","_step3","_iterator3","connectionManager","getApiClient","serverId","getCurrentUserId"],"mappings":"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","file":"filterdialog.js","sourcesContent":["import dom from 'dom';\nimport dialogHelper from 'dialogHelper';\nimport globalize from 'globalize';\nimport connectionManager from 'connectionManager';\nimport events from 'events';\nimport 'emby-checkbox';\nimport 'emby-collapse';\nimport 'css!./style.css';\n\n/* eslint-disable indent */\n    function renderOptions(context, selector, cssClass, items, isCheckedFn) {\n        const elem = context.querySelector(selector);\n        if (items.length) {\n            elem.classList.remove('hide');\n        } else {\n            elem.classList.add('hide');\n        }\n        let html = '';\n        html += '<div class=\"checkboxList\">';\n        html += items.map(function (filter) {\n            let itemHtml = '';\n            const checkedHtml = isCheckedFn(filter) ? 'checked' : '';\n            itemHtml += '<label>';\n            itemHtml += `<input is=\"emby-checkbox\" type=\"checkbox\" ${checkedHtml} data-filter=\"${filter}\" class=\"${cssClass}\"/>`;\n            itemHtml += `<span>${filter}</span>`;\n            itemHtml += '</label>';\n            return itemHtml;\n        }).join('');\n        html += '</div>';\n        elem.querySelector('.filterOptions').innerHTML = html;\n    }\n\n    function renderFilters(context, result, query) {\n        if (result.Tags) {\n            result.Tags.length = Math.min(result.Tags.length, 50);\n        }\n        renderOptions(context, '.genreFilters', 'chkGenreFilter', result.Genres, function (i) {\n            const delimeter = '|';\n            return (delimeter + (query.Genres || '') + delimeter).includes(delimeter + i + delimeter);\n        });\n        renderOptions(context, '.officialRatingFilters', 'chkOfficialRatingFilter', result.OfficialRatings, function (i) {\n            const delimeter = '|';\n            return (delimeter + (query.OfficialRatings || '') + delimeter).includes(delimeter + i + delimeter);\n        });\n        renderOptions(context, '.tagFilters', 'chkTagFilter', result.Tags, function (i) {\n            const delimeter = '|';\n            return (delimeter + (query.Tags || '') + delimeter).includes(delimeter + i + delimeter);\n        });\n        renderOptions(context, '.yearFilters', 'chkYearFilter', result.Years, function (i) {\n            const delimeter = ',';\n            return (delimeter + (query.Years || '') + delimeter).includes(delimeter + i + delimeter);\n        });\n    }\n\n    function loadDynamicFilters(context, apiClient, userId, itemQuery) {\n        return apiClient.getJSON(apiClient.getUrl('Items/Filters', {\n            UserId: userId,\n            ParentId: itemQuery.ParentId,\n            IncludeItemTypes: itemQuery.IncludeItemTypes\n        })).then(function (result) {\n            renderFilters(context, result, itemQuery);\n        });\n    }\n\n    /**\n     * @param context {HTMLDivElement} Dialog\n     * @param options {any} Options\n     */\n    function updateFilterControls(context, options) {\n        const query = options.query;\n\n        if (options.mode === 'livetvchannels') {\n            context.querySelector('.chkFavorite').checked = query.IsFavorite === true;\n            context.querySelector('.chkLikes').checked = query.IsLiked === true;\n            context.querySelector('.chkDislikes').checked = query.IsDisliked === true;\n        } else {\n            for (const elem of context.querySelectorAll('.chkStandardFilter')) {\n                const filters = `,${query.Filters || ''}`;\n                const filterName = elem.getAttribute('data-filter');\n                elem.checked = filters.includes(`,${filterName}`);\n            }\n        }\n\n        for (const elem of context.querySelectorAll('.chkVideoTypeFilter')) {\n            const filters = `,${query.VideoTypes || ''}`;\n            const filterName = elem.getAttribute('data-filter');\n            elem.checked = filters.includes(`,${filterName}`);\n        }\n        context.querySelector('.chk3DFilter').checked = query.Is3D === true;\n        context.querySelector('.chkHDFilter').checked = query.IsHD === true;\n        context.querySelector('.chk4KFilter').checked = query.Is4K === true;\n        context.querySelector('.chkSDFilter').checked = query.IsHD === true;\n        context.querySelector('#chkSubtitle').checked = query.HasSubtitles === true;\n        context.querySelector('#chkTrailer').checked = query.HasTrailer === true;\n        context.querySelector('#chkThemeSong').checked = query.HasThemeSong === true;\n        context.querySelector('#chkThemeVideo').checked = query.HasThemeVideo === true;\n        context.querySelector('#chkSpecialFeature').checked = query.HasSpecialFeature === true;\n        context.querySelector('#chkSpecialEpisode').checked = query.ParentIndexNumber === 0;\n        context.querySelector('#chkMissingEpisode').checked = query.IsMissing === true;\n        context.querySelector('#chkFutureEpisode').checked = query.IsUnaired === true;\n        for (const elem of context.querySelectorAll('.chkStatus')) {\n            const filters = `,${query.SeriesStatus || ''}`;\n            const filterName = elem.getAttribute('data-filter');\n            elem.checked = filters.includes(`,${filterName}`);\n        }\n    }\n\n    /**\n     * @param instance {FilterDialog} An instance of FilterDialog\n     */\n    function triggerChange(instance) {\n        events.trigger(instance, 'filterchange');\n    }\n\n    function setVisibility(context, options) {\n        if (options.mode === 'livetvchannels' || options.mode === 'albums' || options.mode === 'artists' || options.mode === 'albumartists' || options.mode === 'songs') {\n            hideByClass(context, 'videoStandard');\n        }\n\n        if (enableDynamicFilters(options.mode)) {\n            context.querySelector('.genreFilters').classList.remove('hide');\n            context.querySelector('.officialRatingFilters').classList.remove('hide');\n            context.querySelector('.tagFilters').classList.remove('hide');\n            context.querySelector('.yearFilters').classList.remove('hide');\n        }\n\n        if (options.mode === 'movies' || options.mode === 'episodes') {\n            context.querySelector('.videoTypeFilters').classList.remove('hide');\n        }\n\n        if (options.mode === 'movies' || options.mode === 'series' || options.mode === 'episodes') {\n            context.querySelector('.features').classList.remove('hide');\n        }\n\n        if (options.mode === 'series') {\n            context.querySelector('.seriesStatus').classList.remove('hide');\n        }\n\n        if (options.mode === 'episodes') {\n            showByClass(context, 'episodeFilter');\n        }\n    }\n\n    function showByClass(context, className) {\n        for (const elem of context.querySelectorAll(`.${className}`)) {\n            elem.classList.remove('hide');\n        }\n    }\n\n    function hideByClass(context, className) {\n        for (const elem of context.querySelectorAll(`.${className}`)) {\n            elem.classList.add('hide');\n        }\n    }\n\n    function enableDynamicFilters(mode) {\n        return mode === 'movies' || mode === 'series' || mode === 'albums' || mode === 'albumartists' || mode === 'artists' || mode === 'songs' || mode === 'episodes';\n    }\n\n    class FilterDialog {\n        constructor(options) {\n            /**\n             * @private\n             */\n            this.options = options;\n        }\n\n        /**\n         * @private\n         */\n        onFavoriteChange(elem) {\n            const query = this.options.query;\n            query.StartIndex = 0;\n            query.IsFavorite = !!elem.checked || null;\n            triggerChange(this);\n        }\n\n        /**\n         * @private\n         */\n        onStandardFilterChange(elem) {\n            const query = this.options.query;\n            const filterName = elem.getAttribute('data-filter');\n            let filters = query.Filters || '';\n            filters = (`,${filters}`).replace(`,${filterName}`, '').substring(1);\n\n            if (elem.checked) {\n                filters = filters ? `${filters},${filterName}` : filterName;\n            }\n\n            query.StartIndex = 0;\n            query.Filters = filters;\n            triggerChange(this);\n        }\n\n        /**\n         * @private\n         */\n        onVideoTypeFilterChange(elem) {\n            const query = this.options.query;\n            const filterName = elem.getAttribute('data-filter');\n            let filters = query.VideoTypes || '';\n            filters = (`,${filters}`).replace(`,${filterName}`, '').substring(1);\n\n            if (elem.checked) {\n                filters = filters ? `${filters},${filterName}` : filterName;\n            }\n\n            query.StartIndex = 0;\n            query.VideoTypes = filters;\n            triggerChange(this);\n        }\n\n        /**\n         * @private\n         */\n        onStatusChange(elem) {\n            const query = this.options.query;\n            const filterName = elem.getAttribute('data-filter');\n            let filters = query.SeriesStatus || '';\n            filters = (`,${filters}`).replace(`,${filterName}`, '').substring(1);\n\n            if (elem.checked) {\n                filters = filters ? `${filters},${filterName}` : filterName;\n            }\n\n            query.SeriesStatus = filters;\n            query.StartIndex = 0;\n            triggerChange(this);\n        }\n\n        /**\n         * @param context {HTMLDivElement} The dialog\n         */\n        bindEvents(context) {\n            const query = this.options.query;\n\n            if (this.options.mode === 'livetvchannels') {\n                for (const elem of context.querySelectorAll('.chkFavorite')) {\n                    elem.addEventListener('change', () => this.onFavoriteChange(elem));\n                }\n\n                const chkLikes = context.querySelector('.chkLikes');\n                chkLikes.addEventListener('change', () => {\n                    query.StartIndex = 0;\n                    query.IsLiked = chkLikes.checked ? true : null;\n                    triggerChange(this);\n                });\n                const chkDislikes = context.querySelector('.chkDislikes');\n                chkDislikes.addEventListener('change', () => {\n                    query.StartIndex = 0;\n                    query.IsDisliked = chkDislikes.checked ? true : null;\n                    triggerChange(this);\n                });\n            } else {\n                for (const elem of context.querySelectorAll('.chkStandardFilter')) {\n                    elem.addEventListener('change', () => this.onStandardFilterChange(elem));\n                }\n            }\n\n            for (const elem of context.querySelectorAll('.chkVideoTypeFilter')) {\n                elem.addEventListener('change', () => this.onVideoTypeFilterChange(elem));\n            }\n            const chk3DFilter = context.querySelector('.chk3DFilter');\n            chk3DFilter.addEventListener('change', () => {\n                query.StartIndex = 0;\n                query.Is3D = chk3DFilter.checked ? true : null;\n                triggerChange(this);\n            });\n            const chk4KFilter = context.querySelector('.chk4KFilter');\n            chk4KFilter.addEventListener('change', () => {\n                query.StartIndex = 0;\n                query.Is4K = chk4KFilter.checked ? true : null;\n                triggerChange(this);\n            });\n            const chkHDFilter = context.querySelector('.chkHDFilter');\n            chkHDFilter.addEventListener('change', () => {\n                query.StartIndex = 0;\n                query.IsHD = chkHDFilter.checked ? true : null;\n                triggerChange(this);\n            });\n            const chkSDFilter = context.querySelector('.chkSDFilter');\n            chkSDFilter.addEventListener('change', () => {\n                query.StartIndex = 0;\n                query.IsHD = chkSDFilter.checked ? false : null;\n                triggerChange(this);\n            });\n            for (const elem of context.querySelectorAll('.chkStatus')) {\n                elem.addEventListener('change', () => this.onStatusChange(elem));\n            }\n            const chkTrailer = context.querySelector('#chkTrailer');\n            chkTrailer.addEventListener('change', () => {\n                query.StartIndex = 0;\n                query.HasTrailer = chkTrailer.checked ? true : null;\n                triggerChange(this);\n            });\n            const chkThemeSong = context.querySelector('#chkThemeSong');\n            chkThemeSong.addEventListener('change', () => {\n                query.StartIndex = 0;\n                query.HasThemeSong = chkThemeSong.checked ? true : null;\n                triggerChange(this);\n            });\n            const chkSpecialFeature = context.querySelector('#chkSpecialFeature');\n            chkSpecialFeature.addEventListener('change', () => {\n                query.StartIndex = 0;\n                query.HasSpecialFeature = chkSpecialFeature.checked ? true : null;\n                triggerChange(this);\n            });\n            const chkThemeVideo = context.querySelector('#chkThemeVideo');\n            chkThemeVideo.addEventListener('change', () => {\n                query.StartIndex = 0;\n                query.HasThemeVideo = chkThemeVideo.checked ? true : null;\n                triggerChange(this);\n            });\n            const chkMissingEpisode = context.querySelector('#chkMissingEpisode');\n            chkMissingEpisode.addEventListener('change', () => {\n                query.StartIndex = 0;\n                query.IsMissing = !!chkMissingEpisode.checked;\n                triggerChange(this);\n            });\n            const chkSpecialEpisode = context.querySelector('#chkSpecialEpisode');\n            chkSpecialEpisode.addEventListener('change', () => {\n                query.StartIndex = 0;\n                query.ParentIndexNumber = chkSpecialEpisode.checked ? 0 : null;\n                triggerChange(this);\n            });\n            const chkFutureEpisode = context.querySelector('#chkFutureEpisode');\n            chkFutureEpisode.addEventListener('change', () => {\n                query.StartIndex = 0;\n                if (chkFutureEpisode.checked) {\n                    query.IsUnaired = true;\n                    query.IsVirtualUnaired = null;\n                } else {\n                    query.IsUnaired = null;\n                    query.IsVirtualUnaired = false;\n                }\n                triggerChange(this);\n            });\n            const chkSubtitle = context.querySelector('#chkSubtitle');\n            chkSubtitle.addEventListener('change', () => {\n                query.StartIndex = 0;\n                query.HasSubtitles = chkSubtitle.checked ? true : null;\n                triggerChange(this);\n            });\n            context.addEventListener('change', (e) => {\n                const chkGenreFilter = dom.parentWithClass(e.target, 'chkGenreFilter');\n                if (chkGenreFilter) {\n                    const filterName = chkGenreFilter.getAttribute('data-filter');\n                    let filters = query.Genres || '';\n                    const delimiter = '|';\n                    filters = (delimiter + filters).replace(delimiter + filterName, '').substring(1);\n                    if (chkGenreFilter.checked) {\n                        filters = filters ? (filters + delimiter + filterName) : filterName;\n                    }\n                    query.StartIndex = 0;\n                    query.Genres = filters;\n                    triggerChange(this);\n                    return;\n                }\n                const chkTagFilter = dom.parentWithClass(e.target, 'chkTagFilter');\n                if (chkTagFilter) {\n                    const filterName = chkTagFilter.getAttribute('data-filter');\n                    let filters = query.Tags || '';\n                    const delimiter = '|';\n                    filters = (delimiter + filters).replace(delimiter + filterName, '').substring(1);\n                    if (chkTagFilter.checked) {\n                        filters = filters ? (filters + delimiter + filterName) : filterName;\n                    }\n                    query.StartIndex = 0;\n                    query.Tags = filters;\n                    triggerChange(this);\n                    return;\n                }\n                const chkYearFilter = dom.parentWithClass(e.target, 'chkYearFilter');\n                if (chkYearFilter) {\n                    const filterName = chkYearFilter.getAttribute('data-filter');\n                    let filters = query.Years || '';\n                    const delimiter = ',';\n                    filters = (delimiter + filters).replace(delimiter + filterName, '').substring(1);\n                    if (chkYearFilter.checked) {\n                        filters = filters ? (filters + delimiter + filterName) : filterName;\n                    }\n                    query.StartIndex = 0;\n                    query.Years = filters;\n                    triggerChange(this);\n                    return;\n                }\n                const chkOfficialRatingFilter = dom.parentWithClass(e.target, 'chkOfficialRatingFilter');\n                if (chkOfficialRatingFilter) {\n                    const filterName = chkOfficialRatingFilter.getAttribute('data-filter');\n                    let filters = query.OfficialRatings || '';\n                    const delimiter = '|';\n                    filters = (delimiter + filters).replace(delimiter + filterName, '').substring(1);\n                    if (chkOfficialRatingFilter.checked) {\n                        filters = filters ? (filters + delimiter + filterName) : filterName;\n                    }\n                    query.StartIndex = 0;\n                    query.OfficialRatings = filters;\n                    triggerChange(this);\n                }\n            });\n        }\n\n        show() {\n            return import('text!./filterdialog.template.html').then(({default: template}) => {\n                return new Promise((resolve) => {\n                    const dlg = dialogHelper.createDialog({\n                        removeOnClose: true,\n                        modal: false\n                    });\n                    dlg.classList.add('ui-body-a');\n                    dlg.classList.add('background-theme-a');\n                    dlg.classList.add('formDialog');\n                    dlg.classList.add('filterDialog');\n                    dlg.innerHTML = globalize.translateDocument(template);\n                    setVisibility(dlg, this.options);\n                    dialogHelper.open(dlg);\n                    dlg.addEventListener('close', resolve);\n                    updateFilterControls(dlg, this.options);\n                    this.bindEvents(dlg);\n                    if (enableDynamicFilters(this.options.mode)) {\n                        dlg.classList.add('dynamicFilterDialog');\n                        const apiClient = connectionManager.getApiClient(this.options.serverId);\n                        loadDynamicFilters(dlg, apiClient, apiClient.getCurrentUserId(), this.options.query);\n                    }\n                });\n            });\n        }\n    }\n\n/* eslint-enable indent */\n\nexport default FilterDialog;\n"]}