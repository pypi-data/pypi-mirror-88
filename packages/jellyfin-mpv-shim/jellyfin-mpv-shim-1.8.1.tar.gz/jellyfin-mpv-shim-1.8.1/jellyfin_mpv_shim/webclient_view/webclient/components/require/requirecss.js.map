{"version":3,"sources":["components/require/requirecss.js"],"names":["define","requireCss","name","normalize","substr","length","importedCss","load","cssId","req","config","srch","index","indexOf","substring","url","baseUrl","isLoaded","push","link","document","createElement","setAttribute","onload","linkUrl","urlArgs","head","appendChild","window","removeStylesheet","stylesheet","parentNode","removeChild","removeFromLoadHistory","toLowerCase","filter","c","href"],"mappings":"AAAA,aAAAA,QAAO,WAGH,IAAIC,WAAa,CAEjBA,UAAuB,SAAUC,KAAMC,WAKnC,MAJwC,SAApCD,KAAKE,OAAOF,KAAKG,OAAS,EAAG,KAC7BH,KAAOA,KAAKE,OAAO,EAAGF,KAAKG,OAAS,IAGjCF,UAAUD,QAGjBI,YAAc,GA4DlB,OA7CAL,WAAWM,KAAO,SAAUC,MAAOC,IAAKF,KAAMG,QAG1C,IAAIC,KAAO,gCACPC,MAAQJ,MAAMK,QAAQF,OAEX,IAAXC,QACAJ,MAAQ,MAAQA,MAAMM,UAAUF,MAAQD,KAAKN,SAGjD,IAAIU,IAAMP,MAAQ,OAMlB,IAJ4B,IAAxBO,IAAIF,QAAQ,SACZE,IAAML,OAAOM,QAAUD,KA1B/B,SAASE,SAASF,KACd,OAAqC,IAA9BT,YAAYO,QAAQE,KA4BtBE,CAASF,KAiBVR,WAjBgB,CAChBD,YAAYY,KAAKH,KAEjB,IAAII,KAAOC,SAASC,cAAc,QAElCF,KAAKG,aAAa,MAAO,cACzBH,KAAKG,aAAa,OAAQ,YAC1BH,KAAKI,OAAShB,KAEd,IAAIiB,QAAUT,IAEVL,OAAOe,UACPD,SAAWd,OAAOe,QAAQjB,MAAOO,MAErCI,KAAKG,aAAa,OAAQE,SAC1BJ,SAASM,KAAKC,YAAYR,QAMlCS,OAAO3B,WAAa,CAChB4B,iBAAkB,SAAAA,iBAAUC,YAExBA,WAAWC,WAAWC,YAAYF,YAjD1C,SAASG,sBAAsBlB,KAE3BA,IAAMA,IAAImB,cAEV5B,YAAcA,YAAY6B,QAAO,SAAUC,GACvC,OAAyC,IAAlCrB,IAAIF,QAAQuB,EAAEF,kBA6CrBD,CAAsBH,WAAWO,QAIlCpC","file":"requirecss.js","sourcesContent":["define(function () {\n    'use strict';\n\n    var requireCss = {};\n\n    requireCss.normalize = function (name, normalize) {\n        if (name.substr(name.length - 4, 4) === '.css') {\n            name = name.substr(0, name.length - 4);\n        }\n\n        return normalize(name);\n    };\n\n    var importedCss = [];\n\n    function isLoaded(url) {\n        return importedCss.indexOf(url) !== -1;\n    }\n\n    function removeFromLoadHistory(url) {\n\n        url = url.toLowerCase();\n\n        importedCss = importedCss.filter(function (c) {\n            return url.indexOf(c.toLowerCase()) === -1;\n        });\n    }\n\n    requireCss.load = function (cssId, req, load, config) {\n\n        // Somehow if the url starts with /css, require will get all screwed up since this extension is also called css\n        var srch = 'components/require/requirecss';\n        var index = cssId.indexOf(srch);\n\n        if (index !== -1) {\n            cssId = 'css' + cssId.substring(index + srch.length);\n        }\n\n        var url = cssId + '.css';\n\n        if (url.indexOf('://') === -1) {\n            url = config.baseUrl + url;\n        }\n\n        if (!isLoaded(url)) {\n            importedCss.push(url);\n\n            var link = document.createElement('link');\n\n            link.setAttribute('rel', 'stylesheet');\n            link.setAttribute('type', 'text/css');\n            link.onload = load;\n\n            var linkUrl = url;\n\n            if (config.urlArgs) {\n                linkUrl += config.urlArgs(cssId, url);\n            }\n            link.setAttribute('href', linkUrl);\n            document.head.appendChild(link);\n        } else {\n            load();\n        }\n    };\n\n    window.requireCss = {\n        removeStylesheet: function (stylesheet) {\n\n            stylesheet.parentNode.removeChild(stylesheet);\n            removeFromLoadHistory(stylesheet.href);\n        }\n    };\n\n    return requireCss;\n});\n"]}