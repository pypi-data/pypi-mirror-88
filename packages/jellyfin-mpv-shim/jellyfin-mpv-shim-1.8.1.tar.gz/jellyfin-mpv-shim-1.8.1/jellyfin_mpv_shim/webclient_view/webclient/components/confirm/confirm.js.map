{"version":3,"sources":["components/confirm/confirm.js"],"names":["define","browser","dialog","globalize","tv","window","confirm","options","title","text","replaceAll","str","find","replace","split","join","Promise","resolve","reject","items","push","name","cancelText","translate","id","type","confirmText","primary","buttons","then","result"],"mappings":"AAAA,aAAAA,OAAO,CAAC,UAAW,SAAU,cAAc,SAASC,QAASC,OAAQC,WAOjE,OAAIF,QAAQG,IAAMC,OAAOC,QAEd,SAAUC,SACU,iBAAZA,UACPA,QAAU,CACNC,MAAO,GACPC,KAAMF,UAId,IAAIE,KAdZ,SAASC,WAAWC,IAAKC,KAAMC,SAC3B,OAAOF,IAAIG,MAAMF,MAAMG,KAAKF,SAabH,CAAWH,QAAQE,MAAQ,GAAI,QAAS,MAGnD,OAFaH,QAAQG,MAGVO,QAAQC,UAERD,QAAQE,UAKhB,SAAUT,KAAMD,OACnB,IAAID,QAEAA,QADgB,iBAATE,KACG,CACND,MAAOA,MACPC,KAAMA,MAGAA,KAGd,IAAIU,MAAQ,GAgBZ,OAdAA,MAAMC,KAAK,CACPC,KAAMd,QAAQe,YAAcnB,UAAUoB,UAAU,gBAChDC,GAAI,SACJC,KAAM,WAGVN,MAAMC,KAAK,CACPC,KAAMd,QAAQmB,aAAevB,UAAUoB,UAAU,YACjDC,GAAI,KACJC,KAA0B,WAApBlB,QAAQoB,QAAuB,SAAW,WAGpDpB,QAAQqB,QAAUT,MAEXjB,OAAOK,SAASsB,MAAK,SAAUC,QAClC,MAAe,OAAXA,OACOd,QAAQC,UAGZD,QAAQE","file":"confirm.js","sourcesContent":["define(['browser', 'dialog', 'globalize'], function(browser, dialog, globalize) {\n    'use strict';\n\n    function replaceAll(str, find, replace) {\n        return str.split(find).join(replace);\n    }\n\n    if (browser.tv && window.confirm) {\n        // Use the native confirm dialog\n        return function (options) {\n            if (typeof options === 'string') {\n                options = {\n                    title: '',\n                    text: options\n                };\n            }\n\n            var text = replaceAll(options.text || '', '<br/>', '\\n');\n            var result = confirm(text);\n\n            if (result) {\n                return Promise.resolve();\n            } else {\n                return Promise.reject();\n            }\n        };\n    } else {\n        // Use our own dialog\n        return function (text, title) {\n            var options;\n            if (typeof text === 'string') {\n                options = {\n                    title: title,\n                    text: text\n                };\n            } else {\n                options = text;\n            }\n\n            var items = [];\n\n            items.push({\n                name: options.cancelText || globalize.translate('ButtonCancel'),\n                id: 'cancel',\n                type: 'cancel'\n            });\n\n            items.push({\n                name: options.confirmText || globalize.translate('ButtonOk'),\n                id: 'ok',\n                type: options.primary === 'delete' ? 'delete' : 'submit'\n            });\n\n            options.buttons = items;\n\n            return dialog(options).then(function (result) {\n                if (result === 'ok') {\n                    return Promise.resolve();\n                }\n\n                return Promise.reject();\n            });\n        };\n    }\n});\n"]}