{"version":3,"sources":["components/lazyLoader/lazyLoaderIntersectionObserver.js"],"names":["define","_exports","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","value","lazyChildren","default","LazyLoader","options","_classCallCheck","instance","Constructor","TypeError","this","_createClass","protoProps","staticProps","prototype","createObserver","callback","observer","IntersectionObserver","entries","forEach","entry","rootMargin","addElements","elements","Array","from","element","observe","destroyObserver","disconnect","destroy","elem","unveilElements","root","getElementsByClassName","_default"],"mappings":"AAAAA,OAAO,CAAC,YAAY,SAAUC,UAC5B,aAUA,SAASC,kBAAkBC,OAAQC,OAAS,IAAK,IAAIC,EAAI,EAAGA,EAAID,MAAME,OAAQD,IAAK,CAAE,IAAIE,WAAaH,MAAMC,GAAIE,WAAWC,WAAaD,WAAWC,aAAc,EAAOD,WAAWE,cAAe,EAAU,UAAWF,aAAYA,WAAWG,UAAW,GAAMC,OAAOC,eAAeT,OAAQI,WAAWM,IAAKN,aAR7SI,OAAOC,eAAeX,SAAU,aAAc,CAC5Ca,OAAO,IAETb,SAASc,aAAeA,aACxBd,SAASe,QAAUf,SAASgB,gBAAa,EASzC,IAfeA,WAee,WAdxB,SAAAA,WAAYC,UAOlB,SAASC,gBAAgBC,SAAUC,aAAe,KAAMD,oBAAoBC,aAAgB,MAAM,IAAIC,UAAU,qCAPrFH,CAAAI,KAAAN,YACjBM,KAAKL,QAAUA,QAiEvB,OAvDF,SAASM,aAAaH,YAAaI,WAAYC,aAAmJ,OAAhID,YAAYvB,kBAAkBmB,YAAYM,UAAWF,YAAiBC,aAAaxB,kBAAkBmB,YAAaK,aAAqBL,YAUvMG,CAAaP,WAAY,CAAC,CACxBJ,IAAK,iBACLC,MAAO,SAASc,iBAlBV,IAAMC,SAAWN,KAAKL,QAAQW,SAExBC,SAAW,IAAIC,sBACjB,SAACC,SACGA,QAAQC,SAAQ,SAAAC,OACZL,SAASK,YAGjB,CAACC,WAAY,QAEjBZ,KAAKO,SAAWA,WAmBrB,CACDjB,IAAK,cACLC,MAAO,SAASsB,YAlBFC,UACR,IAAIP,SAAWP,KAAKO,SAEfA,WACDP,KAAKK,iBACLE,SAAWP,KAAKO,UAGpBQ,MAAMC,KAAKF,UAAUJ,SAAQ,SAAAO,SACzBV,SAASW,QAAQD,cAqB1B,CACD3B,IAAK,kBACLC,MAAO,SAAS4B,kBAlBV,IAAMZ,SAAWP,KAAKO,SAElBA,WACAA,SAASa,aACTpB,KAAKO,SAAW,QAsBzB,CACDjB,IAAK,UACLC,MAAO,SAAS8B,UAnBVrB,KAAKmB,kBACLnB,KAAKL,QAAU,SAwBhBD,WApDqB,GA0CrB,SAASF,aAAa8B,KAAMhB,WAVnC,SAASiB,eAAeT,SAAUU,KAAMlB,UAC/BQ,SAAS/B,QAGK,IAAIW,WAAW,CAC9BY,SAAUA,WAEHO,YAAYC,UAIvBS,CAAeD,KAAKG,uBAAuB,QAASH,EAAMhB,UAYhE5B,SAASgB,WAAaA,WAmBtB,IAAIgC,SA3BS,CACXhC,WAAYA,WACZF,aAAcA,cA6BhBd,SAASe,QAAUiC","file":"lazyLoaderIntersectionObserver.js","sourcesContent":["/* eslint-disable indent */\n    export class LazyLoader {\n        constructor(options) {\n            this.options = options;\n        }\n\n        createObserver() {\n            const callback = this.options.callback;\n\n            const observer = new IntersectionObserver(\n                (entries) => {\n                    entries.forEach(entry => {\n                        callback(entry);\n                    });\n                },\n                {rootMargin: '25%'});\n\n            this.observer = observer;\n        }\n\n        addElements(elements) {\n            let observer = this.observer;\n\n            if (!observer) {\n                this.createObserver();\n                observer = this.observer;\n            }\n\n            Array.from(elements).forEach(element => {\n                observer.observe(element);\n            });\n        }\n\n        destroyObserver() {\n            const observer = this.observer;\n\n            if (observer) {\n                observer.disconnect();\n                this.observer = null;\n            }\n        }\n\n        destroy() {\n            this.destroyObserver();\n            this.options = null;\n        }\n    }\n\n    function unveilElements(elements, root, callback) {\n        if (!elements.length) {\n            return;\n        }\n        const lazyLoader = new LazyLoader({\n            callback: callback\n        });\n        lazyLoader.addElements(elements);\n    }\n\n    export function lazyChildren(elem, callback) {\n        unveilElements(elem.getElementsByClassName('lazy'), elem, callback);\n    }\n\n/* eslint-enable indent */\nexport default {\n    LazyLoader: LazyLoader,\n    lazyChildren: lazyChildren\n};\n"]}