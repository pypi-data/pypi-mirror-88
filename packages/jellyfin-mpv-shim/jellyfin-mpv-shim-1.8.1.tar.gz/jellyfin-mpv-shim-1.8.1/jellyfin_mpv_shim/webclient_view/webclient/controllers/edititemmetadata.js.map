{"version":3,"sources":["controllers/edititemmetadata.js"],"names":["define","loading","reload","context","itemId","show","require","metadataEditor","embed","querySelector","ApiClient","serverInfo","Id","innerHTML","hide","view","params","addEventListener","this","MetadataEditor","getCurrentItemId","setCurrentItemId","event","data","detail","id"],"mappings":"AAAA,aAAAA,OAAO,CAAC,UAAW,0BAA0B,SAAUC,SAGnD,SAASC,OAAOC,QAASC,QACrBH,QAAQI,OAEJD,OACAE,QAAQ,CAAC,mBAAmB,SAAUC,gBAClCA,eAAeC,MAAML,QAAQM,cAAc,yBAA0BL,OAAQM,UAAUC,aAAaC,QAGxGT,QAAQM,cAAc,yBAAyBI,UAAY,GAC3DZ,QAAQa,QAIhB,OAAO,SAAUC,KAAMC,QACnBD,KAAKE,iBAAiB,YAAY,WAC9Bf,OAAOgB,KAAMC,eAAeC,uBAEhCD,eAAeE,iBAAiB,MAChCN,KAAKN,cAAc,gBAAgBQ,iBAAiB,eAAe,SAAUK,OACzE,IAAIC,KAAOD,MAAME,OAEbD,KAAKE,IAAMN,eAAeC,qBAC1BD,eAAeE,iBAAiBE,KAAKE,IACrCvB,OAAOa,KAAMQ,KAAKE","file":"edititemmetadata.js","sourcesContent":["define(['loading', 'scripts/editorsidebar'], function (loading) {\n    'use strict';\n\n    function reload(context, itemId) {\n        loading.show();\n\n        if (itemId) {\n            require(['metadataEditor'], function (metadataEditor) {\n                metadataEditor.embed(context.querySelector('.editPageInnerContent'), itemId, ApiClient.serverInfo().Id);\n            });\n        } else {\n            context.querySelector('.editPageInnerContent').innerHTML = '';\n            loading.hide();\n        }\n    }\n\n    return function (view, params) {\n        view.addEventListener('viewshow', function () {\n            reload(this, MetadataEditor.getCurrentItemId());\n        });\n        MetadataEditor.setCurrentItemId(null);\n        view.querySelector('.libraryTree').addEventListener('itemclicked', function (event) {\n            var data = event.detail;\n\n            if (data.id != MetadataEditor.getCurrentItemId()) {\n                MetadataEditor.setCurrentItemId(data.id);\n                reload(view, data.id);\n            }\n        });\n    };\n});\n"]}