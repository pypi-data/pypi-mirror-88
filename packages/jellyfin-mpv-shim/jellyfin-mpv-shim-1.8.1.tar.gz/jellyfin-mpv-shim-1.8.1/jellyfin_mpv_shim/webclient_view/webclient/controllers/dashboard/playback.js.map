{"version":3,"sources":["controllers/dashboard/playback.js"],"names":["define","$","loading","libraryMenu","globalize","onSubmit","show","form","this","ApiClient","getServerConfiguration","then","config","MinResumePct","val","MaxResumePct","MinResumeDurationSeconds","updateServerConfiguration","Dashboard","processServerConfigurationUpdateResult","getTabs","href","name","translate","document","on","off","setTabs","page","loadPage","hide"],"mappings":"AAAA,aAAAA,OAAO,CAAC,SAAU,UAAW,cAAe,cAAc,SAAUC,EAAGC,QAASC,YAAaC,WAUzF,SAASC,WACLH,QAAQI,OACR,IAAIC,KAAOC,KASX,OARAC,UAAUC,yBAAyBC,MAAK,SAAUC,QAC9CA,OAAOC,aAAeZ,EAAE,mBAAoBM,MAAMO,MAClDF,OAAOG,aAAed,EAAE,mBAAoBM,MAAMO,MAClDF,OAAOI,yBAA2Bf,EAAE,wBAAyBM,MAAMO,MAEnEL,UAAUQ,0BAA0BL,QAAQD,KAAKO,UAAUC,4CAGxD,EAGX,SAASC,UACL,MAAO,CAAC,CACJC,KAAM,wBACNC,KAAMlB,UAAUmB,UAAU,gBAC3B,CACCF,KAAM,6BACNC,KAAMlB,UAAUmB,UAAU,sBAC3B,CACCF,KAAM,yBACNC,KAAMlB,UAAUmB,UAAU,kBAIlCtB,EAAEuB,UAAUC,GAAG,WAAY,8BAA8B,WACrDxB,EAAE,8BAA8ByB,IAAI,SAAUrB,UAAUoB,GAAG,SAAUpB,aACtEoB,GAAG,WAAY,8BAA8B,WAC5CvB,QAAQI,OACRH,YAAYwB,QAAQ,WAAY,EAAGP,SACnC,IAAIQ,KAAOpB,KACXC,UAAUC,yBAAyBC,MAAK,SAAUC,SAxCtD,SAASiB,SAASD,KAAMhB,QACpBX,EAAE,mBAAoB2B,MAAMd,IAAIF,OAAOC,cACvCZ,EAAE,mBAAoB2B,MAAMd,IAAIF,OAAOG,cACvCd,EAAE,wBAAyB2B,MAAMd,IAAIF,OAAOI,0BAC5Cd,QAAQ4B,OAqCJD,CAASD,KAAMhB","file":"playback.js","sourcesContent":["define(['jQuery', 'loading', 'libraryMenu', 'globalize'], function ($, loading, libraryMenu, globalize) {\n    'use strict';\n\n    function loadPage(page, config) {\n        $('#txtMinResumePct', page).val(config.MinResumePct);\n        $('#txtMaxResumePct', page).val(config.MaxResumePct);\n        $('#txtMinResumeDuration', page).val(config.MinResumeDurationSeconds);\n        loading.hide();\n    }\n\n    function onSubmit() {\n        loading.show();\n        var form = this;\n        ApiClient.getServerConfiguration().then(function (config) {\n            config.MinResumePct = $('#txtMinResumePct', form).val();\n            config.MaxResumePct = $('#txtMaxResumePct', form).val();\n            config.MinResumeDurationSeconds = $('#txtMinResumeDuration', form).val();\n\n            ApiClient.updateServerConfiguration(config).then(Dashboard.processServerConfigurationUpdateResult);\n        });\n\n        return false;\n    }\n\n    function getTabs() {\n        return [{\n            href: 'encodingsettings.html',\n            name: globalize.translate('Transcoding')\n        }, {\n            href: 'playbackconfiguration.html',\n            name: globalize.translate('TabResumeSettings')\n        }, {\n            href: 'streamingsettings.html',\n            name: globalize.translate('TabStreaming')\n        }];\n    }\n\n    $(document).on('pageinit', '#playbackConfigurationPage', function () {\n        $('.playbackConfigurationForm').off('submit', onSubmit).on('submit', onSubmit);\n    }).on('pageshow', '#playbackConfigurationPage', function () {\n        loading.show();\n        libraryMenu.setTabs('playback', 1, getTabs);\n        var page = this;\n        ApiClient.getServerConfiguration().then(function (config) {\n            loadPage(page, config);\n        });\n    });\n});\n"]}