{"version":3,"sources":["controllers/dashboard/notifications/notifications.js"],"names":["define","loading","libraryMenu","globalize","view","params","addEventListener","reload","page","show","ApiClient","getJSON","getUrl","then","list","html","lastCategory","showHelp","map","notification","itemHtml","Category","translate","Type","Enabled","Name","join","length","querySelector","innerHTML","hide"],"mappings":"AAAA,aAAAA,OAAO,CAAC,UAAW,cAAe,YAAa,gBAAiB,gBAAgB,SAASC,QAASC,YAAaC,WAsD3G,OAAO,SAASC,KAAMC,QAClBD,KAAKE,iBAAiB,YAAY,YApDtC,SAASC,OAAOC,MACZP,QAAQQ,OACRC,UAAUC,QAAQD,UAAUE,OAAO,wBAAwBC,MAAK,SAASC,MACrE,IAAIC,KAAO,GACPC,aAAe,GACfC,UAAW,EACfF,MAAQD,KAAKI,KAAI,SAASC,cACtB,IAAIC,SAAW,GAgCf,OA/BID,aAAaE,WAAaL,gBAC1BA,aAAeG,aAAaE,YAExBD,UAAY,SACZA,UAAY,UAEhBA,UAAY,mEACZA,UAAY,iEACZA,UAAY,4BACZA,UAAYD,aAAaE,SACzBD,UAAY,QACRH,WACAA,UAAW,EACXG,UAAY,yJACZA,UAAYjB,UAAUmB,UAAU,QAChCF,UAAY,QAEhBA,UAAY,SACZA,UAAY,2BAEhBA,UAAY,oHAAsHD,aAAaI,KAAO,KAClJJ,aAAaK,QACbJ,UAAY,yEAEZA,UAAY,qGAEhBA,UAAY,6BACZA,UAAY,iCAAmCD,aAAaM,KAAO,SACnEL,UAAY,SACZA,UAAY,6GACZA,UAAY,UAEbM,KAAK,IAEJZ,KAAKa,SACLZ,MAAQ,SACRA,MAAQ,UAEZP,KAAKoB,cAAc,qBAAqBC,UAAYd,KACpDd,QAAQ6B,UAMRvB,CAAOH","file":"notifications.js","sourcesContent":["define(['loading', 'libraryMenu', 'globalize', 'listViewStyle', 'emby-button'], function(loading, libraryMenu, globalize) {\n    'use strict';\n\n    function reload(page) {\n        loading.show();\n        ApiClient.getJSON(ApiClient.getUrl('Notifications/Types')).then(function(list) {\n            var html = '';\n            var lastCategory = '';\n            var showHelp = true;\n            html += list.map(function(notification) {\n                var itemHtml = '';\n                if (notification.Category !== lastCategory) {\n                    lastCategory = notification.Category;\n                    if (lastCategory) {\n                        itemHtml += '</div>';\n                        itemHtml += '</div>';\n                    }\n                    itemHtml += '<div class=\"verticalSection verticalSection-extrabottompadding\">';\n                    itemHtml += '<div class=\"sectionTitleContainer\" style=\"margin-bottom:1em;\">';\n                    itemHtml += '<h2 class=\"sectionTitle\">';\n                    itemHtml += notification.Category;\n                    itemHtml += '</h2>';\n                    if (showHelp) {\n                        showHelp = false;\n                        itemHtml += '<a is=\"emby-linkbutton\" class=\"raised button-alt headerHelpButton\" target=\"_blank\" href=\"https://docs.jellyfin.org/general/server/notifications.html\">';\n                        itemHtml += globalize.translate('Help');\n                        itemHtml += '</a>';\n                    }\n                    itemHtml += '</div>';\n                    itemHtml += '<div class=\"paperList\">';\n                }\n                itemHtml += '<a class=\"listItem listItem-border\" is=\"emby-linkbutton\" data-ripple=\"false\" href=\"notificationsetting.html?type=' + notification.Type + '\">';\n                if (notification.Enabled) {\n                    itemHtml += '<span class=\"listItemIcon material-icons notifications_active\"></span>';\n                } else {\n                    itemHtml += '<span class=\"listItemIcon material-icons notifications_off\" style=\"background-color:#999;\"></span>';\n                }\n                itemHtml += '<div class=\"listItemBody\">';\n                itemHtml += '<div class=\"listItemBodyText\">' + notification.Name + '</div>';\n                itemHtml += '</div>';\n                itemHtml += '<button type=\"button\" is=\"paper-icon-button-light\"><span class=\"material-icons mode_edit\"></span></button>';\n                itemHtml += '</a>';\n                return itemHtml;\n            }).join('');\n\n            if (list.length) {\n                html += '</div>';\n                html += '</div>';\n            }\n            page.querySelector('.notificationList').innerHTML = html;\n            loading.hide();\n        });\n    }\n\n    return function(view, params) {\n        view.addEventListener('viewshow', function() {\n            reload(view);\n        });\n    };\n});\n"]}