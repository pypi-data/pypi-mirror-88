{"version":3,"sources":["controllers/dashboard/logs.js"],"names":["define","_exports","_datetime","_loading","_embyButton","_listViewStyle","_flexStyles","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_default","view","params","addEventListener","loading","show","apiClient","ApiClient","getJSON","getUrl","then","logs","html","map","log","logUrl","name","Name","logHtml","accessToken","date","datetime","parseISO8601Date","DateModified","text","toLocaleDateString","getDisplayTime","join","querySelector","innerHTML","hide"],"mappings":"AAAAA,OAAO,CAAC,UAAW,WAAY,UAAW,cAAe,gBAAiB,eAAe,SAAUC,SAAUC,UAAWC,SAAUC,YAAaC,eAAgBC,aAC7J,aASA,SAASC,uBAAuBC,KAAO,OAAOA,KAAOA,IAAIC,WAAaD,IAAM,CAAEE,QAASF,KAPvFG,OAAOC,eAAeX,SAAU,aAAc,CAC5CY,OAAO,IAETZ,SAASS,QAEQ,SAAAI,SAASC,KAAMC,QAC1BD,KAAKE,iBAAiB,kBAAkB,WACpCC,SAAAA,QAAQC,OACR,IAAIC,UAAYC,UAChBD,UAAUE,QAAQF,UAAUG,OAAO,gBAAgBC,MAAK,SAASC,MAC7D,IAAIC,KAAO,GACXA,MAAQ,0BACRA,MAAQD,KAAKE,KAAI,SAASC,KACtB,IAAIC,OAAST,UAAUG,OAAO,kBAAmB,CAC7CO,KAAMF,IAAIG,OAGVC,QAAU,GACdA,SAAW,kCAFXH,QAAU,YAAcT,UAAUa,eAEqB,6EACvDD,SAAW,sCACXA,SAAW,gCAAkCJ,IAAIG,KAAO,QACxD,IAAIG,KAAOC,UAAAA,QAASC,iBAAiBR,IAAIS,cAAc,GACnDC,KAAOH,UAAAA,QAASI,mBAAmBL,MAKvC,OAHAF,SAAW,4CADXM,MAAQ,IAAMH,UAAAA,QAASK,eAAeN,OACyB,SAC/DF,SAAW,SACXA,SAAW,UAEZS,KAAK,IACRf,MAAQ,SACRX,KAAK2B,cAAc,eAAeC,UAAYjB,KAC9CR,SAAAA,QAAQ0B,cAlCxB1C,UAAAK,uBAAAL,WACAC,SAAAI,uBAAAJ","file":"logs.js","sourcesContent":["import datetime from 'datetime';\nimport loading from 'loading';\nimport 'emby-button';\nimport 'listViewStyle';\nimport 'flexStyles';\n\n/* eslint-disable indent */\n\n    export default function(view, params) {\n        view.addEventListener('viewbeforeshow', function() {\n            loading.show();\n            var apiClient = ApiClient;\n            apiClient.getJSON(apiClient.getUrl('System/Logs')).then(function(logs) {\n                var html = '';\n                html += '<div class=\"paperList\">';\n                html += logs.map(function(log) {\n                    var logUrl = apiClient.getUrl('System/Logs/Log', {\n                        name: log.Name\n                    });\n                    logUrl += '&api_key=' + apiClient.accessToken();\n                    var logHtml = '';\n                    logHtml += '<a is=\"emby-linkbutton\" href=\"' + logUrl + '\" target=\"_blank\" class=\"listItem listItem-border\" style=\"color:inherit;\">';\n                    logHtml += '<div class=\"listItemBody two-line\">';\n                    logHtml += \"<h3 class='listItemBodyText'>\" + log.Name + '</h3>';\n                    var date = datetime.parseISO8601Date(log.DateModified, true);\n                    var text = datetime.toLocaleDateString(date);\n                    text += ' ' + datetime.getDisplayTime(date);\n                    logHtml += '<div class=\"listItemBodyText secondary\">' + text + '</div>';\n                    logHtml += '</div>';\n                    logHtml += '</a>';\n                    return logHtml;\n                }).join('');\n                html += '</div>';\n                view.querySelector('.serverLogs').innerHTML = html;\n                loading.hide();\n            });\n        });\n    }\n\n/* eslint-enable indent */\n"]}