{"version":3,"sources":["controllers/dashboard/streaming.js"],"names":["define","$","libraryMenu","loading","globalize","onSubmit","show","form","this","ApiClient","getServerConfiguration","then","config","RemoteClientBitrateLimit","parseInt","parseFloat","val","updateServerConfiguration","Dashboard","processServerConfigurationUpdateResult","getTabs","href","name","translate","document","on","off","setTabs","page","loadPage","hide"],"mappings":"AAAA,aAAAA,OAAO,CAAC,SAAU,cAAe,UAAW,cAAc,SAAUC,EAAGC,YAAaC,QAASC,WAQzF,SAASC,WACLF,QAAQG,OACR,IAAIC,KAAOC,KAMX,OALAC,UAAUC,yBAAyBC,MAAK,SAAUC,QAC9CA,OAAOC,yBAA2BC,SAAS,IAAMC,WAAWd,EAAE,+BAAgCM,MAAMS,OAAS,MAC7GP,UAAUQ,0BAA0BL,QAAQD,KAAKO,UAAUC,4CAGxD,EAGX,SAASC,UACL,MAAO,CAAC,CACJC,KAAM,wBACNC,KAAMlB,UAAUmB,UAAU,gBAC3B,CACCF,KAAM,6BACNC,KAAMlB,UAAUmB,UAAU,sBAC3B,CACCF,KAAM,yBACNC,KAAMlB,UAAUmB,UAAU,kBAIlCtB,EAAEuB,UAAUC,GAAG,WAAY,0BAA0B,WACjDxB,EAAE,0BAA0ByB,IAAI,SAAUrB,UAAUoB,GAAG,SAAUpB,aAClEoB,GAAG,WAAY,0BAA0B,WACxCtB,QAAQG,OACRJ,YAAYyB,QAAQ,WAAY,EAAGP,SACnC,IAAIQ,KAAOpB,KACXC,UAAUC,yBAAyBC,MAAK,SAAUC,SAnCtD,SAASiB,SAASD,KAAMhB,QACpBX,EAAE,+BAAgC2B,MAAMZ,IAAIJ,OAAOC,yBAA2B,KAAO,IACrFV,QAAQ2B,OAkCJD,CAASD,KAAMhB","file":"streaming.js","sourcesContent":["define(['jQuery', 'libraryMenu', 'loading', 'globalize'], function ($, libraryMenu, loading, globalize) {\n    'use strict';\n\n    function loadPage(page, config) {\n        $('#txtRemoteClientBitrateLimit', page).val(config.RemoteClientBitrateLimit / 1e6 || '');\n        loading.hide();\n    }\n\n    function onSubmit() {\n        loading.show();\n        var form = this;\n        ApiClient.getServerConfiguration().then(function (config) {\n            config.RemoteClientBitrateLimit = parseInt(1e6 * parseFloat($('#txtRemoteClientBitrateLimit', form).val() || '0'));\n            ApiClient.updateServerConfiguration(config).then(Dashboard.processServerConfigurationUpdateResult);\n        });\n\n        return false;\n    }\n\n    function getTabs() {\n        return [{\n            href: 'encodingsettings.html',\n            name: globalize.translate('Transcoding')\n        }, {\n            href: 'playbackconfiguration.html',\n            name: globalize.translate('TabResumeSettings')\n        }, {\n            href: 'streamingsettings.html',\n            name: globalize.translate('TabStreaming')\n        }];\n    }\n\n    $(document).on('pageinit', '#streamingSettingsPage', function () {\n        $('.streamingSettingsForm').off('submit', onSubmit).on('submit', onSubmit);\n    }).on('pageshow', '#streamingSettingsPage', function () {\n        loading.show();\n        libraryMenu.setTabs('playback', 2, getTabs);\n        var page = this;\n        ApiClient.getServerConfiguration().then(function (config) {\n            loadPage(page, config);\n        });\n    });\n});\n"]}