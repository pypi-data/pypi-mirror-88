{"version":3,"sources":["controllers/auth/forgotpasswordpin.js"],"names":["define","globalize","processForgotPasswordResult","result","Success","msg","translate","UsersReset","join","Dashboard","alert","message","title","callback","window","location","href","view","params","querySelector","addEventListener","onSubmit","e","ApiClient","ajax","type","url","getUrl","dataType","data","Pin","value","then","preventDefault"],"mappings":"AAAA,aAAAA,OAAO,CAAC,cAAc,SAAUC,WAG5B,SAASC,4BAA4BC,QACjC,GAAIA,OAAOC,QAAS,CAChB,IAAIC,IAAMJ,UAAUK,UAAU,gCAI9B,OAHAD,KAAO,QACPA,KAAO,QACPA,KAAOF,OAAOI,WAAWC,KAAK,cAClBC,UAAUC,MAAM,CACxBC,QAASN,IACTO,MAAOX,UAAUK,UAAU,uBAC3BO,SAAU,SAAAA,WACNC,OAAOC,SAASC,KAAO,gBAKnCP,UAAUC,MAAM,CACZC,QAASV,UAAUK,UAAU,mCAC7BM,MAAOX,UAAUK,UAAU,yBAInC,OAAO,SAAUW,KAAMC,QAcnBD,KAAKE,cAAc,QAAQC,iBAAiB,UAb5C,SAASC,SAASC,GAUd,OATAC,UAAUC,KAAK,CACXC,KAAM,OACNC,IAAKH,UAAUI,OAAO,4BACtBC,SAAU,OACVC,KAAM,CACFC,IAAKb,KAAKE,cAAc,WAAWY,SAExCC,KAAK9B,6BACRoB,EAAEW,kBACK","file":"forgotpasswordpin.js","sourcesContent":["define(['globalize'], function (globalize) {\n    'use strict';\n\n    function processForgotPasswordResult(result) {\n        if (result.Success) {\n            var msg = globalize.translate('MessagePasswordResetForUsers');\n            msg += '<br/>';\n            msg += '<br/>';\n            msg += result.UsersReset.join('<br/>');\n            return void Dashboard.alert({\n                message: msg,\n                title: globalize.translate('HeaderPasswordReset'),\n                callback: function () {\n                    window.location.href = 'index.html';\n                }\n            });\n        }\n\n        Dashboard.alert({\n            message: globalize.translate('MessageInvalidForgotPasswordPin'),\n            title: globalize.translate('HeaderPasswordReset')\n        });\n    }\n\n    return function (view, params) {\n        function onSubmit(e) {\n            ApiClient.ajax({\n                type: 'POST',\n                url: ApiClient.getUrl('Users/ForgotPassword/Pin'),\n                dataType: 'json',\n                data: {\n                    Pin: view.querySelector('#txtPin').value\n                }\n            }).then(processForgotPasswordResult);\n            e.preventDefault();\n            return false;\n        }\n\n        view.querySelector('form').addEventListener('submit', onSubmit);\n    };\n});\n"]}