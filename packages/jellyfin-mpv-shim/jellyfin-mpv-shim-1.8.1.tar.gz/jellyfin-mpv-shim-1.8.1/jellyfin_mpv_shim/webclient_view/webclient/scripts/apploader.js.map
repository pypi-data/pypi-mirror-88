{"version":3,"sources":["scripts/apploader.js"],"names":["window","appMode","injectScriptElement","src","onload","script","document","createElement","self","dashboardVersion","concat","setAttribute","head","appendChild","loadSite","Promise","resolve","ex","undefined"],"mappings":"AAAA,aAEIA,OAAOC,QAAU,aAGrB,WAGI,SAASC,oBAAoBC,IAAKC,QAC9B,GAAKD,IAAL,CAIA,IAAIE,OAASC,SAASC,cAAc,UAChCC,KAAKC,mBACLN,KAAG,MAAAO,OAAUF,KAAKC,mBAEtBJ,OAAOF,IAAMA,IACbE,OAAOM,aAAa,QAAS,IAEzBP,SACAC,OAAOD,OAASA,QAGpBE,SAASM,KAAKC,YAAYR,SAG9B,SAASS,WACLZ,oBACI,0BACA,WAEIA,oBAAoB,wBAKhC,IACIa,QAAQC,UACV,MAAOC,IAILjB,OAAOe,aAAUG,EACjBV,KAAKO,aAAUG,EAGdV,KAAKO,QAOND,WALAZ,oBACI,qBACAY,UA9CZ","file":"apploader.js","sourcesContent":["(function() {\n    'use strict';\n    window.appMode = 'standalone';\n})();\n\n(function() {\n    'use strict';\n\n    function injectScriptElement(src, onload) {\n        if (!src) {\n            return;\n        }\n\n        var script = document.createElement('script');\n        if (self.dashboardVersion) {\n            src += `?v=${self.dashboardVersion}`;\n        }\n        script.src = src;\n        script.setAttribute('async', '');\n\n        if (onload) {\n            script.onload = onload;\n        }\n\n        document.head.appendChild(script);\n    }\n\n    function loadSite() {\n        injectScriptElement(\n            './libraries/alameda.js',\n            function() {\n                // onload of require library\n                injectScriptElement('./scripts/site.js');\n            }\n        );\n    }\n\n    try {\n        Promise.resolve();\n    } catch (ex) {\n        // this checks for several cases actually, typical is\n        // Promise() being missing on some legacy browser, and a funky one\n        // is Promise() present but buggy on WebOS 2\n        window.Promise = undefined;\n        self.Promise = undefined;\n    }\n\n    if (!self.Promise) {\n        // Load Promise polyfill if they are not natively supported\n        injectScriptElement(\n            './libraries/npo.js',\n            loadSite\n        );\n    } else {\n        loadSite();\n    }\n})();\n"]}