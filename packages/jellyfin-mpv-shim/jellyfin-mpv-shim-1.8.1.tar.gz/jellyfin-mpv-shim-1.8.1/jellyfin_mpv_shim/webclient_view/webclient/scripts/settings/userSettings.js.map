{"version":3,"sources":["scripts/settings/userSettings.js"],"names":["define","_exports","_appSettings","_events","_interopRequireDefault","obj","__esModule","default","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","onSaveTimeout","this","saveTimeout","currentApiClient","updateDisplayPreferences","displayPrefs","currentUserId","value","getFilter","setFilter","setSubtitleAppearanceSettings","getSubtitleAppearanceSettings","saveQuerySettings","loadQuerySettings","soundEffects","libraryPageSize","screensaver","theme","skin","dashboardTheme","skipForwardLength","skipBackLength","chromecastVersion","dateTimeLocale","language","detailsBanner","enableBackdrops","enableBlurhash","enableFastFadein","enableThemeVideos","enableThemeSongs","enableNextVideoInfoOverlay","enableCinemaMode","serverConfig","get","set","importFrom","getData","setUserInfo","currentSettings","UserSettings","_classCallCheck","instance","Constructor","TypeError","_createClass","protoProps","staticProps","prototype","userId","apiClient","clearTimeout","Promise","resolve","self","getDisplayPreferences","then","result","CustomPrefs","name","enableOnServer","currentValue","appSettings","toString","saveServerPreferences","setTimeout","bind","events","trigger","config","updateUserConfiguration","getUser","user","Configuration","val","undefined","parseInt","query","values","JSON","parse","assign","SortBy","SortOrder","stringify"],"mappings":"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","file":"userSettings.js","sourcesContent":["import appSettings from 'appSettings';\nimport events from 'events';\n\nfunction onSaveTimeout() {\n    var self = this;\n    self.saveTimeout = null;\n    self.currentApiClient.updateDisplayPreferences('usersettings', self.displayPrefs, self.currentUserId, 'emby');\n}\n\nfunction saveServerPreferences(instance) {\n    if (instance.saveTimeout) {\n        clearTimeout(instance.saveTimeout);\n    }\n\n    instance.saveTimeout = setTimeout(onSaveTimeout.bind(instance), 50);\n}\n\nexport class UserSettings {\n    constructor() {\n    }\n\n    /**\n     * Bind UserSettings instance to user.\n     * @param {string} - User identifier.\n     * @param {Object} - ApiClient instance.\n     */\n    setUserInfo(userId, apiClient) {\n        if (this.saveTimeout) {\n            clearTimeout(this.saveTimeout);\n        }\n\n        this.currentUserId = userId;\n        this.currentApiClient = apiClient;\n\n        if (!userId) {\n            this.displayPrefs = null;\n            return Promise.resolve();\n        }\n\n        var self = this;\n\n        return apiClient.getDisplayPreferences('usersettings', userId, 'emby').then(function (result) {\n            result.CustomPrefs = result.CustomPrefs || {};\n            self.displayPrefs = result;\n        });\n    }\n\n    // FIXME: Seems unused\n    getData() {\n        return this.displayPrefs;\n    }\n\n    // FIXME: Seems unused\n    importFrom(instance) {\n        this.displayPrefs = instance.getData();\n    }\n\n    // FIXME: 'appSettings.set' doesn't return any value\n    /**\n     * Set value of setting.\n     * @param {string} name - Name of setting.\n     * @param {mixed} value - Value of setting.\n     * @param {boolean} enableOnServer - Flag to save preferences on server.\n     */\n    set(name, value, enableOnServer) {\n        var userId = this.currentUserId;\n        var currentValue = this.get(name, enableOnServer);\n        var result = appSettings.set(name, value, userId);\n\n        if (enableOnServer !== false && this.displayPrefs) {\n            this.displayPrefs.CustomPrefs[name] = value == null ? value : value.toString();\n            saveServerPreferences(this);\n        }\n\n        if (currentValue !== value) {\n            events.trigger(this, 'change', [name]);\n        }\n\n        return result;\n    }\n\n    /**\n     * Get value of setting.\n     * @param {string} name - Name of setting.\n     * @param {boolean} enableOnServer - Flag to return preferences from server (cached).\n     * @return {string} Value of setting.\n     */\n    get(name, enableOnServer) {\n        var userId = this.currentUserId;\n        if (enableOnServer !== false && this.displayPrefs) {\n            return this.displayPrefs.CustomPrefs[name];\n        }\n\n        return appSettings.get(name, userId);\n    }\n\n    /**\n     * Get or set user config.\n     * @param {Object|undefined} config - Configuration or undefined.\n     * @return {Object|Promise} Configuration or Promise.\n     */\n    serverConfig(config) {\n        var apiClient = this.currentApiClient;\n        if (config) {\n            return apiClient.updateUserConfiguration(this.currentUserId, config);\n        }\n\n        return apiClient.getUser(this.currentUserId).then(function (user) {\n            return user.Configuration;\n        });\n    }\n\n    /**\n     * Get or set 'Cinema Mode' state.\n     * @param {boolean|undefined} val - Flag to enable 'Cinema Mode' or undefined.\n     * @return {boolean} 'Cinema Mode' state.\n     */\n    enableCinemaMode(val) {\n        if (val !== undefined) {\n            return this.set('enableCinemaMode', val.toString(), false);\n        }\n\n        val = this.get('enableCinemaMode', false);\n        return val !== 'false';\n    }\n\n    /**\n     * Get or set 'Next Video Info Overlay' state.\n     * @param {boolean|undefined} val - Flag to enable 'Next Video Info Overlay' or undefined.\n     * @return {boolean} 'Next Video Info Overlay' state.\n     */\n    enableNextVideoInfoOverlay(val) {\n        if (val !== undefined) {\n            return this.set('enableNextVideoInfoOverlay', val.toString());\n        }\n\n        val = this.get('enableNextVideoInfoOverlay', false);\n        return val !== 'false';\n    }\n\n    /**\n     * Get or set 'Theme Songs' state.\n     * @param {boolean|undefined} val - Flag to enable 'Theme Songs' or undefined.\n     * @return {boolean} 'Theme Songs' state.\n     */\n    enableThemeSongs(val) {\n        if (val !== undefined) {\n            return this.set('enableThemeSongs', val.toString(), false);\n        }\n\n        val = this.get('enableThemeSongs', false);\n        return val === 'true';\n    }\n\n    /**\n     * Get or set 'Theme Videos' state.\n     * @param {boolean|undefined} val - Flag to enable 'Theme Videos' or undefined.\n     * @return {boolean} 'Theme Videos' state.\n     */\n    enableThemeVideos(val) {\n        if (val !== undefined) {\n            return this.set('enableThemeVideos', val.toString(), false);\n        }\n\n        val = this.get('enableThemeVideos', false);\n        return val === 'true';\n    }\n\n    /**\n     * Get or set 'Fast Fade-in' state.\n     * @param {boolean|undefined} val - Flag to enable 'Fast Fade-in' or undefined.\n     * @return {boolean} 'Fast Fade-in' state.\n     */\n    enableFastFadein(val) {\n        if (val !== undefined) {\n            return this.set('fastFadein', val.toString(), false);\n        }\n\n        val = this.get('fastFadein', false);\n        return val !== 'false';\n    }\n\n    /**\n     * Get or set 'Blurhash' state.\n     * @param {boolean|undefined} val - Flag to enable 'Blurhash' or undefined.\n     * @return {boolean} 'Blurhash' state.\n     */\n    enableBlurhash(val) {\n        if (val !== undefined) {\n            return this.set('blurhash', val.toString(), false);\n        }\n\n        val = this.get('blurhash', false);\n        return val !== 'false';\n    }\n\n    /**\n     * Get or set 'Backdrops' state.\n     * @param {boolean|undefined} val - Flag to enable 'Backdrops' or undefined.\n     * @return {boolean} 'Backdrops' state.\n     */\n    enableBackdrops(val) {\n        if (val !== undefined) {\n            return this.set('enableBackdrops', val.toString(), false);\n        }\n\n        val = this.get('enableBackdrops', false);\n        return val !== 'false';\n    }\n\n    /**\n     * Get or set 'Details Banner' state.\n     * @param {boolean|undefined} val - Flag to enable 'Details Banner' or undefined.\n     * @return {boolean} 'Details Banner' state.\n     */\n    detailsBanner(val) {\n        if (val !== undefined) {\n            return this.set('detailsBanner', val.toString(), false);\n        }\n\n        val = this.get('detailsBanner', false);\n        return val !== 'false';\n    }\n\n    /**\n     * Get or set language.\n     * @param {string|undefined} val - Language.\n     * @return {string} Language.\n     */\n    language(val) {\n        if (val !== undefined) {\n            return this.set('language', val.toString(), false);\n        }\n\n        return this.get('language', false);\n    }\n\n    /**\n     * Get or set datetime locale.\n     * @param {string|undefined} val - Datetime locale.\n     * @return {string} Datetime locale.\n     */\n    dateTimeLocale(val) {\n        if (val !== undefined) {\n            return this.set('datetimelocale', val.toString(), false);\n        }\n\n        return this.get('datetimelocale', false);\n    }\n\n    /**\n     * Get or set Chromecast version.\n     * @param {string|undefined} val - Chromecast version.\n     * @return {string} Chromecast version.\n     */\n    chromecastVersion(val) {\n        if (val !== undefined) {\n            return this.set('chromecastVersion', val.toString());\n        }\n\n        return this.get('chromecastVersion') || 'stable';\n    }\n\n    /**\n     * Get or set amount of rewind.\n     * @param {number|undefined} val - Amount of rewind.\n     * @return {number} Amount of rewind.\n     */\n    skipBackLength(val) {\n        if (val !== undefined) {\n            return this.set('skipBackLength', val.toString());\n        }\n\n        return parseInt(this.get('skipBackLength') || '10000');\n    }\n\n    /**\n     * Get or set amount of fast forward.\n     * @param {number|undefined} val - Amount of fast forward.\n     * @return {number} Amount of fast forward.\n     */\n    skipForwardLength(val) {\n        if (val !== undefined) {\n            return this.set('skipForwardLength', val.toString());\n        }\n\n        return parseInt(this.get('skipForwardLength') || '30000');\n    }\n\n    /**\n     * Get or set theme for Dashboard.\n     * @param {string|undefined} val - Theme for Dashboard.\n     * @return {string} Theme for Dashboard.\n     */\n    dashboardTheme(val) {\n        if (val !== undefined) {\n            return this.set('dashboardTheme', val);\n        }\n\n        return this.get('dashboardTheme');\n    }\n\n    /**\n     * Get or set skin.\n     * @param {string|undefined} val - Skin.\n     * @return {string} Skin.\n     */\n    skin(val) {\n        if (val !== undefined) {\n            return this.set('skin', val, false);\n        }\n\n        return this.get('skin', false);\n    }\n\n    /**\n     * Get or set main theme.\n     * @param {string|undefined} val - Main theme.\n     * @return {string} Main theme.\n     */\n    theme(val) {\n        if (val !== undefined) {\n            return this.set('appTheme', val, false);\n        }\n\n        return this.get('appTheme', false);\n    }\n\n    /**\n     * Get or set screensaver.\n     * @param {string|undefined} val - Screensaver.\n     * @return {string} Screensaver.\n     */\n    screensaver(val) {\n        if (val !== undefined) {\n            return this.set('screensaver', val, false);\n        }\n\n        return this.get('screensaver', false);\n    }\n\n    /**\n     * Get or set library page size.\n     * @param {number|undefined} val - Library page size.\n     * @return {number} Library page size.\n     */\n    libraryPageSize(val) {\n        if (val !== undefined) {\n            return this.set('libraryPageSize', parseInt(val, 10), false);\n        }\n\n        var libraryPageSize = parseInt(this.get('libraryPageSize', false), 10);\n        if (libraryPageSize === 0) {\n            // Explicitly return 0 to avoid returning 100 because 0 is falsy.\n            return 0;\n        } else {\n            return libraryPageSize || 100;\n        }\n    }\n\n    /**\n     * Get or set sound effects.\n     * @param {string|undefined} val - Sound effects.\n     * @return {string} Sound effects.\n     */\n    soundEffects(val) {\n        if (val !== undefined) {\n            return this.set('soundeffects', val, false);\n        }\n\n        return this.get('soundeffects', false);\n    }\n\n    /**\n     * Load query settings.\n     * @param {string} key - Query key.\n     * @param {Object} query - Query base.\n     * @return {Object} Query.\n     */\n    loadQuerySettings(key, query) {\n        var values = this.get(key);\n        if (values) {\n            values = JSON.parse(values);\n            return Object.assign(query, values);\n        }\n\n        return query;\n    }\n\n    /**\n     * Save query settings.\n     * @param {string} key - Query key.\n     * @param {Object} query - Query.\n     */\n    saveQuerySettings(key, query) {\n        var values = {};\n        if (query.SortBy) {\n            values.SortBy = query.SortBy;\n        }\n\n        if (query.SortOrder) {\n            values.SortOrder = query.SortOrder;\n        }\n\n        return this.set(key, JSON.stringify(values));\n    }\n\n    /**\n     * Get subtitle appearance settings.\n     * @param {string|undefined} key - Settings key.\n     * @return {Object} Subtitle appearance settings.\n     */\n    getSubtitleAppearanceSettings(key) {\n        key = key || 'localplayersubtitleappearance3';\n        return JSON.parse(this.get(key, false) || '{}');\n    }\n\n    /**\n     * Set subtitle appearance settings.\n     * @param {Object} value - Subtitle appearance settings.\n     * @param {string|undefined} key - Settings key.\n     */\n    setSubtitleAppearanceSettings(value, key) {\n        key = key || 'localplayersubtitleappearance3';\n        return this.set(key, JSON.stringify(value), false);\n    }\n\n    /**\n     * Set filter.\n     * @param {string} key - Filter key.\n     * @param {string} value - Filter value.\n     */\n    setFilter(key, value) {\n        return this.set(key, value, true);\n    }\n\n    /**\n     * Get filter.\n     * @param {string} key - Filter key.\n     * @return {string} Filter value.\n     */\n    getFilter(key) {\n        return this.get(key, true);\n    }\n}\n\nexport const currentSettings = new UserSettings;\n\n// Wrappers for non-ES6 modules and backward compatibility\nexport const setUserInfo = currentSettings.setUserInfo.bind(currentSettings);\nexport const getData = currentSettings.getData.bind(currentSettings);\nexport const importFrom = currentSettings.importFrom.bind(currentSettings);\nexport const set = currentSettings.set.bind(currentSettings);\nexport const get = currentSettings.get.bind(currentSettings);\nexport const serverConfig = currentSettings.serverConfig.bind(currentSettings);\nexport const enableCinemaMode = currentSettings.enableCinemaMode.bind(currentSettings);\nexport const enableNextVideoInfoOverlay = currentSettings.enableNextVideoInfoOverlay.bind(currentSettings);\nexport const enableThemeSongs = currentSettings.enableThemeSongs.bind(currentSettings);\nexport const enableThemeVideos = currentSettings.enableThemeVideos.bind(currentSettings);\nexport const enableFastFadein = currentSettings.enableFastFadein.bind(currentSettings);\nexport const enableBlurhash = currentSettings.enableBlurhash.bind(currentSettings);\nexport const enableBackdrops = currentSettings.enableBackdrops.bind(currentSettings);\nexport const detailsBanner = currentSettings.detailsBanner.bind(currentSettings);\nexport const language = currentSettings.language.bind(currentSettings);\nexport const dateTimeLocale = currentSettings.dateTimeLocale.bind(currentSettings);\nexport const chromecastVersion = currentSettings.chromecastVersion.bind(currentSettings);\nexport const skipBackLength = currentSettings.skipBackLength.bind(currentSettings);\nexport const skipForwardLength = currentSettings.skipForwardLength.bind(currentSettings);\nexport const dashboardTheme = currentSettings.dashboardTheme.bind(currentSettings);\nexport const skin = currentSettings.skin.bind(currentSettings);\nexport const theme = currentSettings.theme.bind(currentSettings);\nexport const screensaver = currentSettings.screensaver.bind(currentSettings);\nexport const libraryPageSize = currentSettings.libraryPageSize.bind(currentSettings);\nexport const soundEffects = currentSettings.soundEffects.bind(currentSettings);\nexport const loadQuerySettings = currentSettings.loadQuerySettings.bind(currentSettings);\nexport const saveQuerySettings = currentSettings.saveQuerySettings.bind(currentSettings);\nexport const getSubtitleAppearanceSettings = currentSettings.getSubtitleAppearanceSettings.bind(currentSettings);\nexport const setSubtitleAppearanceSettings = currentSettings.setSubtitleAppearanceSettings.bind(currentSettings);\nexport const setFilter = currentSettings.setFilter.bind(currentSettings);\nexport const getFilter = currentSettings.getFilter.bind(currentSettings);\n"]}