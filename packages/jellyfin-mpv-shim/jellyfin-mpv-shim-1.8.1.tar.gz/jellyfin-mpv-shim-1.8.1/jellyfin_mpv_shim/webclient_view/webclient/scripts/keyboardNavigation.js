define(["exports","inputManager","layoutManager"],(function(_exports,_inputManager,_layoutManager){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.getKeyName=getKeyName,_exports.isNavigationKey=isNavigationKey,_exports.enable=enable,_exports.default=void 0,_inputManager=_interopRequireDefault(_inputManager),_layoutManager=_interopRequireDefault(_layoutManager);var KeyNames={13:"Enter",19:"Pause",27:"Escape",32:"Space",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",412:"MediaRewind",413:"MediaStop",415:"MediaPlay",417:"MediaFastForward",461:"Back",10009:"Back",10232:"MediaTrackPrevious",10233:"MediaTrackNext",10252:"MediaPlayPause"},NavigationKeys=["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"],hasFieldKey=!1;try{hasFieldKey="key"in new KeyboardEvent("keydown")}catch(e){console.error("error checking 'key' field")}if(!hasFieldKey)for(var i=65;i<=90;i++)KeyNames[i]=String.fromCharCode(i).toLowerCase();function getKeyName(event){return KeyNames[event.keyCode]||event.key}function isNavigationKey(key){return-1!=NavigationKeys.indexOf(key)}function enable(){window.addEventListener("keydown",(function(e){var key=getKeyName(e);if(_layoutManager.default.tv||!isNavigationKey(key)){var capture=!0;switch(key){case"ArrowLeft":_inputManager.default.handle("left");break;case"ArrowUp":_inputManager.default.handle("up");break;case"ArrowRight":_inputManager.default.handle("right");break;case"ArrowDown":_inputManager.default.handle("down");break;case"Back":_inputManager.default.handle("back");break;case"Escape":_layoutManager.default.tv?_inputManager.default.handle("back"):capture=!1;break;case"MediaPlay":_inputManager.default.handle("play");break;case"Pause":_inputManager.default.handle("pause");break;case"MediaPlayPause":_inputManager.default.handle("playpause");break;case"MediaRewind":_inputManager.default.handle("rewind");break;case"MediaFastForward":_inputManager.default.handle("fastforward");break;case"MediaStop":_inputManager.default.handle("stop");break;case"MediaTrackPrevious":_inputManager.default.handle("previoustrack");break;case"MediaTrackNext":_inputManager.default.handle("nexttrack");break;default:capture=!1}capture&&(console.debug("disabling default event handling"),e.preventDefault())}}))}navigator.getGamepads&&window.addEventListener("gamepadconnected",(function attachGamepadScript(e){console.log("Gamepad connected! Attaching gamepadtokey.js script"),window.removeEventListener("gamepadconnected",attachGamepadScript),require(["scripts/gamepadtokey"])}));var _default={enable:enable,getKeyName:getKeyName,isNavigationKey:isNavigationKey};_exports.default=_default}));
//# sourceMappingURL=keyboardNavigation.js.map
