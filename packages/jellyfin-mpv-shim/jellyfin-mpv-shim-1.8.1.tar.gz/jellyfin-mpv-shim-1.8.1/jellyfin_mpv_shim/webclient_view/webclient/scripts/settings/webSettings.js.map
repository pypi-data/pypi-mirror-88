{"version":3,"sources":["scripts/settings/webSettings.js"],"names":["define","_exports","data","Object","defineProperty","value","enableMultiServer","getConfig","Promise","resolve","fetch","Date","getUTCMilliseconds","then","response","json","catch","error","console","warn","getDefaultConfig","config","multiserver","log"],"mappings":"AAAAA,OAAO,CAAC,YAAY,SAAUC,UAC5B,aADF,IAAIC,KAGFC,OAAOC,eAAeH,SAAU,aAAc,CAC5CI,OAAO,IAETJ,SAASK,kBAcJ,SAASA,oBACZ,OAnBJ,SAASC,YACL,OAAIL,KAAaM,QAAQC,QAAQP,MAC1BQ,MAAM,wBAAyB,IAAIC,MAAOC,sBAAsBC,MAAK,SAAAC,UAExE,OADAZ,KAAOY,SAASC,UAEjBC,OAAM,SAAAC,OAEL,OADAC,QAAQC,KAAK,2DAKrB,SAASC,mBACL,OAAOV,MAAM,wBAAwBG,MAAK,SAAUC,UAEhD,OADAZ,KAAOY,SAASC,UANTK,MAYJb,GAAYM,MAAK,SAAAQ,QACpB,OAAOA,OAAOC,eACfN,OAAM,SAAAC,OAEL,OADAC,QAAQK,IAAI,yBAA0BN,QAC/B","file":"webSettings.js","sourcesContent":["let data;\n\nfunction getConfig() {\n    if (data) return Promise.resolve(data);\n    return fetch('config.json?nocache=' + new Date().getUTCMilliseconds()).then(response => {\n        data = response.json();\n        return data;\n    }).catch(error => {\n        console.warn('web config file is missing so the template will be used');\n        return getDefaultConfig();\n    });\n}\n\nfunction getDefaultConfig() {\n    return fetch('config.template.json').then(function (response) {\n        data = response.json();\n        return data;\n    });\n}\n\nexport function enableMultiServer() {\n    return getConfig().then(config => {\n        return config.multiserver;\n    }).catch(error => {\n        console.log('cannot get web config:', error);\n        return false;\n    });\n}\n"]}