{"version":3,"sources":["scripts/themeLoader.js"],"names":["define","userSettings","skinManager","connectionManager","events","currentViewType","pageClassOn","theme","context","classList","this","viewType","contains","dashboardTheme","setTheme","on","e","user"],"mappings":"AAAA,aAAAA,OAAO,CAAC,eAAgB,cAAe,oBAAqB,WAAW,SAAUC,aAAcC,YAAaC,kBAAmBC,QAG3H,IAAIC,gBACJC,YAAY,iBAAkB,QAAQ,WAClC,IAKQC,MACAC,QANJC,UAAYC,KAAKD,UACjBE,SAAWF,UAAUG,SAAS,kBAAoBH,UAAUG,SAAS,cAAgB,IAAM,IAE3FD,WAAaN,kBACbA,gBAAkBM,SAId,MAAQA,UACRJ,MAAQN,aAAaY,iBACrBL,QAAU,mBAEVD,MAAQN,aAAaM,QAGzBL,YAAYY,SAASP,MAAOC,aAGpCJ,OAAOW,GAAGZ,kBAAmB,qBAAqB,SAAUa,EAAGC,MAC3DZ,gBAAkB","file":"themeLoader.js","sourcesContent":["define(['userSettings', 'skinManager', 'connectionManager', 'events'], function (userSettings, skinManager, connectionManager, events) {\n    'use strict';\n\n    var currentViewType;\n    pageClassOn('viewbeforeshow', 'page', function () {\n        var classList = this.classList;\n        var viewType = classList.contains('type-interior') || classList.contains('wizardPage') ? 'a' : 'b';\n\n        if (viewType !== currentViewType) {\n            currentViewType = viewType;\n            var theme;\n            var context;\n\n            if ('a' === viewType) {\n                theme = userSettings.dashboardTheme();\n                context = 'serverdashboard';\n            } else {\n                theme = userSettings.theme();\n            }\n\n            skinManager.setTheme(theme, context);\n        }\n    });\n    events.on(connectionManager, 'localusersignedin', function (e, user) {\n        currentViewType = null;\n    });\n});\n"]}