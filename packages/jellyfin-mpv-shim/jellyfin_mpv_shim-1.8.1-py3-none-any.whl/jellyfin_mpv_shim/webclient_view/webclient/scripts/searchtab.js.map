{"version":3,"sources":["scripts/searchtab.js"],"names":["define","SearchFields","SearchResults","events","SearchTab","view","tabContent","options","init","instance","innerHTML","searchFields","element","querySelector","searchResults","serverId","ApiClient","parentId","collectionType","on","e","value","search","this","preRender","renderTab","focus","prototype","destroy"],"mappings":"AAAA,aAAAA,OAAO,CAAC,eAAgB,gBAAiB,WAAW,SAAUC,aAAcC,cAAeC,QAmBvF,SAASC,UAAUC,KAAMC,WAAYC,UAhBrC,SAASC,KAAKC,SAAUH,WAAYC,SAChCD,WAAWI,UAAY,mIACvBD,SAASE,aAAe,IAAIV,aAAa,CACrCW,QAASN,WAAWO,cAAc,mBAEtCJ,SAASK,cAAgB,IAAIZ,cAAc,CACvCU,QAASN,WAAWO,cAAc,kBAClCE,SAAUC,UAAUD,WACpBE,SAAUV,QAAQU,SAClBC,eAAgBX,QAAQW,iBAE5Bf,OAAOgB,GAAGV,SAASE,aAAc,UAAU,SAAUS,EAAGC,OACpDZ,SAASK,cAAcQ,OAAOD,WAOlCb,CAAKe,KAAMjB,WADXC,QAAUA,SAAW,IADVgB,KAINC,UAAY,aAJND,KAMNE,UAAY,WACb,IAAId,aAAeY,KAAKZ,aAEpBA,cACAA,aAAae,SAsBzB,OAjBAtB,UAAUuB,UAAUC,QAAU,WAC1B,IAAIjB,aAAeY,KAAKZ,aAEpBA,cACAA,aAAaiB,UAGjBL,KAAKZ,aAAe,KACpB,IAAIG,cAAgBS,KAAKT,cAErBA,eACAA,cAAcc,UAGlBL,KAAKT,cAAgB,MAGlBV","file":"searchtab.js","sourcesContent":["define(['searchFields', 'searchResults', 'events'], function (SearchFields, SearchResults, events) {\n    'use strict';\n\n    function init(instance, tabContent, options) {\n        tabContent.innerHTML = '<div class=\"padded-left padded-right searchFields\"></div><div class=\"searchResults padded-top\" style=\"padding-top:1.5em;\"></div>';\n        instance.searchFields = new SearchFields({\n            element: tabContent.querySelector('.searchFields')\n        });\n        instance.searchResults = new SearchResults({\n            element: tabContent.querySelector('.searchResults'),\n            serverId: ApiClient.serverId(),\n            parentId: options.parentId,\n            collectionType: options.collectionType\n        });\n        events.on(instance.searchFields, 'search', function (e, value) {\n            instance.searchResults.search(value);\n        });\n    }\n\n    function SearchTab(view, tabContent, options) {\n        var self = this;\n        options = options || {};\n        init(this, tabContent, options);\n\n        self.preRender = function () {};\n\n        self.renderTab = function () {\n            var searchFields = this.searchFields;\n\n            if (searchFields) {\n                searchFields.focus();\n            }\n        };\n    }\n\n    SearchTab.prototype.destroy = function () {\n        var searchFields = this.searchFields;\n\n        if (searchFields) {\n            searchFields.destroy();\n        }\n\n        this.searchFields = null;\n        var searchResults = this.searchResults;\n\n        if (searchResults) {\n            searchResults.destroy();\n        }\n\n        this.searchResults = null;\n    };\n\n    return SearchTab;\n});\n"]}