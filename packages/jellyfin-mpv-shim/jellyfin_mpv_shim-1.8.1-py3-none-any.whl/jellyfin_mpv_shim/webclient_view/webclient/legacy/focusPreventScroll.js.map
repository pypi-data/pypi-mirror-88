{"version":3,"sources":["legacy/focusPreventScroll.js"],"names":["undefined","HTMLElement","prototype","nativeFocus","supportsPreventScrollOption","focusElem","document","createElement","addEventListener","event","preventDefault","stopPropagation","opts","Object","defineProperty","get","focus","e","console","error","options","scrollX","window","scrollY","this","preventScroll","scroll"],"mappings":"AAAA,kBAE0CA,IAAtCC,YAAYC,UAAUC,aACtB,WACI,IAAIC,6BAA8B,EAClC,IACI,IAAIC,UAAYC,SAASC,cAAc,OAEvCF,UAAUG,iBAAiB,SAAS,SAASC,OACzCA,MAAMC,iBACND,MAAME,qBACP,GAEH,IAAIC,KAAOC,OAAOC,eAAe,GAAI,gBAAiB,CAElDC,IAAK,SAAAA,MACDX,6BAA8B,KAItCC,UAAUW,MAAMJ,MAClB,MAAOK,GACLC,QAAQC,MAAM,wCAGbf,8BACDH,YAAYC,UAAUC,YAAcF,YAAYC,UAAUc,MAE1Df,YAAYC,UAAUc,MAAQ,SAASI,SACnC,IAAIC,QAAUC,OAAOD,QACjBE,QAAUD,OAAOC,QAErBC,KAAKrB,cAGDiB,SAAWA,QAAQK,eACnBH,OAAOI,OAAOL,QAASE,WAjCvC","file":"focusPreventScroll.js","sourcesContent":["// Polyfill to add support for preventScroll by focus function\n\nif (HTMLElement.prototype.nativeFocus === undefined) {\n    (function () {\n        var supportsPreventScrollOption = false;\n        try {\n            var focusElem = document.createElement('div');\n\n            focusElem.addEventListener('focus', function(event) {\n                event.preventDefault();\n                event.stopPropagation();\n            }, true);\n\n            var opts = Object.defineProperty({}, 'preventScroll', {\n                // eslint-disable-next-line getter-return\n                get: function () {\n                    supportsPreventScrollOption = true;\n                }\n            });\n\n            focusElem.focus(opts);\n        } catch (e) {\n            console.error('error checking preventScroll support');\n        }\n\n        if (!supportsPreventScrollOption) {\n            HTMLElement.prototype.nativeFocus = HTMLElement.prototype.focus;\n\n            HTMLElement.prototype.focus = function(options) {\n                var scrollX = window.scrollX;\n                var scrollY = window.scrollY;\n\n                this.nativeFocus();\n\n                // Restore window scroll if preventScroll\n                if (options && options.preventScroll) {\n                    window.scroll(scrollX, scrollY);\n                }\n            };\n        }\n    })();\n}\n"]}