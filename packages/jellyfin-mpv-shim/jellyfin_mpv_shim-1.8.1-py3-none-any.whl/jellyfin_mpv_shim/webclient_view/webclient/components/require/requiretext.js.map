{"version":3,"sources":["components/require/requiretext.js"],"names":["define","addRedirectPrevention","self","dashboardVersion","Dashboard","AppInfo","isNativeApp","load","url","req","config","indexOf","baseUrl","urlArgs","xhr","XMLHttpRequest","open","onload","e","this","response","send","normalize","name"],"mappings":"AAAA,aAAAA,QAAO,WAIH,IAAIC,sBAAiD,MAAzBC,KAAKC,kBAA4BD,KAAKE,YAAcF,KAAKG,QAAQC,YAE7F,MAAO,CAEHC,KAAM,SAAAA,KAAUC,IAAKC,IAAKF,MAAMG,SAEA,IAAxBF,IAAIG,QAAQ,SACZH,IAAME,OAAOE,QAAUJ,KAGvBE,OAAOG,UACPL,KAAOE,OAAOG,QAAQL,IAAKA,MAG3BP,yBAC0B,IAAtBO,IAAIG,QAAQ,KACZH,KAAO,IAEPA,KAAO,IAGXA,KAAO,OAGX,IAAIM,IAAM,IAAIC,eACdD,IAAIE,KAAK,MAAOR,KAAK,GAErBM,IAAIG,OAAS,SAAUC,GACnBX,MAAKY,KAAKC,WAGdN,IAAIO,QAGRC,UAAW,SAAAA,UAAUC,KAAMD,YACvB,OAAOA,WAAUC","file":"requiretext.js","sourcesContent":["define(function () {\n    'use strict';\n\n    // hack to work around the server's auto-redirection feature\n    var addRedirectPrevention = self.dashboardVersion != null && self.Dashboard && !self.AppInfo.isNativeApp;\n\n    return {\n\n        load: function (url, req, load, config) {\n\n            if (url.indexOf('://') === -1) {\n                url = config.baseUrl + url;\n            }\n\n            if (config.urlArgs) {\n                url += config.urlArgs(url, url);\n            }\n\n            if (addRedirectPrevention) {\n                if (url.indexOf('?') === -1) {\n                    url += '?';\n                } else {\n                    url += '&';\n                }\n\n                url += 'r=0';\n            }\n\n            var xhr = new XMLHttpRequest();\n            xhr.open('GET', url, true);\n\n            xhr.onload = function (e) {\n                load(this.response);\n            };\n\n            xhr.send();\n        },\n\n        normalize: function (name, normalize) {\n            return normalize(name);\n        }\n    };\n});\n"]}