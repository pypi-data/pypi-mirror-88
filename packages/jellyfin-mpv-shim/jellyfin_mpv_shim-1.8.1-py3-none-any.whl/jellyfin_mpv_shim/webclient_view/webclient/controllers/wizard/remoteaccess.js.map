{"version":3,"sources":["controllers/wizard/remoteaccess.js"],"names":["define","loading","save","page","show","apiClient","ApiClient","config","EnableRemoteAccess","querySelector","checked","EnableAutomaticPortMapping","ajax","type","data","url","getUrl","then","hide","navigateToNextPage","Dashboard","navigate","onSubmit","e","this","preventDefault","view","params","addEventListener","document","classList","add","remove"],"mappings":"AAAA,aAAAA,OAAO,CAAC,UAAW,gBAAiB,cAAe,gBAAgB,SAAUC,SAGzE,SAASC,KAAKC,MACVF,QAAQG,OACR,IAAIC,UAAYC,UACZC,OAAS,GACbA,OAAOC,mBAAqBL,KAAKM,cAAc,oBAAoBC,QACnEH,OAAOI,2BAA6BR,KAAKM,cAAc,kBAAkBC,QACzEL,UAAUO,KAAK,CACXC,KAAM,OACNC,KAAMP,OACNQ,IAAKV,UAAUW,OAAO,0BACvBC,MAAK,WACJhB,QAAQiB,OAKhB,SAASC,qBACLC,UAAUC,SAAS,qBALfF,MAQR,SAASG,SAASC,GAGd,OAFArB,KAAKsB,MACLD,EAAEE,kBACK,EAGX,OAAO,SAAUC,KAAMC,QACnBD,KAAKjB,cAAc,uBAAuBmB,iBAAiB,SAAUN,UACrEI,KAAKE,iBAAiB,YAAY,WAC9BC,SAASpB,cAAc,eAAeqB,UAAUC,IAAI,yBAExDL,KAAKE,iBAAiB,YAAY,WAC9BC,SAASpB,cAAc,eAAeqB,UAAUE,OAAO","file":"remoteaccess.js","sourcesContent":["define(['loading', 'emby-checkbox', 'emby-button', 'emby-select'], function (loading) {\n    'use strict';\n\n    function save(page) {\n        loading.show();\n        var apiClient = ApiClient;\n        var config = {};\n        config.EnableRemoteAccess = page.querySelector('#chkRemoteAccess').checked;\n        config.EnableAutomaticPortMapping = page.querySelector('#chkEnableUpnp').checked;\n        apiClient.ajax({\n            type: 'POST',\n            data: config,\n            url: apiClient.getUrl('Startup/RemoteAccess')\n        }).then(function () {\n            loading.hide();\n            navigateToNextPage();\n        });\n    }\n\n    function navigateToNextPage() {\n        Dashboard.navigate('wizardfinish.html');\n    }\n\n    function onSubmit(e) {\n        save(this);\n        e.preventDefault();\n        return false;\n    }\n\n    return function (view, params) {\n        view.querySelector('.wizardSettingsForm').addEventListener('submit', onSubmit);\n        view.addEventListener('viewshow', function () {\n            document.querySelector('.skinHeader').classList.add('noHomeButtonHeader');\n        });\n        view.addEventListener('viewhide', function () {\n            document.querySelector('.skinHeader').classList.remove('noHomeButtonHeader');\n        });\n    };\n});\n"]}