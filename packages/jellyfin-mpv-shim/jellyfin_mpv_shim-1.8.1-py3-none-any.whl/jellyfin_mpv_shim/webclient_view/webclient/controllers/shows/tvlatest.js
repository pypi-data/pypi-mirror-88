"use strict";define(["loading","components/groupedcards","cardBuilder","apphost","imageLoader"],(function(loading,groupedcards,cardBuilder,appHost,imageLoader){return function(view,params,tabContent){var latestPromise;this.preRender=function(){latestPromise=function getLatestPromise(context,params){loading.show();var userId=ApiClient.getCurrentUserId(),options={IncludeItemTypes:"Episode",Limit:30,Fields:"PrimaryImageAspectRatio,BasicSyncInfo",ParentId:params.topParentId,ImageTypeLimit:1,EnableImageTypes:"Primary,Backdrop,Thumb"};return ApiClient.getJSON(ApiClient.getUrl("Users/"+userId+"/Items/Latest",options))}(0,params)},this.renderTab=function(){!function loadLatest(context,params,promise){promise.then((function(items){var html="";appHost.supports("imageanalysis"),html+=cardBuilder.getCardsHtml({items:items,shape:"backdrop",preferThumb:!0,showTitle:!0,showSeriesYear:!0,showParentTitle:!0,overlayText:!1,cardLayout:!1,showUnplayedIndicator:!1,showChildCountIndicator:!0,centerText:!0,lazy:!0,overlayPlayButton:!0,lines:2});var elem=context.querySelector("#latestEpisodes");elem.innerHTML=html,imageLoader.lazyChildren(elem),loading.hide(),require(["autoFocuser"],(function(autoFocuser){autoFocuser.autoFocus(context)}))}))}(tabContent,0,latestPromise)},tabContent.querySelector("#latestEpisodes").addEventListener("click",groupedcards.onItemsContainerClick)}}));
//# sourceMappingURL=tvlatest.js.map
