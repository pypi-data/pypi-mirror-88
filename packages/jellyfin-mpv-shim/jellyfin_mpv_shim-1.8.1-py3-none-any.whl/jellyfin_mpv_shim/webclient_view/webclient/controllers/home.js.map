{"version":3,"sources":["controllers/home.js"],"names":["define","TabbedView","globalize","require","HomeView","view","params","call","this","Object","assign","prototype","getTabs","name","translate","getDefaultTabIndex","getTabController","index","Error","depends","push","instance","getRequirePromise","deps","Promise","resolve","reject","then","controllerFactory","controller","tabControllers","querySelector","setTitle","Emby","Page","onPause","document","classList","remove","onResume","options","add"],"mappings":"AAAA,aAAAA,OAAO,CAAC,aAAc,YAAa,UAAW,YAAa,cAAe,kBAAkB,SAAUC,WAAYC,UAAWC,SAkDzH,SAASC,SAASC,KAAMC,QACpBL,WAAWM,KAAKC,KAAMH,KAAMC,QAsBhC,OAnBAG,OAAOC,OAAON,SAASO,UAAWV,WAAWU,WAC7CP,SAASO,UAAUC,QApDnB,SAASA,UACL,MAAO,CAAC,CACJC,KAAMX,UAAUY,UAAU,SAC3B,CACCD,KAAMX,UAAUY,UAAU,gBAiDlCV,SAASO,UAAUI,mBA7CnB,SAASA,qBACL,OAAO,GA6CXX,SAASO,UAAUK,iBApCnB,SAASA,iBAAiBC,OACtB,GAAI,MAAQA,MACR,MAAM,IAAIC,MAAM,wBAGpB,IAAIC,QAAU,GAEd,OAAQF,OACJ,KAAK,EACDE,QAAQC,KAAK,uBACb,MAEJ,KAAK,EACDD,QAAQC,KAAK,yBAGrB,IAAIC,SAAWb,KACf,OAvBJ,SAASc,kBAAkBC,MACvB,OAAO,IAAIC,SAAQ,SAAUC,QAASC,QAClCvB,QAAQoB,KAAME,YAqBXH,CAAkBH,SAASQ,MAAK,SAAUC,mBAC7C,IAAIC,WAAaR,SAASS,eAAeb,OAOzC,OALKY,aACDA,WAAa,IAAID,kBAAkBP,SAAShB,KAAK0B,cAAc,2BAA6Bd,MAAQ,MAAOI,SAASf,QACpHe,SAASS,eAAeb,OAASY,YAG9BA,eAafzB,SAASO,UAAUqB,SAAW,WAC1BC,KAAKC,KAAKF,SAAS,OAGvB5B,SAASO,UAAUwB,QAAU,WACzBlC,WAAWU,UAAUwB,QAAQ5B,KAAKC,MAClC4B,SAASL,cAAc,eAAeM,UAAUC,OAAO,uBAG3DlC,SAASO,UAAU4B,SAAW,SAAUC,SACpCvC,WAAWU,UAAU4B,SAAShC,KAAKC,KAAMgC,SACzCJ,SAASL,cAAc,eAAeM,UAAUI,IAAI,uBAGjDrC","file":"home.js","sourcesContent":["define(['tabbedView', 'globalize', 'require', 'emby-tabs', 'emby-button', 'emby-scroller'], function (TabbedView, globalize, require) {\n    'use strict';\n\n    function getTabs() {\n        return [{\n            name: globalize.translate('Home')\n        }, {\n            name: globalize.translate('Favorites')\n        }];\n    }\n\n    function getDefaultTabIndex() {\n        return 0;\n    }\n\n    function getRequirePromise(deps) {\n        return new Promise(function (resolve, reject) {\n            require(deps, resolve);\n        });\n    }\n\n    function getTabController(index) {\n        if (null == index) {\n            throw new Error('index cannot be null');\n        }\n\n        var depends = [];\n\n        switch (index) {\n            case 0:\n                depends.push('controllers/hometab');\n                break;\n\n            case 1:\n                depends.push('controllers/favorites');\n        }\n\n        var instance = this;\n        return getRequirePromise(depends).then(function (controllerFactory) {\n            var controller = instance.tabControllers[index];\n\n            if (!controller) {\n                controller = new controllerFactory(instance.view.querySelector(\".tabContent[data-index='\" + index + \"']\"), instance.params);\n                instance.tabControllers[index] = controller;\n            }\n\n            return controller;\n        });\n    }\n\n    function HomeView(view, params) {\n        TabbedView.call(this, view, params);\n    }\n\n    Object.assign(HomeView.prototype, TabbedView.prototype);\n    HomeView.prototype.getTabs = getTabs;\n    HomeView.prototype.getDefaultTabIndex = getDefaultTabIndex;\n    HomeView.prototype.getTabController = getTabController;\n\n    HomeView.prototype.setTitle = function () {\n        Emby.Page.setTitle(null);\n    };\n\n    HomeView.prototype.onPause = function () {\n        TabbedView.prototype.onPause.call(this);\n        document.querySelector('.skinHeader').classList.remove('noHomeButtonHeader');\n    };\n\n    HomeView.prototype.onResume = function (options) {\n        TabbedView.prototype.onResume.call(this, options);\n        document.querySelector('.skinHeader').classList.add('noHomeButtonHeader');\n    };\n\n    return HomeView;\n});\n"]}