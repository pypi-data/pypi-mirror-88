{"version":3,"sources":["controllers/auth/forgotpassword.js"],"names":["define","globalize","processForgotPasswordResult","result","Action","msg","translate","PinFile","Dashboard","alert","message","title","callback","navigate","view","params","querySelector","addEventListener","onSubmit","e","ApiClient","ajax","type","url","getUrl","dataType","data","EnteredUsername","value","then","preventDefault"],"mappings":"AAAA,aAAAA,OAAO,CAAC,cAAc,SAAUC,WAG5B,SAASC,4BAA4BC,QACjC,GAAI,gBAAkBA,OAAOC,OAO7B,GAAI,qBAAuBD,OAAOC,QAOlC,GAAI,WAAaD,OAAOC,OAAQ,CAC5B,IAAIC,IAAMJ,UAAUK,UAAU,oCAO9B,OANAD,KAAO,QACPA,KAAO,QACPA,KAAO,+CACPA,KAAO,QACPA,KAAOF,OAAOI,QACdF,KAAO,aACKG,UAAUC,MAAM,CACxBC,QAASL,IACTM,MAAOV,UAAUK,UAAU,wBAC3BM,SAAU,SAAAA,WACNJ,UAAUK,SAAS,mCAlBfL,UAAUC,MAAM,CACxBC,QAAST,UAAUK,UAAU,0CAC7BK,MAAOV,UAAUK,UAAU,+BATnBE,UAAUC,MAAM,CACxBC,QAAST,UAAUK,UAAU,sCAC7BK,MAAOV,UAAUK,UAAU,0BA6BvC,OAAO,SAAUQ,KAAMC,QAcnBD,KAAKE,cAAc,QAAQC,iBAAiB,UAb5C,SAASC,SAASC,GAUd,OATAC,UAAUC,KAAK,CACXC,KAAM,OACNC,IAAKH,UAAUI,OAAO,wBACtBC,SAAU,OACVC,KAAM,CACFC,gBAAiBb,KAAKE,cAAc,YAAYY,SAErDC,KAAK3B,6BACRiB,EAAEW,kBACK","file":"forgotpassword.js","sourcesContent":["define(['globalize'], function (globalize) {\n    'use strict';\n\n    function processForgotPasswordResult(result) {\n        if ('ContactAdmin' == result.Action) {\n            return void Dashboard.alert({\n                message: globalize.translate('MessageContactAdminToResetPassword'),\n                title: globalize.translate('HeaderForgotPassword')\n            });\n        }\n\n        if ('InNetworkRequired' == result.Action) {\n            return void Dashboard.alert({\n                message: globalize.translate('MessageForgotPasswordInNetworkRequired'),\n                title: globalize.translate('HeaderForgotPassword')\n            });\n        }\n\n        if ('PinCode' == result.Action) {\n            var msg = globalize.translate('MessageForgotPasswordFileCreated');\n            msg += '<br/>';\n            msg += '<br/>';\n            msg += 'Enter PIN here to finish Password Reset<br/>';\n            msg += '<br/>';\n            msg += result.PinFile;\n            msg += '<br/>';\n            return void Dashboard.alert({\n                message: msg,\n                title: globalize.translate('HeaderForgotPassword'),\n                callback: function () {\n                    Dashboard.navigate('forgotpasswordpin.html');\n                }\n            });\n        }\n    }\n\n    return function (view, params) {\n        function onSubmit(e) {\n            ApiClient.ajax({\n                type: 'POST',\n                url: ApiClient.getUrl('Users/ForgotPassword'),\n                dataType: 'json',\n                data: {\n                    EnteredUsername: view.querySelector('#txtName').value\n                }\n            }).then(processForgotPasswordResult);\n            e.preventDefault();\n            return false;\n        }\n\n        view.querySelector('form').addEventListener('submit', onSubmit);\n    };\n});\n"]}